{"version":3,"sources":["config/Fire.js","components/studio/Row.js","components/studio/Synthesiser.js","components/studio/Sequencer.js","components/Chat.js","components/studio/Room.js","components/Login.js","components/crudForms/SequencerForm.js","components/crudForms/RoomForm.js","components/JoinRoom.js","components/RoomLinks.js","components/Home.js","components/Profile.js","Routes.js","serviceWorker.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Row","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","user","auth","currentUser","state","id","rowID","instrument","tone","activeCol","collaborators","userID","uid","_updateTile","bind","assertThisInitialized","_getClassNames","lightCol","_this2","firestore","collection","doc","onSnapshot","snapshot","setState","data","row","i","push","react_default","a","createElement","onClick","includes","key","className","result","e","changedTone","slice","target","update","buildRow","Row_Music","activate","Component","Music","_this3","loop","play","_this4","link","process","drum","Tone","Players","defineProperty","volume","toMaster","Sequence","time","col","get","start","Draw","schedule","Synthesiser","synthID","tones","rows","noteArray","scale","octave","root","chorus","chorusAmount","reverb","reverbAmount","delay","delayAmount","vol","volAmount","_onScale","_onOctave","_onRoot","_handleChorus","_handleReverb","_handleDelay","_handleVol","scaleChoice","note","console","log","map","transpose","reverse","row0","row1","row2","row3","row4","row5","row6","polySynth","PolySynth","Synth","oscillator","type","pingPong","PingPongDelay","delayTime","feedback","wet","Chorus","frequency","depth","Freeverb","roomSize","dampening","Volume","chain","Master","length","triggerAttackRelease","prevProps","prevState","value","clearTimeout","setTimeout","_this5","_this6","j","column","concat","rownum","colnum","indexOf","changedNote","Fragment","onChange","min","max","createSynth","Sequencer","seqID","name","isSynth","createRows","then","exists","studio_Synthesiser","studio_Row","ChatRoom","context","chatToggle","shrinkRoom","showMenu","updateMessage","submitMessage","message","messages","userName","displayName","roomID","database","ref","on","currentMessages","val","preventDefault","nextMessage","text","set","currentMessage","chatVis","class","onSubmit","index_es","forceScroll","placeholder","Room","Transport","stop","cancel","match","params","room","sequencers","transport","tempo","swing","pincode","createSequences","_playMusic","_changeTempo","_changeSwing","password","bpm","sequencer","studio_Sequencer","toggle","changeTransport","newTempo","newSwing","b","react_router_dom","to","Chat","react_router","Login","login","handleChange","signup","email","signInWithEmailAndPassword","u","catch","error","createUserWithEmailAndPassword","updateProfile","rooms","reactjs_popup_es","trigger","position","SequencerForm","_handleChange","sequenceSelect","RoomForm","roomName","sequName","selectedRows","redirectLink","_handleSubmit","_handleName","_handleSequ","toConsumableArray","Array","Math","random","toString","join","toUpperCase","getPassword","Promise","all","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","add","_x","apply","arguments","sequID","roomArr","crudForms_SequencerForm","JoinRoom","_handlePassword","joinRoom","docs","forEach","collab","newCollabs","RoomLinks","roomIDs","generateLinks","roomLinks","Home","roomForm","initial","userNameShorten","logout","_onCreate","_onJoin","_onCollab","signOut","letter","charAt","crudForms_RoomForm","components_RoomLinks","components_JoinRoom","Profile","deleteUser","submit","authUser","s","alert","c","reauthenticateWithCredential","delete","d","Routes","authListener","onAuthStateChanged","localStorage","setItem","removeItem","exact","path","component","from","Boolean","window","location","hostname","ReactDOM","render","src_Routes","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"uUAeeA,SADFC,EAASC,cAXD,CACpBC,OAAQ,0CACRC,WAAY,sCACZC,YAAa,6CACbC,UAAW,sBACXC,cAAe,kCACfC,kBAAmB,eACnBC,MAAO,gECLFC,qBACJ,SAAAA,EAAYC,GAAM,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GAChBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,IACN,IAAMQ,EAAKnB,EAAKoB,OAAOC,YAFP,OAIhBT,EAAKU,MAAQ,CACXC,GAAIX,EAAKD,MAAMa,MACfC,WAAY,GACZC,KAAM,GACNC,WAAY,EACZC,cAAehB,EAAKD,MAAMiB,cAC1BC,OAAQV,EAAKW,KAEflB,EAAKmB,YAAcnB,EAAKmB,YAAYC,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACnBA,EAAKsB,eAAiBtB,EAAKsB,eAAeF,KAApBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACtBA,EAAKuB,SAAWvB,EAAKuB,SAASH,KAAdnB,OAAAoB,EAAA,EAAApB,CAAAD,IAdAA,mFAiBC,IAAAwB,EAAArB,KACjBf,EAAKqC,YAAYC,WAAW,OAAOC,IAAIxB,KAAKO,MAAMC,IAAIiB,WAAY,SAACC,GACjEL,EAAKM,SAAS,CACZjB,WAAYgB,EAASE,OAAOlB,WAC5BC,KAAMe,EAASE,OAAOjB,4CAQxB,IADF,IAAMkB,EAAM,GACDC,EAAI,EAAGA,EAAI,GAAIA,IAGtBD,EAAIE,KAAKC,EAAAC,EAAAC,cAAA,OAAKC,QAASnC,KAAKO,MAAMM,cAAcuB,SAASpC,KAAKO,MAAMO,QAAUd,KAAKgB,YAAc,GAAKR,GAAIsB,EAAGO,IAAKP,EAAGQ,UAAWtC,KAAKmB,eAAeW,MAExJ,OAAOD,yCAIMC,GACb,IAAIS,EAAS,WASb,OAPIvC,KAAKO,MAAMI,KAAKmB,KACjBS,GAAU,aAGTT,IAAM9B,KAAKO,MAAMK,YACnB2B,GAAU,gBAELA,sCAIGC,GACV,IAAMC,EAAczC,KAAKO,MAAMI,KAAK+B,QACpCD,EAAYD,EAAEG,OAAOnC,KAAOiC,EAAYD,EAAEG,OAAOnC,IAEjDvB,EAAKqC,YAAYC,WAAW,OAAOC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CAC3DjC,KAAM8B,qCAMDX,GACP9B,KAAK2B,SAAS,CACZf,UAAWkB,qCAKb,OACEE,EAAAC,EAAAC,cAAA,OAAKI,UAAU,iBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAAf,IAA6BtC,KAAKO,MAAMG,WAAxC,KACCV,KAAK6C,WAEJ7C,KAAKO,MAAMG,WAAasB,EAAAC,EAAAC,cAACY,EAAD,CAAOnC,KAAMX,KAAKO,MAAMI,KAAMD,WAAYV,KAAKO,MAAMG,WAAYqC,SAAU/C,KAAKoB,WAAc,WA5E9G4B,cAmFZC,cACJ,SAAAA,EAAYrD,GAAM,IAAAsD,EAAA,OAAApD,OAAAC,EAAA,EAAAD,CAAAE,KAAAiD,IAChBC,EAAApD,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmD,GAAA9C,KAAAH,KAAMJ,KAEDW,MAAO,CACV4C,KAAM,GACNC,KAAM,IALQF,mFASC,IAAAG,EAAArD,KAGXsD,EAAOC,wBAAsCvD,KAAKJ,MAAMc,WAAa,OAErE8C,EAAO,IAAIC,IAAKC,QAAT5D,OAAA6D,EAAA,EAAA7D,CAAA,GACVE,KAAKJ,MAAMc,WAAc4C,GACzB,CACDM,QAAW,IACVC,WAEGV,EAAO,IAAIM,IAAKK,SAAU,SAACC,EAAMC,GAClCX,EAAKzD,MAAMe,KAAKqD,IAEjBR,EAAKS,IAAIZ,EAAKzD,MAAMc,YAAYwD,MAAMH,GAIxCN,IAAKU,KAAKC,SAAU,WAElBf,EAAKzD,MAAMmD,SAASiB,IACnBD,IAEF,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,OAE3DZ,EAAKe,MAAM,GAEXlE,KAAK2B,SAAS,CACZwB,KAAMA,qCAMR,OACEnB,EAAAC,EAAAC,cAAA,mBA7Ccc,aAkDLrD,YC0MA0E,cA9Ub,SAAAA,EAAYzE,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqE,IAChBxE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuE,GAAAlE,KAAAH,KAAMJ,KACDW,MAAO,CACVC,GAAIX,EAAKD,MAAM0E,QACfnB,KAAM,GACNoB,MAAO1E,EAAKD,MAAM4E,KAClBC,UAAW,GACXC,MAAO,GACPC,OAAQ,GACRC,KAAM,GACNC,OAAQ,GACRC,aAAc,EACdC,OAAQ,GACRC,aAAc,EACdC,MAAO,GACPC,YAAa,EACbC,IAAK,GACLC,WAAY,IAEdvF,EAAKmB,YAAcnB,EAAKmB,YAAYC,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACnBA,EAAKwF,SAAWxF,EAAKwF,SAASpE,KAAdnB,OAAAoB,EAAA,EAAApB,CAAAD,IAChBA,EAAKyF,UAAYzF,EAAKyF,UAAUrE,KAAfnB,OAAAoB,EAAA,EAAApB,CAAAD,IACjBA,EAAK0F,QAAU1F,EAAK0F,QAAQtE,KAAbnB,OAAAoB,EAAA,EAAApB,CAAAD,IACfA,EAAK2F,cAAgB3F,EAAK2F,cAAcvE,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrBA,EAAK4F,cAAgB5F,EAAK4F,cAAcxE,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrBA,EAAK6F,aAAe7F,EAAK6F,aAAazE,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACpBA,EAAK8F,WAAa9F,EAAK8F,WAAW1E,KAAhBnB,OAAAoB,EAAA,EAAApB,CAAAD,IA1BFA,mFA6BE,IAAAwB,EAAArB,KAElBf,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIiB,WAAY,SAACC,GACzE,IAAME,EAAOF,EAASE,OAChBgE,EAAchE,EAAK8C,MACnBmB,EAAOjE,EAAKgD,KAAOhD,EAAK+C,OAC9BmB,QAAQC,IAAIF,GACZxE,EAAKM,SAAS,CACZ8C,UAAWC,YAAMkB,GAAaI,IAAIC,YAAUJ,IAAOK,UACnD3B,MAAO,CACL3C,EAAKuE,KACLvE,EAAKwE,KACLxE,EAAKyE,KACLzE,EAAK0E,KACL1E,EAAK2E,KACL3E,EAAK4E,KACL5E,EAAK6E,MAEP/B,MAAO9C,EAAK8C,MACZC,OAAQ/C,EAAK+C,OACbC,KAAMhD,EAAKgD,KACXE,aAAclD,EAAKiD,OACnBK,YAAatD,EAAKqD,MAClBD,aAAcpD,EAAKmD,OACnBK,UAAWxD,EAAKgC,WAOpB,IAAM8C,EAAY,IAAIjD,IAAKkD,UAAU,EAAGlD,IAAKmD,MAAO,CAClDC,WAAe,CAAEC,KAAS,QAC1BlD,QAAW,IAITmD,EAAW,IAAItD,IAAKuD,cAAc,CACpCC,UAAa,KACbC,SAAY,GACZC,IAAO,IAGLtC,EAAS,IAAIpB,IAAK2D,OAAO,CAC3BC,UAAa,IACbJ,UAAa,GACbK,MAAS,EACTJ,SAAY,GACZC,IAAO,IAGLpC,EAAS,IAAItB,IAAK8D,SAAS,CAC7BC,SAAY,GACZC,UAAa,KACbN,IAAO,IAGLhC,EAAM,IAAI1B,IAAKiE,OAAO,CACxB9D,QAAW,KAIb8C,EAAUiB,MAAMxC,EAAKN,EAAQkC,EAAUhC,EAAQtB,IAAKmE,QAGpD,IAAMzE,EAAO,IAAIM,IAAKK,SAAU,SAACC,EAAMC,GACrC,IAAM,IAAIlC,EAAI,EAAGA,EAAIT,EAAKd,MAAMgE,MAAMsD,OAAQ/F,IACzCT,EAAKd,MAAMgE,MAAMzC,GAAGkC,IACrB0C,EAAUoB,qBAAqBzG,EAAKd,MAAMkE,UAAU3C,GAAI,OAI5D2B,IAAKU,KAAKC,SAAU,WAElB/C,EAAKD,SAAS4C,IACbD,IAEF,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,OAE3DZ,EAAKe,MAAM,GAEXlE,KAAK2B,SAAS,CACZwB,KAAMA,EACN0B,OAAQA,EACRE,OAAQA,EACRE,MAAO8B,EACP5B,IAAKA,+CAKU4C,EAAWC,GAEzBA,IAAchI,KAAKO,QACpBP,KAAKO,MAAMsE,OAAOsC,IAAIc,MAASjI,KAAKO,MAAMuE,aAAe,IACzD9E,KAAKO,MAAMwE,OAAOoC,IAAIc,MAASjI,KAAKO,MAAMyE,aAAe,IACzDhF,KAAKO,MAAM0E,MAAMkC,IAAIc,MAASjI,KAAKO,MAAM2E,YAAc,IACvDlF,KAAKO,MAAM4E,IAAIvB,OAAOqE,MAAQjI,KAAKO,MAAM6E,iDAK/B5C,GAAG,IAAAU,EAAAlD,KACfA,KAAK2B,SAAS,CACZmD,aAActC,EAAEG,OAAOsF,QAUzBC,aAAalI,KAAK+D,MAElB/D,KAAK+D,KAAOoE,WATS,WAEnBlJ,EAAKqC,YAAYC,WAAW,eAAeC,IAAI0B,EAAK3C,MAAMC,IAAIoC,OAAO,CACnEiC,OAAQ3B,EAAK3C,MAAMuE,gBAMc,2CAGzBtC,GAAG,IAAAa,EAAArD,KACfA,KAAK2B,SAAS,CACZqD,aAAcxC,EAAEG,OAAOsF,QAUzBC,aAAalI,KAAK+D,MAElB/D,KAAK+D,KAAOoE,WATS,WAEnBlJ,EAAKqC,YAAYC,WAAW,eAAeC,IAAI6B,EAAK9C,MAAMC,IAAIoC,OAAO,CACnEmC,OAAQ1B,EAAK9C,MAAMyE,gBAMc,0CAG1BxC,GAAG,IAAA4F,EAAApI,KACdA,KAAK2B,SAAS,CACZuD,YAAa1C,EAAEG,OAAOsF,QAUxBC,aAAalI,KAAK+D,MAElB/D,KAAK+D,KAAOoE,WATQ,WAElBlJ,EAAKqC,YAAYC,WAAW,eAAeC,IAAI4G,EAAK7H,MAAMC,IAAIoC,OAAO,CACnEqC,MAAOmD,EAAK7H,MAAM2E,eAMc,wCAG3B1C,GAAG,IAAA6F,EAAArI,KACZA,KAAK2B,SAAS,CACZyD,UAAW5C,EAAEG,OAAOsF,QAUtBC,aAAalI,KAAK+D,MAElB/D,KAAK+D,KAAOoE,WATS,WAEnBlJ,EAAKqC,YAAYC,WAAW,eAAeC,IAAI6G,EAAK9H,MAAMC,IAAIoC,OAAO,CACnEgB,OAAQyE,EAAK9H,MAAM6E,aAMc,2CAMrC,IADA,IAAMvD,EAAM,GACHyG,EAAI,EAAGA,EAAItI,KAAKO,MAAMgE,MAAMsD,OAAQS,IAAK,CAChD,IAAIC,EAAS,GAEbA,EAAOxG,KAAKC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAAf,IAA6BtC,KAAKO,MAAMkE,UAAU6D,GAAlD,MAEZ,IAAK,IAAIxG,EAAI,EAAGA,EAAI,GAAIA,IACtByG,EAAOxG,KAAKC,EAAAC,EAAAC,cAAA,OAAKC,QAASnC,KAAKgB,YAAaR,GAAE,GAAAgI,OAAKF,EAAL,UAAAE,OAAe1G,GAAKO,IAAKP,EAAGQ,UAAWtC,KAAKmB,eAAeW,EAAGwG,MAE9GzG,EAAIE,KAAKC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,iBAAiBiG,IAE3C,OAAO1G,yCAIMC,EAAGwG,GAChB,IAAI/F,EAAS,WASb,OAPIvC,KAAKO,MAAMgE,MAAM+D,GAAGxG,KACrBS,GAAU,aAGTT,IAAM9B,KAAKO,MAAMK,YACnB2B,GAAU,gBAELA,sCAIGC,GACV,IAAMiG,EAASjG,EAAEG,OAAOnC,GAAG,GACrBkI,EAASlG,EAAEG,OAAOnC,GAAGkC,MAAMF,EAAEG,OAAOnC,GAAGmI,QAAQ,KAAO,GACtDC,EAAc5I,KAAKO,MAAMgE,MAAM7B,QACrCkG,EAAYH,GAAQC,IAAWE,EAAYH,GAAQC,GAEnDzJ,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CACnEuD,KAAMyC,EAAY,GAClBxC,KAAMwC,EAAY,GAClBvC,KAAMuC,EAAY,GAClBtC,KAAMsC,EAAY,GAClBrC,KAAMqC,EAAY,GAClBpC,KAAMoC,EAAY,GAClBnC,KAAMmC,EAAY,sCAKb9G,GACP9B,KAAK2B,SAAS,CACZf,UAAWkB,qCAKNU,GACPvD,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CACnE8B,MAAOlC,EAAEG,OAAOsF,0CAIVzF,GACRvD,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CACnE+B,OAAQnC,EAAEG,OAAOsF,wCAIbzF,GACNvD,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CACnEgC,KAAMpC,EAAEG,OAAOsF,yCAKjB,OACEjG,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4G,SAAA,KACE7G,EAAAC,EAAAC,cAAA,OAAKI,UAAU,4BACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACbN,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,UAAQ4G,SAAU9I,KAAKuF,QAAS0C,MAAOjI,KAAKO,MAAMqE,MAChD5C,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,MAAd,MACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,MAAd,MACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,MAAd,MACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,MAAd,MACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,OAGJjG,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACbN,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,UAAQ4G,SAAU9I,KAAKqF,SAAU4C,MAAOjI,KAAKO,MAAMmE,OACjD1C,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,SAAd,SACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,SAAd,SACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,cAAd,gBAGJjG,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACbN,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,UAAQ4G,SAAU9I,KAAKsF,UAAW2C,MAAOjI,KAAKO,MAAMoE,QAClD3C,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,KACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,KAAd,QAINjG,EAAAC,EAAAC,cAAA,OAAKI,UAAU,4BACbN,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SAAO4E,KAAK,QAAQiC,IAAI,IAAIC,IAAI,MAAMf,MAAOjI,KAAKO,MAAMuE,aAAcgE,SAAU9I,KAAKwF,cAAelD,UAAU,WAC9GN,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,SAAO4E,KAAK,QAAQiC,IAAI,IAAIC,IAAI,MAAMf,MAAOjI,KAAKO,MAAM2E,YAAa4D,SAAU9I,KAAK0F,aAAcpD,UAAU,YAE9GN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,4BACbN,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SAAO4E,KAAK,QAAQiC,IAAI,IAAIC,IAAI,KAAKf,MAAOjI,KAAKO,MAAMyE,aAAc8D,SAAU9I,KAAKyF,cAAenD,UAAU,WAE7GN,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SAAO4E,KAAK,QAAQiC,IAAI,MAAMC,IAAI,KAAKf,MAAOjI,KAAKO,MAAM6E,UAAW0D,SAAU9I,KAAK2F,WAAYrD,UAAU,YAE3GN,EAAAC,EAAAC,cAAA,WACClC,KAAKiJ,uBAxUYjG,aCqEXkG,cApEb,SAAAA,EAAYtJ,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkJ,IAChBrJ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoJ,GAAA/I,KAAAH,KAAMJ,KAEDW,MAAQ,CACXC,GAAIX,EAAKD,MAAMuJ,MACfC,KAAM,GACN5E,KAAM,GACN6E,SAAS,GAGXxJ,EAAKyJ,WAAazJ,EAAKyJ,WAAWrI,KAAhBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAVFA,mFAeC,IAAAwB,EAAArB,KAEjBf,EAAKqC,YAAYC,WAAW,aAAaC,IAAIxB,KAAKO,MAAMC,IAAIyD,MAAMsF,KAAM,SAAC7H,GACnEA,EAAS8H,OACXnI,EAAKM,SAAS,CACZyH,KAAM1H,EAASE,OAAOwH,KACtB5E,KAAM9C,EAASE,OAAO4C,KACtB6E,SAAS,IAGXpK,EAAKqC,YAAYC,WAAW,eAAeC,IAAIH,EAAKd,MAAMC,IAAIyD,MAAMsF,KAAM,SAAC7H,GACzE,IAAME,EAAOF,EAASE,OACtBP,EAAKM,SAAS,CACZyH,KAAMxH,EAAKwH,KACX5E,KAAM,CACJ5C,EAAKuE,KACLvE,EAAKwE,KACLxE,EAAKyE,KACLzE,EAAK0E,KACL1E,EAAK2E,KACL3E,EAAK4E,KACL5E,EAAK6E,MAEP4C,SAAS,6CASjB,GAAGrJ,KAAKO,MAAM8I,QACZ,OAAOrH,EAAAC,EAAAC,cAACuH,EAAD,CAAanF,QAAStE,KAAKO,MAAMC,GAAIgE,KAAMxE,KAAKO,MAAMiE,OAG7D,IADA,IAAMA,EAAO,GACJ1C,EAAI,EAAGA,EAAI9B,KAAKO,MAAMiE,KAAKqD,OAAQ/F,IAC1C0C,EAAKzC,KAAMC,EAAAC,EAAAC,cAACwH,EAAD,CAAKrH,IAAKP,EAAGrB,MAAOT,KAAKO,MAAMiE,KAAK1C,GAAIjB,cAAeb,KAAKJ,MAAMiB,iBAE/E,OAAO2D,mCAKT,OACExC,EAAAC,EAAAC,cAAA,WAEGlC,KAAKsJ,qBA/DUtG,6BCyFT2G,cAxFX,SAAAA,EAAY/J,EAAOgK,GAAQ,IAAA/J,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2J,IACzB9J,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6J,GAAAxJ,KAAAH,KAAMJ,EAAOgK,KAkDfC,WAAa,WACXhK,EAAKD,MAAMkK,YAAYjK,EAAKU,MAAMwJ,UAElClK,EAAK8B,SAAS,CACZoI,UAAWlK,EAAKU,MAAMwJ,YArDxBlK,EAAKmK,cAAgBnK,EAAKmK,cAAc/I,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrBA,EAAKoK,cAAgBpK,EAAKoK,cAAchJ,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrB,IAAMO,EAAOnB,EAAKoB,OAAOC,YAJA,OAKzBT,EAAKU,MAAQ,CACX2J,QAAS,GACTC,SAAU,GACVJ,UAAU,EACVK,SAAUhK,EAAKiK,YAEfC,OAAQzK,EAAKD,MAAM0K,QAXIzK,mFAgBR,IAAAwB,EAAArB,KAEjBf,EAAKsL,WAAWC,IAAhB,GAAAhC,OAAuBxI,KAAKO,MAAM+J,OAAlC,MAA6CG,GAAG,QAAS,SAAC/I,GAExD,IAAMgJ,EAAkBhJ,EAASiJ,MAEV,MAAnBD,GACFrJ,EAAKM,SAAS,CACZwI,SAAUO,4CAOJlI,GACZxC,KAAK2B,SAAS,CACZuI,QAAS1H,EAAEG,OAAOsF,8CAGRzF,GACZA,EAAEoI,iBAEF,IAAMC,EAAc,CAClBrK,GAAIR,KAAKO,MAAM4J,SAAStC,OACxBiD,KAAM9K,KAAKO,MAAM2J,QACjB9J,KAAMJ,KAAKO,MAAM6J,UAInBnL,EAAKsL,WAAWC,IAAI,GAAAhC,OAAGxI,KAAKO,MAAM+J,OAAd,KAAwBO,EAAYrK,IAAIuK,IAAIF,GAEhE7K,KAAK2B,SAAS,CAACuI,QAAS,sCAYxB,IAAMc,EAAiBhL,KAAKO,MAAM4J,SAASnE,IAAI,SAACkE,EAASpI,EAAG1B,GAC1D,OACE4B,EAAAC,EAAAC,cAAA,MAAIG,IAAK6H,EAAQ1J,IAAK0J,EAAQ9J,KAA9B,KAAsC8J,EAAQY,QAI5CG,EAAUjL,KAAKO,MAAMwJ,SAAW,SAAW,GAGnD,OACE/H,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAAA,QAAMgJ,MAAM,iBAAiB/I,QAASnC,KAAK6J,YACzC7H,EAAAC,EAAAC,cAAA,OAAKI,UAAU,iBAAf,iBAEFN,EAAAC,EAAAC,cAAA,QAAMI,UAAS,aAAAkG,OAAeyC,GAAWE,SAAUnL,KAAKiK,eACtDjI,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACkJ,EAAA,EAAD,CAAgBC,YAAY,QACzBL,IAGLhJ,EAAAC,EAAAC,cAAA,SAAO+F,MAAOjI,KAAKO,MAAM2J,QAASpB,SAAU9I,KAAKgK,cAAelD,KAAK,OAAOwE,YAAY,uBAAuBhJ,UAAU,eACzHN,EAAAC,EAAAC,cAAA,oBAlFac,aC+KRuI,cA3Kb,SAAAA,EAAY3L,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuL,GAChB1L,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyL,GAAApL,KAAAH,KAAMJ,IAGP6D,IAAK+H,UAAUC,OACfhI,IAAK+H,UAAUE,SAGd7L,EAAKU,MAAQ,CACXC,GAAIX,EAAKD,MAAM+L,MAAMC,OAAOC,KAC5BzC,KAAM,GACN0C,WAAY,GACZC,WAAW,EACXC,MAAO,GACPxC,QAAQ,EACR3I,cAAe,GACfoL,MAAO,GACPlC,UAAU,EACVmC,QAAS,IAGXrM,EAAKsM,gBAAkBtM,EAAKsM,gBAAgBlL,KAArBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACvBA,EAAKuM,WAAavM,EAAKuM,WAAWnL,KAAhBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAClBA,EAAKwM,aAAexM,EAAKwM,aAAapL,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACpBA,EAAKyM,aAAezM,EAAKyM,aAAarL,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACpBA,EAAKiK,WAAajK,EAAKiK,WAAW7I,KAAhBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAzBFA,mFA6BC,IAAAwB,EAAArB,KAEjBf,EAAKqC,YAAYC,WAAW,QAAQC,IAAIxB,KAAKO,MAAMC,IAAIyD,MAAMsF,KAAM,SAAC7H,GAC9DA,EAAS8H,OAQXnI,EAAKM,SAAS,CACZyH,KAAM1H,EAASE,OAAOwH,KACtB8C,QAASxK,EAASE,OAAO2K,SACzBP,MAAOtK,EAASE,OAAOoK,MACvBnL,cAAea,EAASE,OAAOf,cAC/BoL,MAAOvK,EAASE,OAAOqK,QAXzB5K,EAAKM,SAAS,CACV6H,QAAQ,MAkBhBvK,EAAKqC,YAAYC,WAAW,QAAQC,IAAIxB,KAAKO,MAAMC,IAAIiB,WAAY,SAACC,GAClEL,EAAKM,SAAS,CACZqK,MAAOtK,EAASE,OAAOoK,MACvBF,WAAYpK,EAASE,OAAOkK,WAC5BG,MAAOvK,EAASE,OAAOqK,qDAMVlE,EAAWC,GACxBA,IAAchI,KAAKO,QACrBkD,IAAK+H,UAAUgB,IAAIvE,MAAQjI,KAAKO,MAAMyL,MACtCvI,IAAK+H,UAAUS,MAAQjM,KAAKO,MAAM0L,MAAQ,+CAO5C,IADA,IAAMQ,EAAY,GACT3K,EAAI,EAAGA,EAAI9B,KAAKO,MAAMuL,WAAWjE,OAAQ/F,IAChD2K,EAAU1K,KAAMC,EAAAC,EAAAC,cAACwK,EAAD,CAAWrK,IAAKP,EAAGqH,MAAOnJ,KAAKO,MAAMuL,WAAWhK,GAAIjB,cAAeb,KAAKO,MAAMM,iBAEhG,OAAO4L,uCAKPhJ,IAAK+H,UAAUmB,SACf,IAAIC,EAAkB5M,KAAKO,MAAMwL,UACjC/L,KAAK2B,SAAS,CACZoK,WAAYa,yCAKHpK,GAAE,IAAAU,EAAAlD,KACT6M,EAAWrK,EAAEG,OAAOsF,MAExBjI,KAAK2B,SAAS,CACZqK,MAAOa,IAUT3E,aAAalI,KAAK+D,MAElB/D,KAAK+D,KAAOoE,WATQ,WAElBlJ,EAAKqC,YAAYC,WAAW,QAAQC,IAAI0B,EAAK3C,MAAMC,IAAIoC,OAAO,CAC5DoJ,MAAO9I,EAAK3C,MAAMyL,SAMc,0CAGzBxJ,GAAE,IAAAa,EAAArD,KACT8M,EAAWtK,EAAEG,OAAOsF,MAExBjI,KAAK2B,SAAS,CACZsK,MAAOa,IAUT5E,aAAalI,KAAK+D,MAElB/D,KAAK+D,KAAOoE,WATQ,WAElBlJ,EAAKqC,YAAYC,WAAW,QAAQC,IAAI6B,EAAK9C,MAAMC,IAAIoC,OAAO,CAC5DqJ,MAAO5I,EAAK9C,MAAM0L,SAMc,wCAI3Bc,GACT/M,KAAK2B,SAAS,CACZoI,SAAUgD,qCAKZ,IAAM9B,EAAUjL,KAAKO,MAAMwJ,SAAW,cAAgB,GAGtD,OAAI/J,KAAKO,MAAMiJ,OAKbxH,EAAAC,EAAAC,cAAA,WACHF,EAAAC,EAAAC,cAAC8K,EAAA,EAAD,CAAMC,GAAG,KAAIjL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAAf,iBAERN,EAAAC,EAAAC,cAAA,MAAI1B,GAAG,cAAcR,KAAKO,MAAM6I,MAChCpH,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACfN,EAAAC,EAAAC,cAAA,OAAKI,UAAW2I,GACdjJ,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBAEXtC,KAAKO,MAAMwL,UACX/J,EAAAC,EAAAC,cAAA,UAAQI,UAAU,YAAYH,QAASnC,KAAKoM,YAA5C,UAAqEpK,EAAAC,EAAAC,cAAA,UAASI,UAAU,YAAYH,QAASnC,KAAKoM,YAA7C,UAEvEpK,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAb,UAA6BtC,KAAKO,MAAMyL,MAAxC,QACAhK,EAAAC,EAAAC,cAAA,SAAO4E,KAAK,QAAQiC,IAAI,KAAKC,IAAI,MAAMxI,GAAG,MAAMyH,MAAOjI,KAAKO,MAAMyL,MAAQlD,SAAU9I,KAAKqM,aAAc/J,UAAU,WACjHN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAb,iBAAoCtC,KAAKO,MAAM0L,OAC/CjK,EAAAC,EAAAC,cAAA,SAAO4E,KAAK,QAAQiC,IAAI,IAAIC,IAAI,MAAMxI,GAAG,MAAMyH,MAAOjI,KAAKO,MAAM0L,MAASnD,SAAU9I,KAAKsM,aAAchK,UAAU,YAEnHN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACZtC,KAAKmM,mBAERnK,EAAAC,EAAAC,cAAA,MAAI1B,GAAG,gBAAP,cAAkCR,KAAKO,MAAM2L,WAG/ClK,EAAAC,EAAAC,cAACgL,EAAD,CAAM5C,OAAQtK,KAAKO,MAAMC,GAAIsJ,WAAY9J,KAAK8J,cA1BzC9H,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CAAUF,GAAG,aA5IPjK,qBC4FJoK,qBA7Fb,SAAAA,EAAYxN,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoN,IACjBvN,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsN,GAAAjN,KAAAH,KAAMJ,KACDyN,MAAQxN,EAAKwN,MAAMpM,KAAXnB,OAAAoB,EAAA,EAAApB,CAAAD,IACbA,EAAKyN,aAAezN,EAAKyN,aAAarM,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACtBA,EAAK0N,OAAS1N,EAAK0N,OAAOtM,KAAZnB,OAAAoB,EAAA,EAAApB,CAAAD,IAEZA,EAAKU,MAAQ,CACXiN,MAAO,GACPjB,SAAU,GACbnC,SAAU,IATQvK,4EAaN2C,GACXxC,KAAK2B,SAAL7B,OAAA6D,EAAA,EAAA7D,CAAA,GAAiB0C,EAAEG,OAAOyG,KAAO5G,EAAEG,OAAOsF,sCAGtCzF,GACJA,EAAEoI,iBACF3L,EAAKoB,OAAOoN,2BAA2BzN,KAAKO,MAAMiN,MAAOxN,KAAKO,MAAMgM,UAAUhD,KAAK,SAACmE,GAAK5H,QAAQC,QAC9F4H,MAAM,SAACC,GACN9H,QAAQC,IAAI6H,oCAIZpL,GAAG,IAAAnB,EAAArB,KACVwC,EAAEoI,iBACyB,KAAxB5K,KAAKO,MAAM6J,UACdnL,EAAKoB,OAAOwN,+BAA+B7N,KAAKO,MAAMiN,MAAOxN,KAAKO,MAAMgM,UAAUhD,KAChF,SAAC3H,GAAO,IACAxB,EAASwB,EAATxB,KACHA,GACDA,EAAK0N,cAAc,CACjBzD,YAAahJ,EAAKd,MAAM6J,WACxBb,KAAK,WACNtK,EAAKqC,YAAYC,WAAW,QAAQC,IAAIpB,EAAKW,KAAKgK,IAAI,CACpDgD,MAAO,KAETjI,QAAQC,IAAI3F,EAAKiK,iBAGpBsD,MAAM,SAACC,GACT9H,QAAQC,IAAI6H,sCAOd,OACC5L,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACdN,EAAAC,EAAAC,cAAA,MAAII,UAAU,SAAd,iBACCN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,aAChBN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,gBAAjB,iBACDN,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQ2F,MAAOjI,KAAKO,MAAMiN,MAAO1E,SAAU9I,KAAKsN,aAAcxG,KAAK,QAAQsC,KAAK,QAAQkC,YAAY,iBAEtHtJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,gBAAjB,YACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQ2F,MAAOjI,KAAKO,MAAMgM,SAAUzD,SAAU9I,KAAKsN,aAAcxG,KAAK,WAAWsC,KAAK,WAAWkC,YAAY,cAE9HtJ,EAAAC,EAAAC,cAAA,UAAQI,UAAU,SAASwE,KAAK,SAAS3E,QAASnC,KAAKqN,OAAvD,UAEDrL,EAAAC,EAAAC,cAAA,KAAGI,UAAU,gBAAb,iBACEN,EAAAC,EAAAC,cAAC8L,EAAA,EAAD,CAAO1L,UAAU,YAAY9B,GAAG,aAAayN,QAASjM,EAAAC,EAAAC,cAAA,UAAQI,UAAU,UAAlB,WAA6C4L,SAAS,UAC1GlM,EAAAC,EAAAC,cAAA,WACFF,EAAAC,EAAAC,cAAA,QAAMI,UAAU,aACdN,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cAAjB,aACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,YAAY2F,MAAOjI,KAAKO,MAAM6J,SAAUtB,SAAU9I,KAAKsN,aAAcxG,KAAK,OAAOsC,KAAK,WAAWkC,YAAY,uBAC9HtJ,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cAAjB,iBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,YAAY2F,MAAOjI,KAAKO,MAAMiN,MAAO1E,SAAU9I,KAAKsN,aAAcxG,KAAK,QAAQsC,KAAK,QAAQkC,YAAY,iBAE1HtJ,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cAAjB,YACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,YAAY2F,MAAOjI,KAAKO,MAAMgM,SAAUzD,SAAU9I,KAAKsN,aAAcxG,KAAK,WAAWsC,KAAK,WAAWkC,YAAY,cAElItJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQI,UAAU,SAASH,QAASnC,KAAKuN,QAAzC,YAEFvL,EAAAC,EAAAC,cAAA,qBAtFac,+CCsCLmL,cAzCb,SAAAA,EAAYvO,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmO,IAChBtO,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqO,GAAAhO,KAAAH,KAAMJ,KAEDW,MAAQ,CACX0H,MAAO,IAGTpI,EAAKuO,cAAgBvO,EAAKuO,cAAcnN,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAPLA,6EAUJ2C,GAEZxC,KAAK2B,SAAS,CACZsG,MAAOzF,EAAEG,OAAOsF,QAGK,WAAnBzF,EAAEG,OAAOsF,MACXjI,KAAKJ,MAAMyO,eACT,GACA,uBACA,UAE0B,UAAnB7L,EAAEG,OAAOsF,OAClBjI,KAAKJ,MAAMyO,gBACT,EACA,GACA,qCAMJ,OACErM,EAAAC,EAAAC,cAAA,UAAQI,UAAU,cAAcwG,SAAU9I,KAAKoO,cAAenG,MAAOjI,KAAKO,MAAM0H,OAC9EjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,SAAd,sBACAjG,EAAAC,EAAAC,cAAA,UAAQ+F,MAAM,UAAd,gCApCoBjF,aC8LbsL,cAzLb,SAAAA,IAAa,IAAAzO,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsO,IACXzO,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwO,GAAAnO,KAAAH,QAEKO,MAAQ,CACXgO,SAAU,GACVC,SAAU,GACVC,cAAc,EACd3H,KAAM,GACN4H,aAAc,IAGhB7O,EAAK8O,cAAgB9O,EAAK8O,cAAc1N,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrBA,EAAK+O,YAAc/O,EAAK+O,YAAY3N,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACnBA,EAAKgP,YAAchP,EAAKgP,YAAY5N,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAbRA,2EAgBD2C,GACVxC,KAAK2B,SAAS,CACZ4M,SAAU/L,EAAEG,OAAOsF,4CAIXzD,EAAM4E,EAAMtC,GACtB9G,KAAK2B,SAAS,CACZ6M,SAAUpF,EACVqF,aAAcjK,EACdsC,KAAMA,0CAMR,OAAOhH,OAAAgP,EAAA,EAAAhP,CAAIiP,MAAM,IAAI/I,IAAI,SAAAlE,GAAC,UAAoB,GAAdkN,KAAKC,WAAcC,SAAS,MAAKC,KAAK,IAAIC,oDAI7D5M,GAAE,IAAAnB,EAAArB,KAIf,GAHAwC,EAAEoI,iBAGG5K,KAAKO,MAAMkO,aAAhB,CAIA,IAAM3N,EAAS7B,EAAKoB,OAAOC,YAAYS,IACjCwL,EAAWvM,KAAKqP,cAChBd,EAAWvO,KAAKO,MAAMgO,SAcpB/J,EAAO,GAIb8K,QAAQC,IAfS,CACf,OACA,YACA,QACA,UACA,SACA,OACA,YACA,WAOmBvJ,IAAT,eAAAwJ,EAAA1P,OAAA2P,EAAA,EAAA3P,CAAA4P,EAAAzN,EAAA0N,KAAc,SAAAC,EAAMlP,GAAN,OAAAgP,EAAAzN,EAAA4N,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAGlB/Q,EAAKqC,YAAYC,WAAW,OAAO0O,IAAI,CAE3CvP,WAAYA,EACZC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAM,GAAQ,GAAO,GAAO,GAAO,KAE/G4I,KAAM,SAAChH,GAERiC,EAAKzC,KAAMQ,EAAO/B,MAVI,wBAAAsP,EAAArE,SAAAmE,MAAd,gBAAAM,GAAA,OAAAV,EAAAW,MAAAnQ,KAAAoQ,YAAA,KAaN7G,KAAM,WAGVtK,EAAKqC,YAAYC,WAAW,aAAa0O,IAAI,CAEzC7G,KAAM,iBACN5E,KAAMA,IAEL+E,KAAM,SAAChH,GAER,IAAM8N,EAAS9N,EAAO/B,GAEtBvB,EAAKqC,YAAYC,WAAW,eAAe0O,IAAI,CAE3C7G,KAAM/H,EAAKd,MAAMiO,SACjBrI,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChH/B,MAAO,QACPC,OAAQ,IACRC,KAAM,IACNkC,KAAMzF,EAAKd,MAAMuG,KACjBjC,OAAQ,IACRE,OAAQ,IACRE,MAAO,IACPrB,OAAQ,QAEP2F,KAAM,SAAChH,GAIRtD,EAAKqC,YAAYC,WAAW,QAAQ0O,IAAI,CACtC7G,KAAMmF,EACNvC,MAAO,KACPC,MAAO,IACPpL,cAAe,CAACC,GAChBgL,WAAY,CAACuE,EAAQ9N,EAAO/B,IAC5B+L,SAAUA,IAEThD,KAAM,SAAChH,GAER,IAAM+H,EAAS/H,EAAO/B,GACtBvB,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQmD,MAAMsF,KAAM,SAAChH,GAE3D,IAAM+N,EAAU/N,EAAOX,OAAOmM,MAAMrL,QACpC4N,EAAQvO,KAAMuI,GAEdrL,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQ8B,OAAO,CACrDmL,MAAOuC,IACN/G,KAAM,WAEPlI,EAAKM,SAAS,CACZ+M,aAAcpE,gBAYlCtK,KAAK2B,SAAS,CACZ4M,SAAU,GACVC,SAAU,GACVC,cAAc,EACd3H,MAAM,sCAOR,MAA+B,KAA5B9G,KAAKO,MAAMmO,aACL1M,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CAAUF,GAAE,IAAAzE,OAAMxI,KAAKO,MAAMmO,gBAInC1M,EAAAC,EAAAC,cAAA,WACGF,EAAAC,EAAAC,cAAA,QAAMI,UAAU,aAAa6I,SAAUnL,KAAK2O,eAC1C3M,EAAAC,EAAAC,cAAA,SAAO1B,GAAG,aAAV,aACNwB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,aAAawE,KAAK,OAAOgC,SAAU9I,KAAK4O,YAAa3G,MAAOjI,KAAKO,MAAMgO,WAC9FvM,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAAA,8CACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,0CAENF,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAACqO,EAAD,CAAelC,eAAgBrO,KAAK6O,cAC1C7M,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAASwE,KAAK,oBAnLpB9D,aCkHRwN,cAnHb,SAAAA,EAAY5Q,GAAM,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwQ,GAChB3Q,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0Q,GAAArQ,KAAAH,KAAMJ,IAEN,IAAMQ,EAAOnB,EAAKoB,OAAOC,YAHT,OAKhBT,EAAKU,MAAQ,CACXgO,SAAW,GACXhC,SAAU,GACVmC,aAAc,GACd3N,IAAKX,EAAKW,KAGZlB,EAAK+O,YAAc/O,EAAK+O,YAAY3N,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACnBA,EAAK4Q,gBAAkB5Q,EAAK4Q,gBAAgBxP,KAArBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACvBA,EAAK8O,cAAgB9O,EAAK8O,cAAc1N,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrBA,EAAK6Q,SAAW7Q,EAAK6Q,SAASzP,KAAdnB,OAAAoB,EAAA,EAAApB,CAAAD,IAfAA,2EAmBN2C,GACVxC,KAAK2B,SAAS,CACZ4M,SAAU/L,EAAEG,OAAOsF,gDAIPzF,GACdxC,KAAK2B,SAAS,CACZ4K,SAAU/J,EAAEG,OAAOsF,8CAITzF,GAAE,IAAAnB,EAAArB,KACdwC,EAAEoI,iBAGF3L,EAAKqC,YAAYC,WAAW,QAAQ0C,MAAMsF,KAAM,SAACwE,GAC/CA,EAAM4C,KAAKC,QAAS,SAACpP,GAEhBA,EAAII,OAAOwH,OAAS/H,EAAKd,MAAMgO,UAC7B/M,EAAII,OAAO2K,WAAalL,EAAKd,MAAMgM,UAEpClL,EAAKqP,SAASlP,EAAIhB,GAAIgB,EAAII,OAAOf,oDAUlCL,EAAIqQ,GAAO,IAAA3N,EAAAlD,KACZc,EAASd,KAAKO,MAAMQ,IAE1B,GAAG8P,EAAOzO,SAAStB,GAEjBd,KAAK2B,SAAS,CACZ+M,aAAclO,QAHlB,CAWA,IAAMsQ,EAAaD,EAAOnO,QAC1BoO,EAAW/O,KAAMjB,GAEjB7B,EAAKqC,YAAYC,WAAW,QAAQC,IAAIhB,GAAIoC,OAAO,CACjD/B,cAAgBiQ,IACfvH,KAAM,WAELtK,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQmD,MAAMsF,KAAM,SAAChH,GAE3D,IAAM+N,EAAU/N,EAAOX,OAAOmM,MAAMrL,QACpC4N,EAAQvO,KAAMvB,GAEdvB,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQ8B,OAAO,CACrDmL,MAAOuC,IACN/G,KAAM,WACPrG,EAAKvB,SAAS,CACZ+M,aAAclO,4CASxB,GAAGR,KAAKO,MAAMmO,aAAa,CACzB,IAAMpL,EAAO,IAAMtD,KAAKO,MAAMmO,aAC9B,OAAO1M,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CAAUF,GAAI3J,IAGvB,OACEtB,EAAAC,EAAAC,cAAA,OAAKI,UAAU,qBACfN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,cACdN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAO4E,KAAK,OAAOxE,UAAU,aAAawG,SAAW9I,KAAK4O,YAAc3G,MAAQjI,KAAKO,MAAMgO,WAC3FvM,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SAAO4E,KAAK,OAAOxE,UAAU,aAAawG,SAAW9I,KAAKyQ,gBAAkBxI,MAAQjI,KAAKO,MAAMgM,WAE/FvK,EAAAC,EAAAC,cAAA,SAAO4E,KAAK,SAASxE,UAAU,SAASH,QAASnC,KAAK2O,cAAe1G,MAAM,uBA7G5DjF,aC2DR+N,cA1Db,SAAAA,IAAa,IAAAlR,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+Q,IACXlR,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiR,GAAA5Q,KAAAH,QACKO,MAAQ,CACXyQ,QAAS,GACTjD,MAAO,IAJElO,mFAQM,IAAAwB,EAAArB,KACXc,EAAS7B,EAAKoB,OAAOC,YAAYS,IAEvC9B,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQmD,MAAMsF,KAAM,SAAChH,GAE3DlB,EAAKM,SAAS,CACZqP,QAASzO,EAAOX,OAAOmM,QAGzB1M,EAAK4P,0DAMM,IAAA/N,EAAAlD,KACPgR,EAAUhR,KAAKO,MAAMyQ,QACrBE,EAAY,GAGlB5B,QAAQC,IAAIyB,EAAQhL,IAAR,eAAAwJ,EAAA1P,OAAA2P,EAAA,EAAA3P,CAAA4P,EAAAzN,EAAA0N,KAAa,SAAAC,EAAOpP,GAAP,OAAAkP,EAAAzN,EAAA4N,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEjB/Q,EAAKqC,YAAYC,WAAW,QAAQC,IAAIhB,GAAIyD,MAAMsF,KAAM,SAAChH,GAE7D2O,EAAUnP,KAAKC,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAC8K,EAAA,EAAD,CAAM1K,UAAU,GAAG2K,GAAE,IAAAzE,OAAMjG,EAAO/B,KAAO+B,EAAOX,OAAOwH,UAJpD,wBAAA0G,EAAArE,SAAAmE,MAAb,gBAAAM,GAAA,OAAAV,EAAAW,MAAAnQ,KAAAoQ,YAAA,KAQR7G,KAAM,WAERrG,EAAKvB,SAAS,CACZoM,MAAOmD,uCAOX,OACElP,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBACZtC,KAAKO,MAAMwN,gBAnDE/K,aC8FTmO,cAxFX,SAAAA,EAAYvR,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmR,GACftR,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqR,GAAAhR,KAAAH,KAAMJ,IAGN6D,IAAK+H,UAAUC,OACfhI,IAAK+H,UAAUE,SAGnB,IAAMtL,EAAOnB,EAAKoB,OAAOC,YARN,OASnBwF,QAAQC,IAAI3F,GACZP,EAAKU,MAAQ,CACZ6J,SAAUhK,EAAKiK,YACfmD,MAAOpN,EAAKoN,MACP4D,UAAU,EACVF,WAAW,EACXR,UAAU,EACfW,QAASxR,EAAKyR,iBAGXzR,EAAK0R,OAAS1R,EAAK0R,OAAOtQ,KAAZnB,OAAAoB,EAAA,EAAApB,CAAAD,IAEdA,EAAK2R,UAAY3R,EAAK2R,UAAUvQ,KAAfnB,OAAAoB,EAAA,EAAApB,CAAAD,IACjBA,EAAK4R,QAAU5R,EAAK4R,QAAQxQ,KAAbnB,OAAAoB,EAAA,EAAApB,CAAAD,IACfA,EAAK6R,UAAY7R,EAAK6R,UAAUzQ,KAAfnB,OAAAoB,EAAA,EAAApB,CAAAD,IAvBFA,wEA4BfZ,EAAKoB,OAAOsR,8CAKd3R,KAAK2B,SAAS,CACZyP,UAAU,EACVF,WAAW,EACXR,UAAU,sCAKZ1Q,KAAK2B,SAAS,CACZyP,UAAU,EACVF,WAAW,EACXR,UAAU,wCAKZ1Q,KAAK2B,SAAS,CACZyP,UAAU,EACVF,WAAW,EACXR,UAAU,qCAKf,IAAIkB,EAAS,GAIR,OAHD5R,KAAKO,MAAM6J,WACbwH,EAAS5R,KAAKO,MAAM6J,SAASyH,OAAO,GAAGzC,eAGvCpN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACfN,EAAAC,EAAAC,cAAC8K,EAAA,EAAD,CAAMC,GAAG,YAAWjL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBAChCsP,IACH5P,EAAAC,EAAAC,cAAA,MAAII,UAAU,QAAd,iBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACfN,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,UAAQC,QAASnC,KAAKwR,UAAWlP,UAAU,cAA3C,UACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQC,QAASnC,KAAKyR,QAASnP,UAAU,cAAzC,aACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQC,QAASnC,KAAK0R,UAAWpP,UAAU,cAA3C,eAECtC,KAAKO,MAAM6Q,SAAWpP,EAAAC,EAAAC,cAAC4P,EAAD,MAAe,GACrC9R,KAAKO,MAAM2Q,UAAYlP,EAAAC,EAAAC,cAAC6P,EAAD,MAAgB,GACvC/R,KAAKO,MAAMmQ,SAAW1O,EAAAC,EAAAC,cAAC8P,EAAD,MAAe,GACvChQ,EAAAC,EAAAC,cAAA,aAEAF,EAAAC,EAAAC,cAAA,UAAQC,QAASnC,KAAKuR,OAAQjP,UAAU,UAAxC,kBAlFcU,aCuFJiP,cAzFd,SAAAA,EAAYrS,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiS,IACjBpS,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmS,GAAA9R,KAAAH,KAAMJ,KAEDsS,WAAarS,EAAKqS,WAAWjR,KAAhBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAClBA,EAAKyN,aAAezN,EAAKyN,aAAarM,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACpBA,EAAKsS,OAAStS,EAAKsS,OAAOlR,KAAZnB,OAAAoB,EAAA,EAAApB,CAAAD,IACdA,EAAKuS,SAAWvS,EAAKuS,SAASnR,KAAdnB,OAAAoB,EAAA,EAAApB,CAAAD,IAEhBA,EAAKU,MAAQ,CACZ6J,SAAU,GACVoD,MAAO,GACPjB,SAAU,IAXM1M,4EAeN2C,GACZsD,QAAQC,IAAIvD,GACZxC,KAAK2B,SAAL7B,OAAA6D,EAAA,EAAA7D,CAAA,GAAiB0C,EAAEG,OAAOyG,KAAO5G,EAAEG,OAAOsF,uCAGpCoK,GACNA,EAAEzH,iBACF,IAAMxK,EAAOnB,EAAKoB,OAAOC,YACE,KAAxBN,KAAKO,MAAM6J,UACbkI,MAAM,8BACFlS,GACJA,EAAK0N,cAAc,CACjBzD,YAAarK,KAAKO,MAAM6J,WACvBb,KAAM,SAACmE,GACR5H,QAAQC,IAAI,uBACX4H,MAAO,SAACC,GACV9H,QAAQC,IAAI6H,sCAKN2E,GACRA,EAAE3H,iBAEF,IAAMxK,EAAOnB,EAAKoB,OAAOC,YAEzBF,EAAKoS,6BAA6BxS,KAAKO,MAAMiN,MAAOxN,KAAKO,MAAMgM,UAAUhD,KAAM,WAE7EnJ,EAAKqS,WACJ9E,MAAM,SAASC,yCAKR8E,GACVA,EAAE9H,iBACW3L,EAAKoB,OAAOC,YACpBmS,SAASlJ,KAAM,cAEjBoE,MAAM,SAASC,uCAMlB,OACC5L,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACfN,EAAAC,EAAAC,cAAC8K,EAAA,EAAD,CAAMC,GAAG,KAAIjL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAAf,iBAEbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,QAAd,uBACAN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,YAAY6I,SAAUnL,KAAKmS,QAC1CnQ,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAjB,oBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQ2F,MAAOjI,KAAKO,MAAM6J,SAAUtB,SAAU9I,KAAKsN,aAAcxG,KAAK,WAAYsC,KAAK,WAAWkC,YAAY,eAEhItJ,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAjB,wBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQ2F,MAAOjI,KAAKO,MAAMiN,MAAO1E,SAAU9I,KAAKsN,aAAcxG,KAAK,QAAQsC,KAAK,QAAQkC,YAAY,iBAEtHtJ,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAjB,mBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQ2F,MAAOjI,KAAKO,MAAMgM,SAAUzD,SAAU9I,KAAKsN,aAAcxG,KAAK,WAAWsC,KAAK,WAAWkC,YAAY,cAE9HtJ,EAAAC,EAAAC,cAAA,UAAQI,UAAU,SAASwE,KAAK,UAAhC,mBAEA9E,EAAAC,EAAAC,cAAA,UAAQI,UAAU,SAASwE,KAAK,SAAS3E,QAASnC,KAAKkS,YAAvD,0BApFiBlP,aCiDP2P,cA7Cb,SAAAA,IAAc,IAAA9S,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2S,IACZ9S,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6S,GAAAxS,KAAAH,QACKO,MAAS,CACZH,KAAM,MAERP,EAAK+S,aAAe/S,EAAK+S,aAAa3R,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IALRA,mFASZG,KAAK4S,sDAGQ,IAAAvR,EAAArB,KACbf,EAAKoB,OAAOwS,mBAAmB,SAACzS,GAC1BA,GACFiB,EAAKM,SAAS,CAAEvB,SAChB0S,aAAaC,QAAQ,OAAQ3S,EAAKW,OAElCM,EAAKM,SAAS,CAAEvB,KAAM,OACtB0S,aAAaE,WAAW,4CAM5B,OACEhR,EAAAC,EAAAC,cAAC8K,EAAA,EAAD,KACEhL,EAAAC,EAAAC,cAAA,WAEKlC,KAAKO,MAAMH,KAGA4B,EAAAC,EAAAC,cAACiL,EAAA,EAAD,KACVnL,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CAAO8F,OAAK,EAACC,KAAK,IAAIC,UAAYhC,IADxB,IAEVnP,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CAAO+F,KAAK,WAAWC,UAAYlB,IAFzB,IAGVjQ,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CAAO+F,KAAK,SAASC,UAAY5H,KANhBvJ,EAAAC,EAAAC,cAACiL,EAAA,EAAD,KACjBnL,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CAAO8F,OAAK,EAACC,KAAK,IAAIC,UAAY/F,IADjB,IAEjBpL,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CAAUiG,KAAK,SAASnG,GAAG,gBAhCpBjK,aCGDqQ,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAAS7H,MACvB,2DCXN8H,IAASC,OAAO1R,EAAAC,EAAAC,cAACyR,EAAD,MAAYC,SAASC,eAAe,SD0H9C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzK,KAAK,SAAA0K,GACjCA,EAAaC","file":"static/js/main.cb53515d.chunk.js","sourcesContent":["import firebase from 'firebase';\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n\tapiKey: \"AIzaSyCBd78yY9bngvyXh4befoXMiK-b-mnIALc\",\n\tauthDomain: \"simple-studio-2b931.firebaseapp.com\",\n\tdatabaseURL: \"https://simple-studio-2b931.firebaseio.com\",\n\tprojectId: \"simple-studio-2b931\",\n\tstorageBucket: \"simple-studio-2b931.appspot.com\",\n\tmessagingSenderId: \"887864254461\",\n\tappId: \"1:887864254461:web:266ded447123e296\"\n};\n\n// Initialize Firebase\nconst fire = firebase.initializeApp(firebaseConfig);\nexport default fire;\n","import React, { Component } from 'react';\nimport '../../css/row.scss'\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\n\nclass Row extends Component {\n  constructor(props){\n    super(props);\n    const user=fire.auth().currentUser;\n\n    this.state = {\n      id: this.props.rowID,\n      instrument: '',\n      tone: [],\n      activeCol: -1,\n      collaborators: this.props.collaborators,\n      userID: user.uid\n    };\n    this._updateTile = this._updateTile.bind(this)\n    this._getClassNames = this._getClassNames.bind(this)\n    this.lightCol = this.lightCol.bind(this)\n  }\n\n  componentDidMount(){\n    fire.firestore().collection('row').doc(this.state.id).onSnapshot( (snapshot) => {\n      this.setState({\n        instrument: snapshot.data().instrument,\n        tone: snapshot.data().tone\n      })\n    })\n  }\n\n  //helper function to build row for tone/instruments\n  buildRow() {\n    const row = [];\n      for (let i = 0; i < 16; i++) {\n\n        // if use is in the room colaborators they can edit the room, otherwise they cant\n        row.push(<div onClick={this.state.collaborators.includes(this.state.userID) ? this._updateTile : \"\" } id={i} key={i} className={this._getClassNames(i)}></div>)\n      }\n    return row\n  }\n\n  //Gets the appropriate CSS for the tile\n  _getClassNames(i){\n    let result = \"row-tile\"\n\n    if (this.state.tone[i]){\n       result += \" selected\"\n    }\n\n    if (i === this.state.activeCol ){\n      result += \" active-tile\"\n    }\n    return result\n  }\n\n  //When clicked make it active or inactive\n  _updateTile(e) {\n    const changedTone = this.state.tone.slice()\n    changedTone[e.target.id] = !changedTone[e.target.id]\n    //this pushes the change to firebase\n    fire.firestore().collection('row').doc(this.state.id).update({\n      tone: changedTone\n    })\n\n  }\n\n  //helper that is passed down to the Music Component\n  lightCol(i){\n    this.setState({\n      activeCol: i\n    })\n  }\n\n  render(){\n    return(\n      <div className=\"row-container\">\n        <div className=\"row-title\"> {this.state.instrument} </div>\n        {this.buildRow()}\n        {\n          this.state.instrument ? <Music tone={this.state.tone} instrument={this.state.instrument} activate={this.lightCol}/> : \"\"\n        }\n      </div>\n    )\n  }\n}\n\nclass Music extends Component {\n  constructor(props){\n    super(props);\n\n    this.state ={\n      loop: \"\",\n      play: []\n    }\n  }\n\n  componentDidMount(){\n\n    //On mount get the music asset, create the sequqncer and play it according to the beat\n    const link = process.env.PUBLIC_URL + '/assets/' + this.props.instrument + '.mp3';\n\n    const drum = new Tone.Players({\n      [this.props.instrument] : link\n    }, {\n      'volume': -5,\n    }).toMaster()\n\n    const loop = new Tone.Sequence( (time, col) => {\n      if(this.props.tone[col]){\n\n        drum.get(this.props.instrument).start(time)\n\n      }\n\n      Tone.Draw.schedule( () => {\n        //Passes which tiles are played above\n        this.props.activate(col);\n      }, time);\n\n    }, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], '16n');\n\n    loop.start(0);\n\n    this.setState({\n      loop: loop\n    })\n\n  }\n\n  render(){\n    return(\n      <div />\n    )\n  }\n}\n\nexport default Row;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\nimport { transpose, scale } from \"tonal\";\n\nclass Synthesiser extends Component {\n  constructor(props){\n    super(props);\n    this.state ={\n      id: this.props.synthID,\n      loop: \"\",\n      tones: this.props.rows,\n      noteArray: [],\n      scale: \"\",\n      octave: \"\",\n      root: \"\",\n      chorus: \"\",\n      chorusAmount: 0,\n      reverb: \"\",\n      reverbAmount: 0,\n      delay: \"\",\n      delayAmount: 0,\n      vol: \"\",\n      volAmount: -12\n    }\n    this._updateTile = this._updateTile.bind(this);\n    this._onScale = this._onScale.bind(this);\n    this._onOctave = this._onOctave.bind(this);\n    this._onRoot = this._onRoot.bind(this);\n    this._handleChorus = this._handleChorus.bind(this)\n    this._handleReverb = this._handleReverb.bind(this)\n    this._handleDelay = this._handleDelay.bind(this)\n    this._handleVol = this._handleVol.bind(this)\n  }\n\n  componentDidMount() {\n    //Listen for all changes to the DB\n    fire.firestore().collection('synthesiser').doc(this.state.id).onSnapshot( (snapshot) => {\n      const data = snapshot.data();\n      const scaleChoice = data.scale;\n      const note = data.root + data.octave;\n      console.log(note);\n      this.setState({\n        noteArray: scale(scaleChoice).map(transpose(note)).reverse(),\n        tones: [\n          data.row0,\n          data.row1,\n          data.row2,\n          data.row3,\n          data.row4,\n          data.row5,\n          data.row6\n        ],\n        scale: data.scale,\n        octave: data.octave,\n        root: data.root,\n        chorusAmount: data.chorus,\n        delayAmount: data.delay,\n        reverbAmount: data.reverb,\n        volAmount: data.volume\n\n      })\n\n    })\n\n    //Create the Synth\n    const polySynth = new Tone.PolySynth(7, Tone.Synth, {\n      \"oscillator\" : { \"type\" : \"sine\" },\n      \"volume\": -6\n    })\n\n    //Create all Effects\n    var pingPong = new Tone.PingPongDelay({\n      \"delayTime\": \"4n\",\n      \"feedback\": 0.2,\n      \"wet\": 0\n    })\n\n    var chorus = new Tone.Chorus({\n      \"frequency\": 2.5,\n      \"delayTime\": 0.5,\n      \"depth\": 1,\n      \"feedback\": 0.3,\n      \"wet\": 0\n    })\n\n    var reverb = new Tone.Freeverb({\n      \"roomSize\": 0.8,\n      \"dampening\": 12000,\n      \"wet\": 0\n    })\n\n    var vol = new Tone.Volume({\n      \"volume\": -12,\n    })\n\n    //Chain them to the synth\n    polySynth.chain(vol, chorus, pingPong, reverb, Tone.Master)\n\n    //Add synth to the loop\n    const loop = new Tone.Sequence( (time, col) => {\n      for ( let i = 0; i < this.state.tones.length; i++ ){\n        if(this.state.tones[i][col]){\n          polySynth.triggerAttackRelease(this.state.noteArray[i], '16n')\n        }\n      }\n\n      Tone.Draw.schedule( () => {\n        //Shows which tiles are being played\n        this.lightCol(col);\n      }, time);\n\n    }, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], '16n');\n\n    loop.start(0);\n\n    this.setState({\n      loop: loop,\n      chorus: chorus,\n      reverb: reverb,\n      delay: pingPong,\n      vol: vol\n    })\n\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    //When the state changes, change the ToneJS Object (while you shouldnt do this normally, the Tone JS objects are always listening for changes so changing a value of the object in this way works)\n    if(prevState !== this.state){\n      this.state.chorus.wet.value = (this.state.chorusAmount / 100);\n      this.state.reverb.wet.value = (this.state.reverbAmount / 100);\n      this.state.delay.wet.value = (this.state.delayAmount / 100);\n      this.state.vol.volume.value = this.state.volAmount;\n    }\n  }\n\n  //_handles get changes to the inputs and send them to the DB to be read by the snapshot avoce and change the state amount to match\n  _handleChorus(e) {\n    this.setState({\n      chorusAmount: e.target.value\n    })\n\n    const updateChorus = () => {\n\n      fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        chorus: this.state.chorusAmount\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateChorus, 500);\n  }\n\n  _handleReverb(e) {\n    this.setState({\n      reverbAmount: e.target.value\n    })\n\n    const updateReverb = () => {\n\n      fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        reverb: this.state.reverbAmount\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateReverb, 500);\n  }\n\n  _handleDelay(e) {\n    this.setState({\n      delayAmount: e.target.value\n    })\n\n    const updateDelay = () => {\n\n      fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        delay: this.state.delayAmount\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateDelay, 500);\n  }\n\n  _handleVol(e) {\n    this.setState({\n      volAmount: e.target.value\n    })\n\n    const updateVolume = () => {\n\n      fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        volume: this.state.volAmount\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateVolume, 500);\n  }\n\n  //Create the tiles to be played with\n  createSynth() {\n    const row = [];\n    for( let j = 0; j < this.state.tones.length; j++ ){\n      let column = [];\n\n      column.push(<div className=\"row-title\"> {this.state.noteArray[j]} </div>)\n\n      for (let i = 0; i < 16; i++) {\n        column.push(<div onClick={this._updateTile} id={`${j}rowcol${i}`} key={i} className={this._getClassNames(i, j)}></div>)\n      }\n      row.push(<div className=\"row-container\">{column}</div>);\n    }\n    return row\n  }\n\n  //Gets the appropriate CSS for the tile\n  _getClassNames(i, j){\n    let result = \"row-tile\"\n\n    if (this.state.tones[j][i]){\n       result += \" selected\"\n    }\n\n    if (i === this.state.activeCol ){\n      result += \" active-tile\"\n    }\n    return result\n  }\n\n  //When clicked make it active or inactive\n  _updateTile(e) {\n    const rownum = e.target.id[0];\n    const colnum = e.target.id.slice(e.target.id.indexOf('l') + 1)\n    const changedNote = this.state.tones.slice()\n    changedNote[rownum][colnum] = !changedNote[rownum][colnum];\n    //this pushes the change to firebase\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      row0: changedNote[0],\n      row1: changedNote[1],\n      row2: changedNote[2],\n      row3: changedNote[3],\n      row4: changedNote[4],\n      row5: changedNote[5],\n      row6: changedNote[6]\n    })\n\n  }\n\n  lightCol(i){\n    this.setState({\n      activeCol: i\n    })\n  }\n\n//Change the Notes to be played\n  _onScale(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      scale: e.target.value\n    })\n  }\n\n  _onOctave(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      octave: e.target.value\n    })\n  }\n\n  _onRoot(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      root: e.target.value\n    })\n  }\n\n  render(){\n    return(\n      <>\n        <div className=\"scale-controls-container\">\n          <div className=\"scale-controls\">\n            <label>Choose Root Note</label>\n            <select onChange={this._onRoot} value={this.state.root}>\n              <option value=\"A\">A</option>\n              <option value=\"Bb\">Bb</option>\n              <option value=\"B\">B</option>\n              <option value=\"C\">C</option>\n              <option value=\"Db\">Db</option>\n              <option value=\"D\">D</option>\n              <option value=\"Eb\">Eb</option>\n              <option value=\"E\">E</option>\n              <option value=\"F\">F</option>\n              <option value=\"Gb\">Gb</option>\n              <option value=\"G\">G</option>\n            </select>\n          </div>\n          <div className=\"scale-controls\">\n            <label>Choose Scale</label>\n            <select onChange={this._onScale} value={this.state.scale}>\n              <option value=\"major\">Major</option>\n              <option value=\"minor\">Minor</option>\n              <option value=\"pentatonic\">Pentatonic</option>\n            </select>\n          </div>\n          <div className=\"scale-controls\">\n            <label>Choose Octave</label>\n            <select onChange={this._onOctave} value={this.state.octave}>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n              <option value=\"6\">6</option>\n            </select>\n          </div>\n        </div>\n        <div className=\"effects-slider-container\">\n          <label>Chorus Amount:</label>\n          <input type=\"range\" min=\"0\" max=\"100\" value={this.state.chorusAmount} onChange={this._handleChorus} className=\"slider\"/>\n          <label>Delay Amount:</label>\n          <input type=\"range\" min=\"0\" max=\"100\" value={this.state.delayAmount} onChange={this._handleDelay} className=\"slider\"/>\n        </div>\n        <div className=\"effects-slider-container\">\n          <label>Reverb Amount:</label>\n          <input type=\"range\" min=\"0\" max=\"50\" value={this.state.reverbAmount} onChange={this._handleReverb} className=\"slider\"/>\n\n          <label>Volume Amount:</label>\n          <input type=\"range\" min=\"-64\" max=\"-6\" value={this.state.volAmount} onChange={this._handleVol} className=\"slider\"/>\n        </div>\n        <div>\n        {this.createSynth()}\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Synthesiser;\n","import React, { Component } from 'react';\nimport Row from './Row'\nimport fire from '../../config/Fire'\nimport Synthesiser from './Synthesiser'\n\nclass Sequencer extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      id: this.props.seqID,\n      name: \"\",\n      rows: [],\n      isSynth: false\n    }\n\n    this.createRows = this.createRows.bind(this);\n\n  }\n\n  //this is a lifestyle function called after constructor\n  componentDidMount(){\n    //If the id is a sequencer ID then set the State to create one, otherwise check if it a synthesiser id and set the state for that\n    fire.firestore().collection('sequencer').doc(this.state.id).get().then( (snapshot) => {\n      if( snapshot.exists ){\n        this.setState({\n          name: snapshot.data().name,\n          rows: snapshot.data().rows,\n          isSynth: false\n        })\n      }else{\n        fire.firestore().collection('synthesiser').doc(this.state.id).get().then( (snapshot) => {\n          const data = snapshot.data();\n          this.setState({\n            name: data.name,\n            rows: [\n              data.row0,\n              data.row1,\n              data.row2,\n              data.row3,\n              data.row4,\n              data.row5,\n              data.row6\n            ],\n            isSynth: true\n          })\n        })\n      }\n    })\n  }\n\n  //helper function to create the sequencer rows based off ID. It checks if it is a Synth or not and creates accordingly, passing in the appropriate values\n  createRows(){\n    if(this.state.isSynth){\n      return <Synthesiser synthID={this.state.id} rows={this.state.rows}/>\n    }else{\n      const rows = [];\n      for (let i = 0; i < this.state.rows.length; i++ ){\n        rows.push( <Row key={i} rowID={this.state.rows[i]} collaborators={this.props.collaborators}/> )\n      }\n      return rows;\n    }\n  }\n\n  render(){\n    return(\n      <div>\n\n        {this.createRows()}\n      </div>\n    )\n  }\n};\n\nexport default Sequencer;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport chatbar from '../css/chatbar.scss'\nimport ScrollableFeed from 'react-scrollable-feed'\n\nclass ChatRoom extends Component {\n    constructor(props, context){\n      super(props, context);\n      this.updateMessage = this.updateMessage.bind(this)\n      this.submitMessage = this.submitMessage.bind(this)\n      const user = fire.auth().currentUser;\n      this.state = {\n        message: '',\n        messages: [],\n        showMenu: false,\n        userName: user.displayName,\n        //a room state needs to be added.\n        roomID: this.props.roomID\n\n      }\n    }\n\n    componentDidMount(){\n      //messages needs to be turned into a variable based off room name.\n      fire.database().ref(`${this.state.roomID}/`).on('value', (snapshot) =>{\n\n        const currentMessages = snapshot.val()\n\n        if (currentMessages != null){\n          this.setState({\n            messages: currentMessages\n          })\n\n        }\n      })\n    }\n\n    updateMessage(e){\n      this.setState({\n        message: e.target.value\n      })\n    }\n    submitMessage(e){\n      e.preventDefault()\n\n      const nextMessage = {\n        id: this.state.messages.length,\n        text: this.state.message,\n        user: this.state.userName\n      }\n\n      //messages needs to be updated to include room id ie room state\n      fire.database().ref(`${this.state.roomID}/`+nextMessage.id).set(nextMessage)\n\n      this.setState({message: ''})\n    }\n\n    chatToggle = () => {\n      this.props.shrinkRoom(!this.state.showMenu);\n\n      this.setState({\n        showMenu: !this.state.showMenu\n      })\n    }\n\n    render(){\n      const currentMessage = this.state.messages.map((message, i, user) => {\n        return (\n          <li key={message.id}>{message.user}: {message.text}</li>\n        )\n      })\n\n      const chatVis = this.state.showMenu ? 'active' : '';\n\n\n    return(\n      <div className=\"chat-bar\">\n        <span class=\"chatbar-toggle\" onClick={this.chatToggle}>\n          <div className=\"chat-bar-logo\">💬</div>\n        </span>\n        <form className={`main-chat ${chatVis}`} onSubmit={this.submitMessage}>\n          <ol>\n            <ScrollableFeed forceScroll='true'>\n              {currentMessage}\n            </ScrollableFeed>\n          </ol>\n          <input value={this.state.message} onChange={this.updateMessage} type=\"text\" placeholder=\"Send Message to Room\" className=\"chat-input\"/>\n          <br />\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default ChatRoom\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom'\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\nimport Sequencer from './Sequencer'\nimport Chat from '../Chat'\nimport { Link } from 'react-router-dom'\n\nclass Room extends Component {\n  constructor(props){\n    super(props);\n\n    //stops the song from a potential previous room from playing and cancel the loop attached\n   Tone.Transport.stop();\n   Tone.Transport.cancel();\n\n\n    this.state = {\n      id: this.props.match.params.room,\n      name: \"\",\n      sequencers: [],\n      transport: false,\n      tempo: '',\n      exists: true,\n      collaborators: [],\n      swing: '',\n      showMenu: false,\n      pincode: \"\"\n    }\n\n    this.createSequences = this.createSequences.bind(this);\n    this._playMusic = this._playMusic.bind(this);\n    this._changeTempo = this._changeTempo.bind(this);\n    this._changeSwing = this._changeSwing.bind(this);\n    this.shrinkRoom = this.shrinkRoom.bind(this);\n  }\n\n  //this is a lifestyle function called after constructor\n  componentDidMount(){\n    //gets database and returns as snapshot (only once, no need to update)\n    fire.firestore().collection('room').doc(this.state.id).get().then( (snapshot) => {\n      if(!snapshot.exists){\n        //If the room ID isnt valid, leave\n        this.setState({\n            exists: false\n        })\n\n      }else{\n\n        this.setState({\n          name: snapshot.data().name,\n          pincode: snapshot.data().password,\n          tempo: snapshot.data().tempo,\n          collaborators: snapshot.data().collaborators,\n          swing: snapshot.data().swing\n\n        })\n\n      }\n    })\n\n    // same as above but this is a listener that will update when the database changes\n    fire.firestore().collection('room').doc(this.state.id).onSnapshot( (snapshot) => {\n      this.setState({\n        tempo: snapshot.data().tempo,\n        sequencers: snapshot.data().sequencers,\n        swing: snapshot.data().swing\n\n      })\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (prevState !== this.state){\n      Tone.Transport.bpm.value = this.state.tempo;\n      Tone.Transport.swing = this.state.swing / 100;\n    }\n  }\n\n  //helper function to create the sequencers based off ID.\n  createSequences(){\n    const sequencer = [];\n    for (let i = 0; i < this.state.sequencers.length; i++ ){\n      sequencer.push( <Sequencer key={i} seqID={this.state.sequencers[i]} collaborators={this.state.collaborators}/> ) //add props to sequencer here.\n    }\n    return sequencer;\n  }\n\n//The Play Button\n  _playMusic(){\n    Tone.Transport.toggle();\n    let changeTransport = this.state.transport;\n    this.setState({\n      transport: !changeTransport\n    })\n  }\n\n//The BPM and Swing values that talk to the databse\n  _changeTempo(e){\n    let newTempo = e.target.value;\n\n    this.setState({\n      tempo: newTempo\n    })\n\n    const updateTempo = () => {\n\n      fire.firestore().collection('room').doc(this.state.id).update({\n        tempo: this.state.tempo\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateTempo, 1000);\n  }\n\n  _changeSwing(e){\n    let newSwing = e.target.value;\n\n    this.setState({\n      swing: newSwing\n    })\n\n    const updateSwing = () => {\n\n      fire.firestore().collection('room').doc(this.state.id).update({\n        swing: this.state.swing\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateSwing, 500);\n  }\n\n  //When the Chat is opened in its component, add this class which lessens the width the rest of the room\n  shrinkRoom(b){\n    this.setState({\n      showMenu: b\n    })\n  }\n\n  render(){\n    const chatVis = this.state.showMenu ? 'shrink-room' : '';\n\n    //Leave the fake room\n    if(!this.state.exists){\n      return <Redirect to='/' />\n    }\n\n    return(\n      <div>\n\t\t\t<Link to='/'><div className=\"home-link\">\n\t\t\t\t⏮️</div></Link>\n        <h1 id=\"room-title\">{this.state.name}</h1>\n        <div className=\"room-container\">\n        <div className={chatVis}>\n          <div className=\"slidecontainer\">\n            {\n              this.state.transport ?\n              <button className=\"transport\" onClick={this._playMusic}>◼</button> : <button  className=\"transport\" onClick={this._playMusic}>▶</button>\n            }\n            <p className=\"tempo\">Tempo: {this.state.tempo} bpm</p>\n            <input type=\"range\" min=\"60\" max=\"180\" id='bpm' value={this.state.tempo}  onChange={this._changeTempo} className=\"slider\"/>\n            <p className=\"tempo\">Swing Amount: {this.state.swing}</p>\n            <input type=\"range\" min=\"0\" max=\"100\" id='bpm' value={this.state.swing}   onChange={this._changeSwing} className=\"slider\"/>\n          </div>\n          <div className=\"sequence-wrapper\">\n            {this.createSequences()}\n          </div>\n          <h4 id=\"room-pincode\">Room Code: {this.state.pincode}</h4>\n        </div>\n        </div>\n        <Chat roomID={this.state.id} shrinkRoom={this.shrinkRoom} />\n      </div>\n    )\n  }\n};\n\nexport default Room;\n","import React, { Component } from 'react';\nimport Popup from \"reactjs-popup\";\nimport fire from '../config/Fire';\nimport '../css/login.scss'\n\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n\t\tthis.signup = this.signup.bind(this);\n\n    this.state = {\n      email: '',\n      password: '',\n\t\t\tuserName: '',\n    };\n  }\n\n  handleChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  login(e) {\n    e.preventDefault();\n    fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((u)=>{console.log()\n    }).catch((error) => {\n        console.log(error);\n      });\n  }\n\n\tsignup(e) {\n\te.preventDefault();\n\tif(this.state.userName !== ''){\n\tfire.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then(\n  \t(data)=>{\n\t\t\tconst { user } = data\n    \tif(user){\n      \tuser.updateProfile({\n         displayName: this.state.userName,\n      }).then(function() {\n        fire.firestore().collection('user').doc(user.uid).set({\n          rooms: []\n        })\n        console.log(user.displayName);\n\t\t  })\n    }\n  }).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n}\n\n\nrender() {\n\treturn (\n\t\t<div className=\"background\">\n\t\t\t<h1 className=\"title\">Simple Studio</h1>\n\t\t \t<form className=\"sign-form\">\n\t\t\t\t<div>\n\t\t \t\t\t<label className=\"login-fields\" >Email address</label>\n\t\t\t\t\t<br/>\n\t\t \t\t\t<input className=\"input\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t</div>\n\t\t \t\t<div>\n\t\t\t\t\t<label className=\"login-fields\">Password</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t</div>\n\t\t\t\t\t<button className=\"button\" type=\"submit\" onClick={this.login}>Login</button>\n\t\t\t</form>\n\t\t\t\t<p className=\"login-fields\">Not a member?</p>\n\t\t\t\t  <Popup className=\"popup-box\" id=\"signup-box\" trigger={<button className=\"button\">Sign Up</button>} position=\"center\">\n\t\t\t\t    <div>\n\t\t\t\t\t\t<form className=\"sign-form\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">User Name</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.userName} onChange={this.handleChange} type=\"name\" name=\"userName\" placeholder=\"Create a user name\" />\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">Email address</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">Password</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\"\tplaceholder=\"Password\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<button className=\"button\" onClick={this.signup}>Sign Up</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t</div>\n\t\t\t\t  </Popup>\n</div>\n\t);\n}\n}\n\nexport default Login;\n","import React, { Component } from 'react';\n\nclass SequencerForm extends Component {\n  constructor(props){\n    super(props)\n\n    this.state = {\n      value: \"\"\n    }\n\n    this._handleChange = this._handleChange.bind(this);\n  }\n\n  _handleChange(e){\n\n    this.setState({\n      value: e.target.value\n    })\n\n    if (e.target.value === 'normal'){\n      this.props.sequenceSelect(\n        [],\n        \"Sine Synth Sequencer\",\n        'normal'\n      );\n    }else if ( e.target.value === 'empty' ){\n      this.props.sequenceSelect(\n        false,\n        \"\",\n        \"\"\n      )\n    }\n  }\n//Uses a drop down menu to select which step sequencer object to use. If we add more this is where the options would go. Passes the results to the RoomForm Component\n  render(){\n    return(\n      <select className=\"select-menu\" onChange={this._handleChange} value={this.state.value}>\n        <option value=\"empty\">Select A Sequencer</option>\n        <option value=\"normal\">Sine Synth Sequencer</option>\n      </select>\n    )\n  }\n}\n\nexport default SequencerForm;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\nimport SequencerForm from './SequencerForm'\nimport { Redirect } from 'react-router-dom'\nimport '../../css/login.scss'\n\nclass RoomForm extends Component {\n  constructor(){\n    super()\n\n    this.state = {\n      roomName: \"\",\n      sequName: \"\",\n      selectedRows: false,\n      type: \"\",\n      redirectLink: \"\"\n    }\n\n    this._handleSubmit = this._handleSubmit.bind(this);\n    this._handleName = this._handleName.bind(this);\n    this._handleSequ = this._handleSequ.bind(this);\n  }\n\n  _handleName(e){\n    this.setState({\n      roomName: e.target.value\n    })\n  }\n\n  _handleSequ(rows, name, type){\n    this.setState({\n      sequName: name,\n      selectedRows: rows,\n      type: type\n    })\n  }\n\n  //Returns random Pin Code for the room\n  getPassword(){\n    return [...Array(6)].map(i=>(~~(Math.random()*36)).toString(36)).join('').toUpperCase();\n  }\n\n  //Alot of asynch requests incoming\n  _handleSubmit (e){\n    e.preventDefault();\n\n    //If a synth isnt selected return\n    if( !this.state.selectedRows){\n      return;\n    }\n\n    const userID = fire.auth().currentUser.uid;\n    const password = this.getPassword();\n    const roomName = this.state.roomName;\n\n\n      const drumRows = [\n        \"CLAP\",\n        \"CLOSEDHAT\",\n        \"SNARE\",\n        \"COWBELL\",\n        \"CYMBAL\",\n        \"KICK\",\n        \"OPENHIHAT\",\n        \"RIMSHOT\"\n      ];\n\n      const rows = [];\n      //All requests are to Firebase\n      //Need to create a row document for each drum instrument and store their ids\n      //Promise.all allows waits until all promises are done inside\n      Promise.all(drumRows.map( async(instrument) => {\n\n        //By calling asynch above you can get this function to make one asynch request at a time, and pushing them to the array\n        await fire.firestore().collection('row').add({\n\n          instrument: instrument,\n          tone: [false, false, false, false, false, false, false, false, false, false, false,false,  false, false, false, false]\n\n        }).then( (result) => {\n\n          rows.push( result.id )\n        })\n\n        })).then( () => {\n          //After the array is full of the rows create the drum sequencer model in firebase\n\n        fire.firestore().collection('sequencer').add({\n\n            name: \"Drum Sequencer\",\n            rows: rows\n\n          }).then( (result) => {\n            //store the sequencer ID and crate a Synthesiser\n            const sequID = result.id;\n\n            fire.firestore().collection('synthesiser').add({\n\n                name: this.state.sequName,\n                row0: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row1: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row2: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row3: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row4: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row5: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row6: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                scale: 'major',\n                octave: '4',\n                root: 'C',\n                type: this.state.type,\n                chorus: '0',\n                reverb: '0',\n                delay: '0',\n                volume: '-12'\n\n              }).then( (result) => {\n\n                //Create a room and include both the synthesiser and sequencer ids\n                //Add current user as a collaborator\n                fire.firestore().collection('room').add({\n                  name: roomName,\n                  tempo: '90',\n                  swing: '0',\n                  collaborators: [userID],\n                  sequencers: [sequID, result.id],\n                  password: password\n\n                }).then( (result) => {\n                  //Then update the user with the new roomID\n                  const roomID = result.id;\n                  fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n                    const roomArr = result.data().rooms.slice();\n                    roomArr.push( roomID );\n\n                    fire.firestore().collection('user').doc(userID).update({\n                      rooms: roomArr\n                    }).then( () => {\n                      //When everything is done set the redirectLink\n                      this.setState({\n                        redirectLink: roomID\n                      })\n                    })\n                  })\n                })\n              })\n\n            })\n          })\n\n\n\n    this.setState({\n      roomName: \"\",\n      sequName: \"\",\n      selectedRows: false,\n      type: false\n    })\n\n  }\n\n  render(){\n    //if there is a redirectLink redirect to it\n    if(this.state.redirectLink !== \"\"){\n      return <Redirect to={`/${this.state.redirectLink}`} />\n    }\n\n    return(\n       <div>\n          <form className=\"form-style\" onSubmit={this._handleSubmit}>\n            <label id=\"room-name\">Room Name</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <input className=\"input-home\" type=\"text\" onChange={this._handleName} value={this.state.roomName}/>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <label>Drum Sampler added by Default</label>\n            <br />\n            <br />\n            <label>Choose Starting Sequencer</label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<br/>\n            <SequencerForm sequenceSelect={this._handleSequ} />\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <input className=\"button\" type=\"submit\" />\n          </form>\n       </div>\n    )\n  }\n}\n\nexport default RoomForm;\n","import React, {Component} from 'react';\nimport { Redirect } from 'react-router-dom'\nimport fire from '../config/Fire';\n\nclass JoinRoom extends Component{\n  constructor(props){\n    super(props)\n\n    const user = fire.auth().currentUser;\n\n    this.state = {\n      roomName : \"\",\n      password: \"\",\n      redirectLink: \"\",\n      uid: user.uid\n    }\n\n    this._handleName = this._handleName.bind(this);\n    this._handlePassword = this._handlePassword.bind(this);\n    this._handleSubmit = this._handleSubmit.bind(this);\n    this.joinRoom = this.joinRoom.bind(this);\n\n  }\n\n  _handleName(e){\n    this.setState({\n      roomName: e.target.value\n    })\n  }\n\n  _handlePassword(e){\n    this.setState({\n      password: e.target.value\n    })\n  }\n\n  _handleSubmit(e){\n    e.preventDefault();\n\n    //When the password and room name are entered\n    fire.firestore().collection('room').get().then( (rooms) => {\n      rooms.docs.forEach( (doc) => {\n        //Check all rooms to see if a room has the same name and password\n        if(doc.data().name === this.state.roomName){\n          if(doc.data().password === this.state.password){\n            //if it does, join it\n            this.joinRoom(doc.id, doc.data().collaborators);\n\n          }\n        }\n      })\n    })\n  }\n\n\n  //if it does add user to room list and add room to user list\n  joinRoom(id, collab){\n    const userID = this.state.uid\n\n    if(collab.includes(userID)){\n\n      this.setState({\n        redirectLink: id\n      });\n\n      return;\n\n    }\n\n\n    const newCollabs = collab.slice();\n    newCollabs.push( userID );\n\n    fire.firestore().collection('room').doc(id).update({\n      collaborators : newCollabs\n    }).then( () => {\n\n        fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n          const roomArr = result.data().rooms.slice();\n          roomArr.push( id );\n\n          fire.firestore().collection('user').doc(userID).update({\n            rooms: roomArr\n          }).then( () => {\n            this.setState({\n              redirectLink: id\n            });\n          })\n        })\n\n    })\n  }\n\n  render(){\n    if(this.state.redirectLink){\n      const link = '/' + this.state.redirectLink\n      return <Redirect to={link} />\n    }\n\n    return(\n      <div className=\"join-room-wrapper\">\n      <form className=\"form-style\">\n        <br />\n        <br />\n        <br />\n        <label>Room Name</label>\n        <input type=\"text\" className=\"input-home\" onChange={ this._handleName } value={ this.state.roomName } />\n        <br/>\n        <br/>\n        <label>Pin Code</label>\n        <input type=\"text\" className=\"input-home\" onChange={ this._handlePassword } value={ this.state.password } />\n\n        <input type=\"submit\" className=\"button\" onClick={this._handleSubmit} value=\"Join Room\" />\n      </form>\n      </div>\n    )\n  }\n}\n\nexport default JoinRoom;\n","import React, {Component} from 'react';\nimport fire from '../config/Fire';\nimport { Link } from 'react-router-dom'\n\nclass RoomLinks extends Component{\n  constructor(){\n    super()\n    this.state = {\n      roomIDs: [],\n      rooms: []\n    }\n  }\n\n  componentDidMount(){\n    const userID = fire.auth().currentUser.uid;\n\n    fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n      this.setState({\n        roomIDs: result.data().rooms\n      })\n\n      this.generateLinks();\n\n    })\n\n  }\n\n  generateLinks(){\n    const roomIDs = this.state.roomIDs\n    const roomLinks = [];\n\n    //Get all rooms and store them\n    Promise.all(roomIDs.map( async (id) => {\n\n      await fire.firestore().collection('room').doc(id).get().then( (result) => {\n        //create the links to store them as\n        roomLinks.push(<p><Link className=\"\" to={`/${result.id}`}>{result.data().name}</Link></p>)\n\n      })\n\n    })).then( () => {\n      //pass them through state\n      this.setState({\n        rooms: roomLinks\n      });\n    })\n\n  }\n\n  render(){\n    return(\n      <div>\n      <div className=\"form-style\">\n        <div className=\"room-wrapper\">\n          {this.state.rooms}\n        </div>\n      </div>\n      </div>\n    )\n  }\n};\n\nexport default RoomLinks;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport RoomForm from './crudForms/RoomForm'\nimport JoinRoom from './JoinRoom'\nimport RoomLinks from './RoomLinks'\nimport Tone from 'tone'\nimport { Link } from 'react-router-dom'\nimport '../css/login.scss'\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\n        //stops the song from a potential previous room from playing and cancel the loop attached\n        Tone.Transport.stop();\n        Tone.Transport.cancel();\n\n\n\t\t\t\tconst user = fire.auth().currentUser;\n\t\t\t\tconsole.log(user);\n\t\t\t\tthis.state = {\n\t\t\t\t\tuserName: user.displayName,\n\t\t\t\t\temail: user.email,\n          roomForm: false,\n          roomLinks: false,\n          joinRoom: false,\n\t\t\t\t\tinitial: this.userNameShorten\n\t\t    };\n\n        this.logout = this.logout.bind(this);\n\n        this._onCreate = this._onCreate.bind(this)\n        this._onJoin = this._onJoin.bind(this)\n        this._onCollab = this._onCollab.bind(this)\n    }\n\n    //logout\n    logout() {\n        fire.auth().signOut();\n    }\n\n    //_on buttons open a different React Component\n    _onCreate(){\n      this.setState({\n        roomForm: true,\n        roomLinks: false,\n        joinRoom: false\n      })\n    }\n\n    _onJoin(){\n      this.setState({\n        roomForm: false,\n        roomLinks: false,\n        joinRoom: true\n      })\n    }\n\n    _onCollab(){\n      this.setState({\n        roomForm: false,\n        roomLinks: true,\n        joinRoom: false\n      })\n    }\n\n    render() {\n\t\t\tlet letter = '';\n\t\t\tif (this.state.userName){\n\t\t\t\t letter = this.state.userName.charAt(0).toUpperCase()\n\t\t\t}\n        return (\n\t\t\t\t\t<div className=\"background\">\n\t\t\t\t\t<Link to='/profile'><div className=\"profile-link\">\n\t\t\t\t\t\t{ letter }</div></Link>\n\t\t\t\t\t<h1 className=\"mrow\">Simple Studio</h1>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button onClick={this._onCreate} className=\"box-button\">Create</button>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<button onClick={this._onJoin} className=\"box-button\">Join Room</button>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<button onClick={this._onCollab} className=\"box-button\">Your Rooms</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ this.state.roomForm ? <RoomForm /> : \"\" }\n\t\t\t\t\t{ this.state.roomLinks ? <RoomLinks /> : \"\" }\n\t\t\t\t\t{ this.state.joinRoom ? <JoinRoom /> : \"\" }\n\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onClick={this.logout} className=\"button\">Logout</button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t}\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport '../css/login.scss'\nimport Popup from \"reactjs-popup\";\nimport { Link } from 'react-router-dom'\n\nclass Profile extends Component {\n\tconstructor(props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.deleteUser = this.deleteUser.bind(this);\n\t\t\tthis.handleChange = this.handleChange.bind(this);\n\t\t\tthis.submit = this.submit.bind(this);\n\t\t\tthis.authUser = this.authUser.bind(this);\n\n\t\t\tthis.state = {\n\t\t\t\tuserName: '',\n\t\t\t\temail: '',\n\t\t\t\tpassword: ''\n\t\t\t};\n\t}\n\n\thandleChange(e) {\n\t\tconsole.log(e)\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t}\n\n\tsubmit(s){\n\t\ts.preventDefault();\n\t\tconst user = fire.auth().currentUser;\n\t\tif(this.state.userName === ''){\n\t\t\talert('You must input a user name')\n\t\t} if(user){\n\t\t\tuser.updateProfile({\n  \t\t\tdisplayName: this.state.userName,\n\t\t\t}).then( (u) => {\n  \t\t\tconsole.log(\"Update Successful\")\n\t\t\t}).catch( (error) => {\n\t\t\t\tconsole.log(error)\n\t\t\t});\n\t\t}\n\t}\n\n\tauthUser(c){\n\t\tc.preventDefault();\n\n\t\tconst user = fire.auth().currentUser;\n\t\t// Prompt the user to re-provide their sign-in credentials\n\t\tuser.reauthenticateWithCredential(this.state.email, this.state.password).then( () => {\n\t\t\t// User re-authenticated.\n\t\t\t\tuser.delete()\n\t\t}).catch(function(error) {\n\t\t\t// An error happened.\n\t\t});\n\t}\n\n\tdeleteUser(d){\n\t\td.preventDefault()\n\t\tconst user = fire.auth().currentUser;\n\t\tuser.delete().then( () => {\n\t\t  // User deleted.\n\t\t}).catch(function(error) {\n\t\t  // An error happened.\n\t\t});\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"background\">\n\t\t\t<Link to='/'><div className=\"home-link\">\n\t\t\t\t⏮️</div></Link>\n\t\t\t<h1 className=\"mrow\">Update Profile &nbsp;</h1>\n\t\t\t<form className=\"sign-form\" onSubmit={this.submit}>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change User Name</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.userName} onChange={this.handleChange} type=\"userName\" \tname=\"userName\" placeholder=\"User Name\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change Email address</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change Password</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t</div>\n\t\t\t\t\t<button className=\"button\" type=\"submit\">Update Profile</button>\n\t\t\t</form>\n\t\t\t\t\t<button className=\"button\" type=\"submit\" onClick={this.deleteUser}>Delete Profile</button>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Profile;\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Route, Redirect, Switch } from 'react-router-dom'\nimport fire from './config/Fire';\nimport Room from './components/studio/Room';\nimport Chat from './components/Chat';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport Profile from './components/Profile';\n\nclass Routes extends Component{\n  constructor() {\n    super();\n    this.state = ({\n      user: null,\n    });\n    this.authListener = this.authListener.bind(this);\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  authListener() {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user });\n        localStorage.setItem('user', user.uid);\n      } else {\n        this.setState({ user: null });\n        localStorage.removeItem('user');\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          {\n            !this.state.user ? <Switch>\n              <Route exact path='/' component={ Login } />,\n              <Redirect from='/:room' to='/' />\n            </Switch> : <Switch>\n              <Route exact path='/' component={ Home } />,\n              <Route path='/profile' component={ Profile } />,\n              <Route path='/:room' component={ Room } />\n            </Switch>\n          }\n        </div>\n      </Router>\n   );\n  }\n\n}\n\nexport default Routes\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport Routes from './Routes';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}