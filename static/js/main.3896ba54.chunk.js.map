{"version":3,"sources":["config/Fire.js","components/studio/Row.js","components/studio/Synthesiser.js","components/studio/Sequencer.js","components/Chat.js","components/studio/Room.js","components/NavBar.js","components/Login.js","components/crudForms/SequencerForm.js","components/crudForms/RoomForm.js","components/JoinRoom.js","components/RoomLinks.js","components/Home.js","components/Profile.js","Routes.js","serviceWorker.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Row","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","user","auth","currentUser","state","id","rowID","instrument","tone","activeCol","collaborators","userID","uid","_updateTile","bind","assertThisInitialized","_getClassNames","lightCol","_this2","firestore","collection","doc","onSnapshot","snapshot","setState","data","row","i","push","react_default","a","createElement","onClick","includes","key","className","result","e","changedTone","slice","target","update","buildRow","Row_Music","activate","Component","Music","_this3","loop","play","_this4","link","drum","Tone","Players","defineProperty","volume","toMaster","Sequence","time","col","get","start","Draw","schedule","Synthesiser","synthID","tones","rows","noteArray","scale","octave","root","chorus","_onScale","_onOctave","_onRoot","scaleChoice","note","console","log","map","transpose","reverse","row0","row1","row2","row3","row4","row5","row6","polySynth","PolySynth","Synth","oscillator","type","length","triggerAttackRelease","j","column","concat","rownum","colnum","indexOf","changedNote","value","Fragment","onChange","createSynth","Sequencer","seqID","name","isSynth","createRows","then","exists","studio_Synthesiser","studio_Row","ChatRoom","context","chatToggle","showMenu","updateMessage","submitMessage","message","messages","userName","displayName","roomID","database","ref","on","currentMessages","val","preventDefault","nextMessage","text","set","currentMessage","chatVis","class","onSubmit","index_es","forceScroll","placeholder","Room","match","params","room","sequencers","transport","tempo","swing","createSequences","_playMusic","_changeTempo","_changeSwing","sequencer","studio_Sequencer","Transport","toggle","changeTransport","newTempo","bpm","clearTimeout","setTimeout","newSwing","min","max","Chat","react_router","to","Login","login","handleChange","signup","email","password","signInWithEmailAndPassword","u","catch","error","createUserWithEmailAndPassword","updateProfile","rooms","reactjs_popup_es","trigger","position","SequencerForm","_handleChange","sequenceSelect","RoomForm","roomName","sequName","selectedRows","redirectLink","_handleSubmit","_handleName","_handleSequ","toConsumableArray","Array","Math","random","toString","join","toUpperCase","getPassword","Promise","all","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","add","stop","_x","apply","arguments","sequID","roomArr","crudForms_SequencerForm","JoinRoom","_handlePassword","joinRoom","docs","forEach","collab","newCollabs","RoomLinks","roomIDs","generateLinks","roomLinks","react_router_dom","Home","userNameShorten","logout","roomForm","_onCreate","_onJoin","_onCollab","signOut","charAt","href","crudForms_RoomForm","components_RoomLinks","components_JoinRoom","Profile","submit","s","Routes","authListener","onAuthStateChanged","localStorage","setItem","removeItem","path","component","exact","from","Boolean","window","location","hostname","ReactDOM","render","src_Routes","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"4VAeeA,SADFC,EAASC,cAXD,CACpBC,OAAQ,0CACRC,WAAY,sCACZC,YAAa,6CACbC,UAAW,sBACXC,cAAe,kCACfC,kBAAmB,eACnBC,MAAO,iECLFC,qBACJ,SAAAA,EAAYC,GAAM,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GAChBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,IACN,IAAMQ,EAAKnB,EAAKoB,OAAOC,YAFP,OAIhBT,EAAKU,MAAQ,CACXC,GAAIX,EAAKD,MAAMa,MACfC,WAAY,GACZC,KAAM,GACNC,WAAY,EACZC,cAAehB,EAAKD,MAAMiB,cAC1BC,OAAQV,EAAKW,KAEflB,EAAKmB,YAAcnB,EAAKmB,YAAYC,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACnBA,EAAKsB,eAAiBtB,EAAKsB,eAAeF,KAApBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACtBA,EAAKuB,SAAWvB,EAAKuB,SAASH,KAAdnB,OAAAoB,EAAA,EAAApB,CAAAD,IAdAA,mFAiBC,IAAAwB,EAAArB,KACjBf,EAAKqC,YAAYC,WAAW,OAAOC,IAAIxB,KAAKO,MAAMC,IAAIiB,WAAY,SAACC,GACjEL,EAAKM,SAAS,CACZjB,WAAYgB,EAASE,OAAOlB,WAC5BC,KAAMe,EAASE,OAAOjB,4CAQxB,IADF,IAAMkB,EAAM,GACDC,EAAI,EAAGA,EAAI,GAAIA,IAMtBD,EAAIE,KAAKC,EAAAC,EAAAC,cAAA,OAAKC,QAASnC,KAAKO,MAAMM,cAAcuB,SAASpC,KAAKO,MAAMO,QAAUd,KAAKgB,YAAc,GAAKR,GAAIsB,EAAGO,IAAKP,EAAGQ,UAAWtC,KAAKmB,eAAeW,MAExJ,OAAOD,yCAGMC,GACb,IAAIS,EAAS,WASb,OAPIvC,KAAKO,MAAMI,KAAKmB,KACjBS,GAAU,aAGTT,IAAM9B,KAAKO,MAAMK,YACnB2B,GAAU,gBAELA,sCAGGC,GACV,IAAMC,EAAczC,KAAKO,MAAMI,KAAK+B,QACpCD,EAAYD,EAAEG,OAAOnC,KAAOiC,EAAYD,EAAEG,OAAOnC,IAEjDvB,EAAKqC,YAAYC,WAAW,OAAOC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CAC3DjC,KAAM8B,qCAKDX,GACP9B,KAAK2B,SAAS,CACZf,UAAWkB,qCAKb,OACEE,EAAAC,EAAAC,cAAA,OAAKI,UAAU,iBACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAAf,IAA6BtC,KAAKO,MAAMG,WAAxC,KACCV,KAAK6C,WAEJ7C,KAAKO,MAAMG,WAAasB,EAAAC,EAAAC,cAACY,EAAD,CAAOnC,KAAMX,KAAKO,MAAMI,KAAMD,WAAYV,KAAKO,MAAMG,WAAYqC,SAAU/C,KAAKoB,WAAc,WA5E9G4B,cAmFZC,cACJ,SAAAA,EAAYrD,GAAM,IAAAsD,EAAA,OAAApD,OAAAC,EAAA,EAAAD,CAAAE,KAAAiD,IAChBC,EAAApD,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmD,GAAA9C,KAAAH,KAAMJ,KAEDW,MAAO,CACV4C,KAAM,GACNC,KAAM,IALQF,mFASC,IAAAG,EAAArD,KAEXsD,EAAgC,UAAYtD,KAAKJ,MAAMc,WAAa,OAEpE6C,EAAO,IAAIC,IAAKC,QAAT3D,OAAA4D,EAAA,EAAA5D,CAAA,GACVE,KAAKJ,MAAMc,WAAc4C,GACzB,CACDK,QAAW,IACVC,WAEGT,EAAO,IAAIK,IAAKK,SAAU,SAACC,EAAMC,GAClCV,EAAKzD,MAAMe,KAAKoD,IAEjBR,EAAKS,IAAIX,EAAKzD,MAAMc,YAAYuD,MAAMH,GAIxCN,IAAKU,KAAKC,SAAU,WAClBd,EAAKzD,MAAMmD,SAASgB,IACnBD,IAEF,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,OAE3DX,EAAKc,MAAM,GAEXjE,KAAK2B,SAAS,CACZwB,KAAMA,qCAMR,OACEnB,EAAAC,EAAAC,cAAA,mBA3Ccc,aAgDLrD,YC2DAyE,cA7Lb,SAAAA,EAAYxE,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoE,IAChBvE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsE,GAAAjE,KAAAH,KAAMJ,KACDW,MAAO,CACVC,GAAIX,EAAKD,MAAMyE,QACflB,KAAM,GACNmB,MAAOzE,EAAKD,MAAM2E,KAClBC,UAAW,GACXC,MAAO,GACPC,OAAQ,GACRC,KAAM,GACNC,OAAQ,GAEV/E,EAAKmB,YAAcnB,EAAKmB,YAAYC,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACnBA,EAAKgF,SAAWhF,EAAKgF,SAAS5D,KAAdnB,OAAAoB,EAAA,EAAApB,CAAAD,IAChBA,EAAKiF,UAAYjF,EAAKiF,UAAU7D,KAAfnB,OAAAoB,EAAA,EAAApB,CAAAD,IACjBA,EAAKkF,QAAUlF,EAAKkF,QAAQ9D,KAAbnB,OAAAoB,EAAA,EAAApB,CAAAD,IAfCA,mFAmBE,IAAAwB,EAAArB,KAElBf,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIiB,WAAY,SAACC,GACzE,IAAME,EAAOF,EAASE,OAChBoD,EAAcpD,EAAK6C,MACnBQ,EAAOrD,EAAK+C,KAAO/C,EAAK8C,OAC9BQ,QAAQC,IAAIF,GACZ5D,EAAKM,SAAS,CACZ6C,UAAWC,YAAMO,GAAaI,IAAIC,YAAUJ,IAAOK,UACnDhB,MAAO,CACL1C,EAAK2D,KACL3D,EAAK4D,KACL5D,EAAK6D,KACL7D,EAAK8D,KACL9D,EAAK+D,KACL/D,EAAKgE,KACLhE,EAAKiE,MAEPpB,MAAO7C,EAAK6C,MACZC,OAAQ9C,EAAK8C,OACbC,KAAM/C,EAAK+C,OAEbO,QAAQC,IAAI9D,EAAKd,MAAMiE,aAIzB,IAAMsB,EAAY,IAAItC,IAAKuC,UAAU,EAAGvC,IAAKwC,MAAO,CAClDC,WAAe,CAAEC,KAAS,QAC1BvC,QAAW,IACVC,WAEGT,EAAO,IAAIK,IAAKK,SAAU,SAACC,EAAMC,GACrC,IAAM,IAAIjC,EAAI,EAAGA,EAAIT,EAAKd,MAAM+D,MAAM6B,OAAQrE,IACzCT,EAAKd,MAAM+D,MAAMxC,GAAGiC,IACrB+B,EAAUM,qBAAqB/E,EAAKd,MAAMiE,UAAU1C,GAAI,OAI5D0B,IAAKU,KAAKC,SAAU,WAClB9C,EAAKD,SAAS2C,IACbD,IAEF,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,OAE3DX,EAAKc,MAAM,GAEXjE,KAAK2B,SAAS,CACZwB,KAAMA,0CAOR,IADA,IAAMtB,EAAM,GACHwE,EAAI,EAAGA,EAAIrG,KAAKO,MAAM+D,MAAM6B,OAAQE,IAAK,CAChD,IAAIC,EAAS,GAEbA,EAAOvE,KAAKC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAAf,IAA6BtC,KAAKO,MAAMiE,UAAU6B,GAAlD,MAEZ,IAAK,IAAIvE,EAAI,EAAGA,EAAI,GAAIA,IACtBwE,EAAOvE,KAAKC,EAAAC,EAAAC,cAAA,OAAKC,QAASnC,KAAKgB,YAAaR,GAAE,GAAA+F,OAAKF,EAAL,UAAAE,OAAezE,GAAKO,IAAKP,EAAGQ,UAAWtC,KAAKmB,eAAeW,EAAGuE,MAE9GxE,EAAIE,KAAKC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,iBAAiBgE,IAE3C,OAAOzE,yCAGMC,EAAGuE,GAChB,IAAI9D,EAAS,WASb,OAPIvC,KAAKO,MAAM+D,MAAM+B,GAAGvE,KACrBS,GAAU,aAGTT,IAAM9B,KAAKO,MAAMK,YACnB2B,GAAU,gBAELA,sCAGGC,GACV,IAAMgE,EAAShE,EAAEG,OAAOnC,GAAG,GACrBiG,EAASjE,EAAEG,OAAOnC,GAAGkC,MAAMF,EAAEG,OAAOnC,GAAGkG,QAAQ,KAAO,GACtDC,EAAc3G,KAAKO,MAAM+D,MAAM5B,QACrCiE,EAAYH,GAAQC,IAAWE,EAAYH,GAAQC,GAEnDxH,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CACnE2C,KAAMoB,EAAY,GAClBnB,KAAMmB,EAAY,GAClBlB,KAAMkB,EAAY,GAClBjB,KAAMiB,EAAY,GAClBhB,KAAMgB,EAAY,GAClBf,KAAMe,EAAY,GAClBd,KAAMc,EAAY,sCAKb7E,GACP9B,KAAK2B,SAAS,CACZf,UAAWkB,qCAINU,GACPvD,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CACjE6B,MAAOjC,EAAEG,OAAOiE,0CAIZpE,GACRvD,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CACjE8B,OAAQlC,EAAEG,OAAOiE,wCAIfpE,GACNvD,EAAKqC,YAAYC,WAAW,eAAeC,IAAIxB,KAAKO,MAAMC,IAAIoC,OAAO,CACjE+B,KAAMnC,EAAEG,OAAOiE,yCAKnB,OACE5E,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4E,SAAA,KACE7E,EAAAC,EAAAC,cAAA,OAAKI,UAAU,4BACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACbN,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,UAAQ4E,SAAU9G,KAAK6E,SAAU+B,MAAO5G,KAAKO,MAAMkE,OACjDzC,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,SAAd,SACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,SAAd,SACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,cAAd,gBAGJ5E,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACbN,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,UAAQ4E,SAAU9G,KAAK8E,UAAW8B,MAAO5G,KAAKO,MAAMmE,QAClD1C,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,OAGJ5E,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACbN,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,UAAQ4E,SAAU9G,KAAK+E,QAAS6B,MAAO5G,KAAKO,MAAMoE,MAChD3C,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,MAAd,MACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,MAAd,MACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,MAAd,MACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,KACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,MAAd,MACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,KAAd,QAIN5E,EAAAC,EAAAC,cAAA,WACClC,KAAK+G,uBAvLY/D,aCqEXgE,cAnEb,SAAAA,EAAYpH,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgH,IAChBnH,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkH,GAAA7G,KAAAH,KAAMJ,KAEDW,MAAQ,CACXC,GAAIX,EAAKD,MAAMqH,MACfC,KAAM,GACN3C,KAAM,GACN4C,SAAS,GAGXtH,EAAKuH,WAAavH,EAAKuH,WAAWnG,KAAhBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAVFA,mFAcC,IAAAwB,EAAArB,KAEjBf,EAAKqC,YAAYC,WAAW,aAAaC,IAAIxB,KAAKO,MAAMC,IAAIwD,MAAMqD,KAAM,SAAC3F,GACnEA,EAAS4F,OACXjG,EAAKM,SAAS,CACZuF,KAAMxF,EAASE,OAAOsF,KACtB3C,KAAM7C,EAASE,OAAO2C,KACtB4C,SAAS,IAGXlI,EAAKqC,YAAYC,WAAW,eAAeC,IAAIH,EAAKd,MAAMC,IAAIwD,MAAMqD,KAAM,SAAC3F,GACzE,IAAME,EAAOF,EAASE,OACtBP,EAAKM,SAAS,CACZuF,KAAMtF,EAAKsF,KACX3C,KAAM,CACJ3C,EAAK2D,KACL3D,EAAK4D,KACL5D,EAAK6D,KACL7D,EAAK8D,KACL9D,EAAK+D,KACL/D,EAAKgE,KACLhE,EAAKiE,MAEPsB,SAAS,6CASjB,GAAGnH,KAAKO,MAAM4G,QACZ,OAAOnF,EAAAC,EAAAC,cAACqF,EAAD,CAAalD,QAASrE,KAAKO,MAAMC,GAAI+D,KAAMvE,KAAKO,MAAMgE,OAG7D,IADA,IAAMA,EAAO,GACJzC,EAAI,EAAGA,EAAI9B,KAAKO,MAAMgE,KAAK4B,OAAQrE,IAC1CyC,EAAKxC,KAAMC,EAAAC,EAAAC,cAACsF,EAAD,CAAKnF,IAAKP,EAAGrB,MAAOT,KAAKO,MAAMgE,KAAKzC,GAAIjB,cAAeb,KAAKJ,MAAMiB,iBAE/E,OAAO0D,mCAKT,OACEvC,EAAAC,EAAAC,cAAA,WAEGlC,KAAKoH,qBA9DUpE,6BCqFTyE,cApFX,SAAAA,EAAY7H,EAAO8H,GAAQ,IAAA7H,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyH,IACzB5H,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2H,GAAAtH,KAAAH,KAAMJ,EAAO8H,KAkDfC,WAAa,WACX9H,EAAK8B,SAAS,CACZiG,UAAW/H,EAAKU,MAAMqH,YAnDxB/H,EAAKgI,cAAgBhI,EAAKgI,cAAc5G,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrBA,EAAKiI,cAAgBjI,EAAKiI,cAAc7G,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrB,IAAMO,EAAOnB,EAAKoB,OAAOC,YAJA,OAKzBT,EAAKU,MAAQ,CACXwH,QAAS,GACTC,SAAU,GACVJ,UAAU,EACVK,SAAU7H,EAAK8H,YAEfC,OAAQtI,EAAKD,MAAMuI,QAXItI,mFAgBR,IAAAwB,EAAArB,KAEjBf,EAAKmJ,WAAWC,IAAhB,GAAA9B,OAAuBvG,KAAKO,MAAM4H,OAAlC,MAA6CG,GAAG,QAAS,SAAC5G,GAExD,IAAM6G,EAAkB7G,EAAS8G,MAEV,MAAnBD,GACFlH,EAAKM,SAAS,CACZqG,SAAUO,4CAOJ/F,GACZxC,KAAK2B,SAAS,CACZoG,QAASvF,EAAEG,OAAOiE,8CAGRpE,GACZA,EAAEiG,iBAEF,IAAMC,EAAc,CAClBlI,GAAIR,KAAKO,MAAMyH,SAAS7B,OACxBwC,KAAM3I,KAAKO,MAAMwH,QACjB3H,KAAMJ,KAAKO,MAAM0H,UAInBhJ,EAAKmJ,WAAWC,IAAI,GAAA9B,OAAGvG,KAAKO,MAAM4H,OAAd,KAAwBO,EAAYlI,IAAIoI,IAAIF,GAEhE1I,KAAK2B,SAAS,CAACoG,QAAS,sCAUxB,IAAMc,EAAiB7I,KAAKO,MAAMyH,SAAS5C,IAAI,SAAC2C,EAASjG,EAAG1B,GAC1D,OACE4B,EAAAC,EAAAC,cAAA,MAAIG,IAAK0F,EAAQvH,IAAKuH,EAAQ3H,KAA9B,KAAsC2H,EAAQY,QAG5CG,EAAU9I,KAAKO,MAAMqH,SAAW,SAAW,GAEnD,OACE5F,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAAA,QAAM6G,MAAM,iBAAiB5G,QAASnC,KAAK2H,YACzC3F,EAAAC,EAAAC,cAAA,OAAKI,UAAU,iBAAf,iBAEFN,EAAAC,EAAAC,cAAA,QAAMI,UAAS,aAAAiE,OAAeuC,GAAWE,SAAUhJ,KAAK8H,eACtD9F,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC+G,EAAA,EAAD,CAAgBC,YAAY,QACzBL,IAGL7G,EAAAC,EAAAC,cAAA,SAAO0E,MAAO5G,KAAKO,MAAMwH,QAASjB,SAAU9G,KAAK6H,cAAe3B,KAAK,OAAOiD,YAAY,uBAAuB7G,UAAU,eACzHN,EAAAC,EAAAC,cAAA,oBA9Eac,aC6IRoG,cA3Ib,SAAAA,EAAYxJ,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoJ,IAChBvJ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsJ,GAAAjJ,KAAAH,KAAMJ,KAEDW,MAAQ,CACXC,GAAIX,EAAKD,MAAMyJ,MAAMC,OAAOC,KAC5BrC,KAAM,GACNsC,WAAY,GACZC,WAAW,EACXC,MAAO,GACPpC,QAAQ,EACRzG,cAAe,GACf8I,MAAO,IAGT9J,EAAK+J,gBAAkB/J,EAAK+J,gBAAgB3I,KAArBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACvBA,EAAKgK,WAAahK,EAAKgK,WAAW5I,KAAhBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAClBA,EAAKiK,aAAejK,EAAKiK,aAAa7I,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACpBA,EAAKkK,aAAelK,EAAKkK,aAAa9I,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAjBJA,mFAqBC,IAAAwB,EAAArB,KAEjBf,EAAKqC,YAAYC,WAAW,QAAQC,IAAIxB,KAAKO,MAAMC,IAAIwD,MAAMqD,KAAM,SAAC3F,GAC9DA,EAAS4F,OAQXjG,EAAKM,SAAS,CACZuF,KAAMxF,EAASE,OAAOsF,KACtBwC,MAAOhI,EAASE,OAAO8H,MACvB7I,cAAea,EAASE,OAAOf,cAC/B8I,MAAOjI,EAASE,OAAO+H,QAVzBtI,EAAKM,SAAS,CACV2F,QAAQ,MAehBrI,EAAKqC,YAAYC,WAAW,QAAQC,IAAIxB,KAAKO,MAAMC,IAAIiB,WAAY,SAACC,GAClEL,EAAKM,SAAS,CACZ+H,MAAOhI,EAASE,OAAO8H,MACvBF,WAAY9H,EAASE,OAAO4H,yDAQhC,IADA,IAAMQ,EAAY,GACTlI,EAAI,EAAGA,EAAI9B,KAAKO,MAAMiJ,WAAWrD,OAAQrE,IAChDkI,EAAUjI,KAAMC,EAAAC,EAAAC,cAAC+H,EAAD,CAAW5H,IAAKP,EAAGmF,MAAOjH,KAAKO,MAAMiJ,WAAW1H,GAAIjB,cAAeb,KAAKO,MAAMM,iBAEhG,OAAOmJ,uCAIPxG,IAAK0G,UAAUC,SACf,IAAIC,EAAkBpK,KAAKO,MAAMkJ,UACjCzJ,KAAK2B,SAAS,CACZ8H,WAAYW,yCAIH5H,GAAE,IAAAU,EAAAlD,KACTqK,EAAW7H,EAAEG,OAAOiE,MAExB5G,KAAK2B,SAAS,CACZ+H,MAAOW,IAGT7G,IAAK0G,UAAUI,IAAI1D,MAAQ5G,KAAKO,MAAMmJ,MAStCa,aAAavK,KAAK8D,MAElB9D,KAAK8D,KAAO0G,WATQ,WAElBvL,EAAKqC,YAAYC,WAAW,QAAQC,IAAI0B,EAAK3C,MAAMC,IAAIoC,OAAO,CAC5D8G,MAAOxG,EAAK3C,MAAMmJ,SAMc,0CAGzBlH,GAAE,IAAAa,EAAArD,KACTyK,EAAWjI,EAAEG,OAAOiE,MAExB5G,KAAK2B,SAAS,CACZgI,MAAOc,IAGTjH,IAAK0G,UAAUP,MAAQ3J,KAAKO,MAAMoJ,MAAQ,IAS1CY,aAAavK,KAAK8D,MAElB9D,KAAK8D,KAAO0G,WATQ,WAElBvL,EAAKqC,YAAYC,WAAW,QAAQC,IAAI6B,EAAK9C,MAAMC,IAAIoC,OAAO,CAC5D+G,MAAOtG,EAAK9C,MAAMoJ,SAMc,sCAKpC,OAAI3J,KAAKO,MAAM+G,OAKbtF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,kBACfN,EAAAC,EAAAC,cAAA,UAAKlC,KAAKO,MAAM2G,MAEZlH,KAAKO,MAAMkJ,UACXzH,EAAAC,EAAAC,cAAA,UAAQI,UAAU,YAAYH,QAASnC,KAAK6J,YAA5C,UAAqE7H,EAAAC,EAAAC,cAAA,UAAQI,UAAU,YAAYH,QAASnC,KAAK6J,YAA5C,UAEvE7H,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAb,UAA6BtC,KAAKO,MAAMmJ,MAAxC,QACA1H,EAAAC,EAAAC,cAAA,SAAOgE,KAAK,QAAQwE,IAAI,KAAKC,IAAI,MAAMnK,GAAG,MAAMoG,MAAO5G,KAAKO,MAAMmJ,MAAO5C,SAAU9G,KAAK8J,aAAcxH,UAAU,WAChHN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAb,iBAAoCtC,KAAKO,MAAMoJ,OAC/C3H,EAAAC,EAAAC,cAAA,SAAOgE,KAAK,QAAQwE,IAAI,IAAIC,IAAI,MAAMnK,GAAG,MAAMoG,MAAO5G,KAAKO,MAAMoJ,MAAO7C,SAAU9G,KAAK+J,aAAczH,UAAU,YAEjHN,EAAAC,EAAAC,cAAA,YAEAF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACdtC,KAAK4J,mBAEN5H,EAAAC,EAAAC,cAAC0I,EAAD,CAAMzC,OAAQnI,KAAKO,MAAMC,MArBpBwB,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAUC,GAAG,aAjHP9H,gCCFEA,mBC+FN+H,qBA7Fb,SAAAA,EAAYnL,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+K,IACjBlL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiL,GAAA5K,KAAAH,KAAMJ,KACDoL,MAAQnL,EAAKmL,MAAM/J,KAAXnB,OAAAoB,EAAA,EAAApB,CAAAD,IACbA,EAAKoL,aAAepL,EAAKoL,aAAahK,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACtBA,EAAKqL,OAASrL,EAAKqL,OAAOjK,KAAZnB,OAAAoB,EAAA,EAAApB,CAAAD,IAEZA,EAAKU,MAAQ,CACX4K,MAAO,GACPC,SAAU,GACbnD,SAAU,IATQpI,4EAcN2C,GACXxC,KAAK2B,SAAL7B,OAAA4D,EAAA,EAAA5D,CAAA,GAAiB0C,EAAEG,OAAOuE,KAAO1E,EAAEG,OAAOiE,sCAGtCpE,GACJA,EAAEiG,iBACFxJ,EAAKoB,OAAOgL,2BAA2BrL,KAAKO,MAAM4K,MAAOnL,KAAKO,MAAM6K,UAAU/D,KAAK,SAACiE,GAAKpG,QAAQC,QAC9FoG,MAAM,SAACC,GACNtG,QAAQC,IAAIqG,oCAIZhJ,GAAG,IAAAnB,EAAArB,KACVwC,EAAEiG,iBACFxJ,EAAKoB,OAAOoL,+BAA+BzL,KAAKO,MAAM4K,MAAOnL,KAAKO,MAAM6K,UAAU/D,KAChF,SAACzF,GAAO,IACAxB,EAASwB,EAATxB,KACHA,GACDA,EAAKsL,cAAc,CACjBxD,YAAa7G,EAAKd,MAAM0H,WACxBZ,KAAK,WAENpI,EAAKqC,YAAYC,WAAW,QAAQC,IAAIpB,EAAKW,KAAK6H,IAAI,CACpD+C,MAAO,KAETzG,QAAQC,IAAI/E,EAAK8H,iBAGpBqD,MAAM,SAACC,GACTtG,QAAQC,IAAIqG,sCAMd,OACCxJ,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACdN,EAAAC,EAAAC,cAAA,MAAII,UAAU,SAAd,iBACCN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,aAChBN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAjB,iBACDN,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQsE,MAAO5G,KAAKO,MAAM4K,MAAOrE,SAAU9G,KAAKiL,aAAc/E,KAAK,QAAQgB,KAAK,QAAQiC,YAAY,iBAEtHnH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAjB,YACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQsE,MAAO5G,KAAKO,MAAM6K,SAAUtE,SAAU9G,KAAKiL,aAAc/E,KAAK,WAAWgB,KAAK,WAAWiC,YAAY,cAE9HnH,EAAAC,EAAAC,cAAA,UAAQI,UAAU,SAAS4D,KAAK,SAAS/D,QAASnC,KAAKgL,OAAvD,UAEDhJ,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAb,iBACEN,EAAAC,EAAAC,cAAC0J,EAAA,EAAD,CAAOtJ,UAAU,YAAY9B,GAAG,aAAaqL,QAAS7J,EAAAC,EAAAC,cAAA,UAAQI,UAAU,UAAlB,WAA6CwJ,SAAS,UAC1G9J,EAAAC,EAAAC,cAAA,WACFF,EAAAC,EAAAC,cAAA,QAAMI,UAAU,aACdN,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cAAjB,aACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,YAAYsE,MAAO5G,KAAKO,MAAM0H,SAAUnB,SAAU9G,KAAKiL,aAAc/E,KAAK,OAAOgB,KAAK,WAAWiC,YAAY,uBAC9HnH,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cAAjB,iBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,YAAYsE,MAAO5G,KAAKO,MAAM4K,MAAOrE,SAAU9G,KAAKiL,aAAc/E,KAAK,QAAQgB,KAAK,QAAQiC,YAAY,iBAE1HnH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,cAAjB,YACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,YAAYsE,MAAO5G,KAAKO,MAAM6K,SAAUtE,SAAU9G,KAAKiL,aAAc/E,KAAK,WAAWgB,KAAK,WAAWiC,YAAY,cAElInH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQI,UAAU,SAASH,QAASnC,KAAKkL,QAAzC,YAEFlJ,EAAAC,EAAAC,cAAA,qBAtFac,+CCwCL+I,cAzCb,SAAAA,EAAYnM,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+L,IAChBlM,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiM,GAAA5L,KAAAH,KAAMJ,KAEDW,MAAQ,CACXqG,MAAO,IAGT/G,EAAKmM,cAAgBnM,EAAKmM,cAAc/K,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAPLA,6EAUJ2C,GAEZxC,KAAK2B,SAAS,CACZiF,MAAOpE,EAAEG,OAAOiE,QAGK,WAAnBpE,EAAEG,OAAOiE,MACX5G,KAAKJ,MAAMqM,eACT,GACA,uBACA,UAE0B,UAAnBzJ,EAAEG,OAAOiE,OAClB5G,KAAKJ,MAAMqM,gBACT,EACA,GACA,qCAMJ,OACEjK,EAAAC,EAAAC,cAAA,UAAQI,UAAU,cAAcwE,SAAU9G,KAAKgM,cAAepF,MAAO5G,KAAKO,MAAMqG,OAC9E5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,SAAd,sBACA5E,EAAAC,EAAAC,cAAA,UAAQ0E,MAAM,UAAd,gCApCoB5D,aCoLbkJ,cA/Kb,SAAAA,IAAa,IAAArM,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkM,IACTrM,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoM,GAAA/L,KAAAH,QAEKO,MAAQ,CACX4L,SAAU,GACVC,SAAU,GACVC,cAAc,EACdnG,KAAM,GACNoG,aAAc,IAGhBzM,EAAK0M,cAAgB1M,EAAK0M,cAActL,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrBA,EAAK2M,YAAc3M,EAAK2M,YAAYvL,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACnBA,EAAK4M,YAAc5M,EAAK4M,YAAYxL,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IAbVA,2EAgBD2C,GACVxC,KAAK2B,SAAS,CACZwK,SAAU3J,EAAEG,OAAOiE,4CAIXrC,EAAM2C,EAAMhB,GAEpBlG,KAAK2B,SAAS,CACZyK,SAAUlF,EACVmF,aAAc9H,EACd2B,KAAMA,0CAOV,OAAOpG,OAAA4M,EAAA,EAAA5M,CAAI6M,MAAM,IAAIvH,IAAI,SAAAtD,GAAC,UAAoB,GAAd8K,KAAKC,WAAcC,SAAS,MAAKC,KAAK,IAAIC,oDAG7DxK,GAAE,IAAAnB,EAAArB,KAIf,GAHAwC,EAAEiG,iBAGGzI,KAAKO,MAAM8L,aAAhB,CAIA,IAAMvL,EAAS7B,EAAKoB,OAAOC,YAAYS,IACjCqK,EAAWpL,KAAKiN,cAChBd,EAAWnM,KAAKO,MAAM4L,SAcpB5H,EAAO,GAGb2I,QAAQC,IAdS,CACf,OACA,YACA,QACA,UACA,SACA,OACA,YACA,WAMmB/H,IAAT,eAAAgI,EAAAtN,OAAAuN,EAAA,EAAAvN,CAAAwN,EAAArL,EAAAsL,KAAc,SAAAC,EAAM9M,GAAN,OAAA4M,EAAArL,EAAAwL,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAElB3O,EAAKqC,YAAYC,WAAW,OAAOsM,IAAI,CAE3CnN,WAAYA,EACZC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAM,GAAQ,GAAO,GAAO,GAAO,KAE/G0G,KAAM,SAAC9E,GAERgC,EAAKxC,KAAMQ,EAAO/B,MATI,wBAAAkN,EAAAI,SAAAN,MAAd,gBAAAO,GAAA,OAAAX,EAAAY,MAAAhO,KAAAiO,YAAA,KAYN5G,KAAM,WAGVpI,EAAKqC,YAAYC,WAAW,aAAasM,IAAI,CAEzC3G,KAAM,iBACN3C,KAAMA,IAEL8C,KAAM,SAAC9E,GACR,IAAM2L,EAAS3L,EAAO/B,GAEtBvB,EAAKqC,YAAYC,WAAW,eAAesM,IAAI,CAE3C3G,KAAM7F,EAAKd,MAAM6L,SACjB7G,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHC,KAAM,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAChHpB,MAAO,QACPC,OAAQ,IACRC,KAAM,IACNuB,KAAM7E,EAAKd,MAAM2F,OAEhBmB,KAAM,SAAC9E,GAGRtD,EAAKqC,YAAYC,WAAW,QAAQsM,IAAI,CACtC3G,KAAMiF,EACNzC,MAAO,KACPC,MAAO,IACP9I,cAAe,CAACC,GAChB0I,WAAY,CAAC0E,EAAQ3L,EAAO/B,IAC5B4K,SAAUA,IAET/D,KAAM,SAAC9E,GAER,IAAM4F,EAAS5F,EAAO/B,GACtBvB,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQkD,MAAMqD,KAAM,SAAC9E,GAE3D,IAAM4L,EAAU5L,EAAOX,OAAO+J,MAAMjJ,QACpCyL,EAAQpM,KAAMoG,GAEdlJ,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQ8B,OAAO,CACrD+I,MAAOwC,IACN9G,KAAM,WACPhG,EAAKM,SAAS,CACZ2K,aAAcnE,gBAYlCnI,KAAK2B,SAAS,CACZwK,SAAU,GACVC,SAAU,GACVC,cAAc,EACdnG,MAAM,sCAMR,MAA+B,KAA5BlG,KAAKO,MAAM+L,aACLtK,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAUC,GAAE,IAAAvE,OAAMvG,KAAKO,MAAM+L,gBAInCtK,EAAAC,EAAAC,cAAA,WACGF,EAAAC,EAAAC,cAAA,QAAMI,UAAU,aAAa0G,SAAUhJ,KAAKuM,eAC1CvK,EAAAC,EAAAC,cAAA,0BACNF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,aAAa4D,KAAK,OAAOY,SAAU9G,KAAKwM,YAAa5F,MAAO5G,KAAKO,MAAM4L,WAC9FnK,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAAA,qCACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,mCACNF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAACkM,EAAD,CAAenC,eAAgBjM,KAAKyM,cAC1CzK,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACMF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAS4D,KAAK,oBAzKpBlD,aCkGRqL,cArGb,SAAAA,EAAYzO,GAAM,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqO,GAChBxO,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuO,GAAAlO,KAAAH,KAAMJ,IAEN,IAAMQ,EAAOnB,EAAKoB,OAAOC,YAHT,OAKhBT,EAAKU,MAAQ,CACX4L,SAAW,GACXf,SAAU,GACVkB,aAAc,GACdvL,IAAKX,EAAKW,KAGZlB,EAAK2M,YAAc3M,EAAK2M,YAAYvL,KAAjBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACnBA,EAAKyO,gBAAkBzO,EAAKyO,gBAAgBrN,KAArBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACvBA,EAAK0M,cAAgB1M,EAAK0M,cAActL,KAAnBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACrBA,EAAK0O,SAAW1O,EAAK0O,SAAStN,KAAdnB,OAAAoB,EAAA,EAAApB,CAAAD,IAfAA,2EAmBN2C,GACVxC,KAAK2B,SAAS,CACZwK,SAAU3J,EAAEG,OAAOiE,gDAIPpE,GACdxC,KAAK2B,SAAS,CACZyJ,SAAU5I,EAAEG,OAAOiE,8CAITpE,GAAE,IAAAnB,EAAArB,KACdwC,EAAEiG,iBAEFxJ,EAAKqC,YAAYC,WAAW,QAAQyC,MAAMqD,KAAM,SAACsE,GAC/CA,EAAM6C,KAAKC,QAAS,SAACjN,GAChBA,EAAII,OAAOsF,OAAS7F,EAAKd,MAAM4L,UAC7B3K,EAAII,OAAOwJ,WAAa/J,EAAKd,MAAM6K,UAEpC/J,EAAKkN,SAAS/M,EAAIhB,GAAIgB,EAAII,OAAOf,oDAQlCL,EAAIkO,GACX,IAAM5N,EAASd,KAAKO,MAAMQ,IAE1B,GAAG2N,EAAOtM,SAAStB,GAEjBd,KAAK2B,SAAS,CACZ2K,aAAc9L,QAHlB,CAWA,IAAMmO,EAAaD,EAAOhM,QAC1BiM,EAAW5M,KAAMjB,GAEjB7B,EAAKqC,YAAYC,WAAW,QAAQC,IAAIhB,GAAIoC,OAAO,CACjD/B,cAAgB8N,IACftH,KAAM,WAELpI,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQkD,MAAMqD,KAAM,SAAC9E,GAE3D,IAAM4L,EAAU5L,EAAOX,OAAO+J,MAAMjJ,QACpCyL,EAAQpM,KAAMvB,GAEdvB,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQ8B,OAAO,CACrD+I,MAAOwC,0CAQf,GAAGnO,KAAKO,MAAM+L,aAAa,CACzB,IAAMhJ,EAAO,IAAMtD,KAAKO,MAAM+L,aAC9B,OAAOtK,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAUC,GAAIxH,IAGvB,OACEtB,EAAAC,EAAAC,cAAA,QAAMI,UAAU,cACdN,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAOgE,KAAK,OAAO5D,UAAU,aAAawE,SAAW9G,KAAKwM,YAAc5F,MAAQ5G,KAAKO,MAAM4L,WAC3FnK,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SAAOgE,KAAK,OAAO5D,UAAU,aAAawE,SAAW9G,KAAKsO,gBAAkB1H,MAAQ5G,KAAKO,MAAM6K,WAE/FpJ,EAAAC,EAAAC,cAAA,SAAOgE,KAAK,SAAS5D,UAAU,SAASH,QAASnC,KAAKuM,cAAe3F,MAAM,sBAhG5D5D,aCqDR4L,cAnDb,SAAAA,IAAa,IAAA/O,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4O,IACX/O,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8O,GAAAzO,KAAAH,QACKO,MAAQ,CACXsO,QAAS,GACTlD,MAAO,IAJE9L,mFAQM,IAAAwB,EAAArB,KACXc,EAAS7B,EAAKoB,OAAOC,YAAYS,IAEvC9B,EAAKqC,YAAYC,WAAW,QAAQC,IAAIV,GAAQkD,MAAMqD,KAAM,SAAC9E,GAE3DlB,EAAKM,SAAS,CACZkN,QAAStM,EAAOX,OAAO+J,QAGzBtK,EAAKyN,0DAMM,IAAA5L,EAAAlD,KACP6O,EAAU7O,KAAKO,MAAMsO,QACrBE,EAAY,GAElB7B,QAAQC,IAAI0B,EAAQzJ,IAAR,eAAAgI,EAAAtN,OAAAuN,EAAA,EAAAvN,CAAAwN,EAAArL,EAAAsL,KAAa,SAAAC,EAAOhN,GAAP,OAAA8M,EAAArL,EAAAwL,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEjB3O,EAAKqC,YAAYC,WAAW,QAAQC,IAAIhB,GAAIwD,MAAMqD,KAAM,SAAC9E,GAC7DwM,EAAUhN,KAAKC,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAC8M,EAAA,EAAD,CAAM1M,UAAU,GAAGwI,GAAE,IAAAvE,OAAMhE,EAAO/B,KAAO+B,EAAOX,OAAOsF,UAHpD,wBAAAwG,EAAAI,SAAAN,MAAb,gBAAAO,GAAA,OAAAX,EAAAY,MAAAhO,KAAAiO,YAAA,KAOR5G,KAAM,WACRnE,EAAKvB,SAAS,CACZgK,MAAOoD,uCAOX,OACE/M,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACZtC,KAAKO,MAAMoL,cA9CI3I,aCsFTiM,cAjFX,SAAAA,EAAYrP,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiP,IACfpP,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmP,GAAA9O,KAAAH,KAAMJ,KACLsP,gBAAkBrP,EAAKqP,gBAAgBjO,KACxCpB,EAAKsP,OAAStP,EAAKsP,OAAOlO,KAAZnB,OAAAoB,EAAA,EAAApB,CAAAD,IAClB,IAAMO,EAAOnB,EAAKoB,OAAOC,YAJN,OAKnBT,EAAKU,MAAQ,CACZ0H,SAAU7H,EAAK8H,YACfiD,MAAO/K,EAAK+K,MACPiE,UAAU,EACVL,WAAW,EACXR,UAAU,GAGZ1O,EAAKwP,UAAYxP,EAAKwP,UAAUpO,KAAfnB,OAAAoB,EAAA,EAAApB,CAAAD,IACjBA,EAAKyP,QAAUzP,EAAKyP,QAAQrO,KAAbnB,OAAAoB,EAAA,EAAApB,CAAAD,IACfA,EAAK0P,UAAY1P,EAAK0P,UAAUtO,KAAfnB,OAAAoB,EAAA,EAAApB,CAAAD,IAfFA,wEAmBfZ,EAAKoB,OAAOmP,kDAGFlE,GACf,IAAMlL,EAAOnB,EAAKoB,OAAOC,YACnB4G,EAAOlH,KAAKO,MAAM0H,SAIxB,OAHG7H,GACF8G,EAAKuI,OAAO,GAAGzC,cAET9F,sCAIJlH,KAAK2B,SAAS,CACZyN,UAAU,EACVL,WAAW,EACXR,UAAU,sCAKZvO,KAAK2B,SAAS,CACZyN,UAAU,EACVL,WAAW,EACXR,UAAU,wCAKZvO,KAAK2B,SAAS,CACZyN,UAAU,EACVL,WAAW,EACXR,UAAU,qCAKV,OACHvM,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACfN,EAAAC,EAAAC,cAAA,KAAGwN,KAAK,oBAAmB1N,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBAAgBtC,KAAKkP,kBAC/DlN,EAAAC,EAAAC,cAAA,MAAII,UAAU,QAAd,iBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACfN,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,UAAQC,QAASnC,KAAKqP,UAAW/M,UAAU,cAA3C,UACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQC,QAASnC,KAAKsP,QAAShN,UAAU,cAAzC,aACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQC,QAASnC,KAAKuP,UAAWjN,UAAU,cAA3C,gBAECtC,KAAKO,MAAM6O,SAAWpN,EAAAC,EAAAC,cAACyN,EAAD,MAAe,GACrC3P,KAAKO,MAAMwO,UAAY/M,EAAAC,EAAAC,cAAC0N,EAAD,MAAgB,GACvC5P,KAAKO,MAAMgO,SAAWvM,EAAAC,EAAAC,cAAC2N,EAAD,MAAe,GACvC7N,EAAAC,EAAAC,cAAA,aAEAF,EAAAC,EAAAC,cAAA,UAAQC,QAASnC,KAAKmP,OAAQ7M,UAAU,UAAxC,kBA5EcU,aCyDJ8M,cA7Dd,SAAAA,EAAYlQ,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8P,IACjBjQ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgQ,GAAA3P,KAAAH,KAAMJ,KAEDqL,aAAepL,EAAKoL,aAAahK,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IACpBA,EAAKkQ,OAASlQ,EAAKkQ,OAAO9O,KAAZnB,OAAAoB,EAAA,EAAApB,CAAAD,IAEdA,EAAKU,MAAQ,CACZ0H,SAAU,GACVkD,MAAO,GACPC,SAAU,IATMvL,4EAaN2C,GACZxC,KAAK2B,SAAL7B,OAAA4D,EAAA,EAAA5D,CAAA,GAAiB0C,EAAEG,OAAOuE,KAAO1E,EAAEG,OAAOiE,uCAGpCoJ,GACNA,EAAEvH,iBACF,IAAMrI,EAAOnB,EAAKoB,OAAOC,YACtBF,GACHA,EAAKsL,cAAc,CACjBxD,YAAalI,KAAKO,MAAM0H,WACvBZ,KAAM,SAACiE,GACRpG,QAAQC,IAAI,uBACXoG,MAAO,SAACC,GACVtG,QAAQC,IAAIqG,sCAQb,OACCxJ,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACfN,EAAAC,EAAAC,cAAA,KAAGwN,KAAK,OAAM1N,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBAAf,SACdN,EAAAC,EAAAC,cAAA,MAAII,UAAU,QAAd,uBACAN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,YAAY0G,SAAUhJ,KAAK+P,QAC1C/N,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAjB,oBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQsE,MAAO5G,KAAKO,MAAM0H,SAAUnB,SAAU9G,KAAKiL,aAAc/E,KAAK,WAAYgB,KAAK,WAAWiC,YAAY,eAEhInH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAjB,wBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQsE,MAAO5G,KAAKO,MAAM4K,MAAOrE,SAAU9G,KAAKiL,aAAc/E,KAAK,QAAQgB,KAAK,QAAQiC,YAAY,iBAEtHnH,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,SAAjB,mBACAN,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQsE,MAAO5G,KAAKO,MAAM6K,SAAUtE,SAAU9G,KAAKiL,aAAc/E,KAAK,WAAWgB,KAAK,WAAWiC,YAAY,cAE9HnH,EAAAC,EAAAC,cAAA,UAAQI,UAAU,SAAS4D,KAAK,UAAhC,2BAvDiBlD,aCqDPiN,cA9Cb,SAAAA,IAAc,IAAApQ,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiQ,IACZpQ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmQ,GAAA9P,KAAAH,QACKO,MAAS,CACZH,KAAM,MAERP,EAAKqQ,aAAerQ,EAAKqQ,aAAajP,KAAlBnB,OAAAoB,EAAA,EAAApB,CAAAD,IALRA,mFASZG,KAAKkQ,sDAGQ,IAAA7O,EAAArB,KACbf,EAAKoB,OAAO8P,mBAAmB,SAAC/P,GAC1BA,GACFiB,EAAKM,SAAS,CAAEvB,SAChBgQ,aAAaC,QAAQ,OAAQjQ,EAAKW,OAElCM,EAAKM,SAAS,CAAEvB,KAAM,OACtBgQ,aAAaE,WAAW,4CAM5B,OACEtO,EAAAC,EAAAC,cAAC8M,EAAA,EAAD,KACEhN,EAAAC,EAAAC,cAAA,WAEKlC,KAAKO,MAAMH,KAGA4B,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,KACjB7I,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAO0F,KAAK,iBAAiBC,UAAYV,IADxB,IAEV9N,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAO4F,OAAK,EAACF,KAAK,IAAIC,UAAYvB,IAFxB,IAGVjN,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAO0F,KAAK,iBAAiBC,UAAYV,IAH/B,IAIV9N,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAO0F,KAAK,SAASC,UAAYpH,KAPhBpH,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,KACjB7I,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAO4F,OAAK,EAACF,KAAK,IAAIC,UAAYzF,IADjB,IAEjB/I,EAAAC,EAAAC,cAAC2I,EAAA,EAAD,CAAU6F,KAAK,SAAS5F,GAAG,gBAhCpB9H,aCED2N,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASzH,MACvB,2DCXN0H,IAASC,OAAOhP,EAAAC,EAAAC,cAAC+O,EAAD,MAAYC,SAASC,eAAe,SD0H9C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMjK,KAAK,SAAAkK,GACjCA,EAAaC","file":"static/js/main.3896ba54.chunk.js","sourcesContent":["import firebase from 'firebase';\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n\tapiKey: \"AIzaSyCBd78yY9bngvyXh4befoXMiK-b-mnIALc\",\n\tauthDomain: \"simple-studio-2b931.firebaseapp.com\",\n\tdatabaseURL: \"https://simple-studio-2b931.firebaseio.com\",\n\tprojectId: \"simple-studio-2b931\",\n\tstorageBucket: \"simple-studio-2b931.appspot.com\",\n\tmessagingSenderId: \"887864254461\",\n\tappId: \"1:887864254461:web:266ded447123e296\"\n};\n\n// Initialize Firebase\nconst fire = firebase.initializeApp(firebaseConfig);\nexport default fire;\n","import React, { Component } from 'react';\nimport '../../css/row.scss'\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\n\nclass Row extends Component {\n  constructor(props){\n    super(props);\n    const user=fire.auth().currentUser;\n\n    this.state = {\n      id: this.props.rowID,\n      instrument: '',\n      tone: [],\n      activeCol: -1,\n      collaborators: this.props.collaborators,\n      userID: user.uid\n    };\n    this._updateTile = this._updateTile.bind(this)\n    this._getClassNames = this._getClassNames.bind(this)\n    this.lightCol = this.lightCol.bind(this)\n  }\n\n  componentDidMount(){\n    fire.firestore().collection('row').doc(this.state.id).onSnapshot( (snapshot) => {\n      this.setState({\n        instrument: snapshot.data().instrument,\n        tone: snapshot.data().tone\n      })\n    })\n  }\n\n  //helper function to build row for tone/instruments\n  buildRow() {\n    const row = [];\n      for (let i = 0; i < 16; i++) {\n\n        //add ternery here for the onclick, if true user auth on this room, calls this._updateTile otherwise do nothing.\n\n        // this.state.collaborators.includes(this.state.userID) ? true : false\n        //if room colaborators is equal to current user\n        row.push(<div onClick={this.state.collaborators.includes(this.state.userID) ? this._updateTile : \"\" } id={i} key={i} className={this._getClassNames(i)}></div>)\n      }\n    return row\n  }\n\n  _getClassNames(i){\n    let result = \"row-tile\"\n\n    if (this.state.tone[i]){\n       result += \" selected\"\n    }\n\n    if (i === this.state.activeCol ){\n      result += \" active-tile\"\n    }\n    return result\n  }\n\n  _updateTile(e) {\n    const changedTone = this.state.tone.slice()\n    changedTone[e.target.id] = !changedTone[e.target.id]\n    //this pushes the change to firebase\n    fire.firestore().collection('row').doc(this.state.id).update({\n      tone: changedTone\n    })\n\n  }\n\n  lightCol(i){\n    this.setState({\n      activeCol: i\n    })\n  }\n\n  render(){\n    return(\n      <div className=\"row-container\">\n        <div className=\"row-title\"> {this.state.instrument} </div>\n        {this.buildRow()}\n        {\n          this.state.instrument ? <Music tone={this.state.tone} instrument={this.state.instrument} activate={this.lightCol}/> : \"\"\n        }\n      </div>\n    )\n  }\n}\n\nclass Music extends Component {\n  constructor(props){\n    super(props);\n\n    this.state ={\n      loop: \"\",\n      play: []\n    }\n  }\n\n  componentDidMount(){\n\n    const link = process.env.PUBLIC_URL + 'assets/' + this.props.instrument + '.mp3';\n\n    const drum = new Tone.Players({\n      [this.props.instrument] : link\n    }, {\n      'volume': -2,\n    }).toMaster()\n\n    const loop = new Tone.Sequence( (time, col) => {\n      if(this.props.tone[col]){\n\n        drum.get(this.props.instrument).start(time)\n\n      }\n\n      Tone.Draw.schedule( () => {\n        this.props.activate(col);\n      }, time);\n\n    }, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], '16n');\n\n    loop.start(0);\n\n    this.setState({\n      loop: loop\n    })\n\n  }\n\n  render(){\n    return(\n      <div />\n    )\n  }\n}\n\nexport default Row;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\nimport { transpose, scale } from \"tonal\";\n\nclass Synthesiser extends Component {\n  constructor(props){\n    super(props);\n    this.state ={\n      id: this.props.synthID,\n      loop: \"\",\n      tones: this.props.rows,\n      noteArray: [],\n      scale: \"\",\n      octave: \"\",\n      root: \"\",\n      chorus: 0\n    }\n    this._updateTile = this._updateTile.bind(this);\n    this._onScale = this._onScale.bind(this);\n    this._onOctave = this._onOctave.bind(this);\n    this._onRoot = this._onRoot.bind(this);\n    // this._changeChorus = this._changeChorus.bind(this)\n  }\n\n  componentDidMount() {\n\n    fire.firestore().collection('synthesiser').doc(this.state.id).onSnapshot( (snapshot) => {\n      const data = snapshot.data();\n      const scaleChoice = data.scale;\n      const note = data.root + data.octave;\n      console.log(note);\n      this.setState({\n        noteArray: scale(scaleChoice).map(transpose(note)).reverse(),\n        tones: [\n          data.row0,\n          data.row1,\n          data.row2,\n          data.row3,\n          data.row4,\n          data.row5,\n          data.row6\n        ],\n        scale: data.scale,\n        octave: data.octave,\n        root: data.root\n      })\n      console.log(this.state.noteArray);\n    })\n\n\n    const polySynth = new Tone.PolySynth(7, Tone.Synth, {\n      \"oscillator\" : { \"type\" : \"sine\" },\n      \"volume\": -5\n    }).toMaster();\n\n    const loop = new Tone.Sequence( (time, col) => {\n      for ( let i = 0; i < this.state.tones.length; i++ ){\n        if(this.state.tones[i][col]){\n          polySynth.triggerAttackRelease(this.state.noteArray[i], '16n')\n        }\n      }\n\n      Tone.Draw.schedule( () => {\n        this.lightCol(col);\n      }, time);\n\n    }, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], '16n');\n\n    loop.start(0);\n\n    this.setState({\n      loop: loop\n    })\n\n  }\n\n  createSynth() {\n    const row = [];\n    for( let j = 0; j < this.state.tones.length; j++ ){\n      let column = [];\n\n      column.push(<div className=\"row-title\"> {this.state.noteArray[j]} </div>)\n\n      for (let i = 0; i < 16; i++) {\n        column.push(<div onClick={this._updateTile} id={`${j}rowcol${i}`} key={i} className={this._getClassNames(i, j)}></div>)\n      }\n      row.push(<div className=\"row-container\">{column}</div>);\n    }\n    return row\n  }\n\n  _getClassNames(i, j){\n    let result = \"row-tile\"\n\n    if (this.state.tones[j][i]){\n       result += \" selected\"\n    }\n\n    if (i === this.state.activeCol ){\n      result += \" active-tile\"\n    }\n    return result\n  }\n\n  _updateTile(e) {\n    const rownum = e.target.id[0];\n    const colnum = e.target.id.slice(e.target.id.indexOf('l') + 1)\n    const changedNote = this.state.tones.slice()\n    changedNote[rownum][colnum] = !changedNote[rownum][colnum];\n    //this pushes the change to firebase\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      row0: changedNote[0],\n      row1: changedNote[1],\n      row2: changedNote[2],\n      row3: changedNote[3],\n      row4: changedNote[4],\n      row5: changedNote[5],\n      row6: changedNote[6]\n    })\n\n  }\n\n  lightCol(i){\n    this.setState({\n      activeCol: i\n    })\n  }\n\n  _onScale(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        scale: e.target.value\n    })\n  }\n\n  _onOctave(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        octave: e.target.value\n    })\n  }\n\n  _onRoot(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        root: e.target.value\n    })\n  }\n\n  render(){\n    return(\n      <>\n        <div className=\"scale-controls-container\">\n          <div className=\"scale-controls\">\n            <label>Choose Scale</label>\n            <select onChange={this._onScale} value={this.state.scale}>\n              <option value=\"major\">Major</option>\n              <option value=\"minor\">Minor</option>\n              <option value=\"pentatonic\">Pentatonic</option>\n            </select>\n          </div>\n          <div className=\"scale-controls\">\n            <label>Choose Octave</label>\n            <select onChange={this._onOctave} value={this.state.octave}>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n              <option value=\"6\">6</option>\n            </select>\n          </div>\n          <div className=\"scale-controls\">\n            <label>Choose Root Note</label>\n            <select onChange={this._onRoot} value={this.state.root}>\n              <option value=\"A\">A</option>\n              <option value=\"Bb\">Bb</option>\n              <option value=\"B\">B</option>\n              <option value=\"C\">C</option>\n              <option value=\"Db\">Db</option>\n              <option value=\"D\">D</option>\n              <option value=\"Eb\">Eb</option>\n              <option value=\"E\">E</option>\n              <option value=\"F\">F</option>\n              <option value=\"Gb\">Gb</option>\n              <option value=\"G\">G</option>\n            </select>\n          </div>\n        </div>\n        <div>\n        {this.createSynth()}\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Synthesiser;\n","import React, { Component } from 'react';\nimport Row from './Row'\nimport fire from '../../config/Fire'\nimport Synthesiser from './Synthesiser'\n// import Tone from 'tone'\n\nclass Sequencer extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      id: this.props.seqID,\n      name: \"\",\n      rows: [],\n      isSynth: false\n    }\n\n    this.createRows = this.createRows.bind(this);\n\n  }\n  //this is a lifestyle function called after constructor\n  componentDidMount(){\n    //gets database and returns as snapshot (only once, no need to update)\n    fire.firestore().collection('sequencer').doc(this.state.id).get().then( (snapshot) => {\n      if( snapshot.exists ){\n        this.setState({\n          name: snapshot.data().name,\n          rows: snapshot.data().rows,\n          isSynth: false\n        })\n      }else{\n        fire.firestore().collection('synthesiser').doc(this.state.id).get().then( (snapshot) => {\n          const data = snapshot.data();\n          this.setState({\n            name: data.name,\n            rows: [\n              data.row0,\n              data.row1,\n              data.row2,\n              data.row3,\n              data.row4,\n              data.row5,\n              data.row6\n            ],\n            isSynth: true\n          })\n        })\n      }\n    })\n  }\n\n  //helper function to create the sequencer rows based off ID.\n  createRows(){\n    if(this.state.isSynth){\n      return <Synthesiser synthID={this.state.id} rows={this.state.rows}/>\n    }else{\n      const rows = [];\n      for (let i = 0; i < this.state.rows.length; i++ ){\n        rows.push( <Row key={i} rowID={this.state.rows[i]} collaborators={this.props.collaborators}/> )\n      }\n      return rows;\n    }\n  }\n\n  render(){\n    return(\n      <div>\n      \n        {this.createRows()}\n      </div>\n    )\n  }\n};\n\nexport default Sequencer;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport chatbar from '../css/chatbar.scss'\nimport ScrollableFeed from 'react-scrollable-feed'\n\n\nclass ChatRoom extends Component {\n    constructor(props, context){\n      super(props, context);\n      this.updateMessage = this.updateMessage.bind(this)\n      this.submitMessage = this.submitMessage.bind(this)\n      const user = fire.auth().currentUser;\n      this.state = {\n        message: '',\n        messages: [],\n        showMenu: false,\n        userName: user.displayName,\n        //a room state needs to be added.\n        roomID: this.props.roomID\n\n      }\n    }\n\n    componentDidMount(){\n      //messages needs to be turned into a variable based off room name.\n      fire.database().ref(`${this.state.roomID}/`).on('value', (snapshot) =>{\n\n        const currentMessages = snapshot.val()\n\n        if (currentMessages != null){\n          this.setState({\n            messages: currentMessages\n          })\n\n        }\n      })\n    }\n\n    updateMessage(e){\n      this.setState({\n        message: e.target.value\n      })\n    }\n    submitMessage(e){\n      e.preventDefault()\n\n      const nextMessage = {\n        id: this.state.messages.length,\n        text: this.state.message,\n        user: this.state.userName\n      }\n\n      //messages needs to be updated to include room id ie room state\n      fire.database().ref(`${this.state.roomID}/`+nextMessage.id).set(nextMessage)\n\n      this.setState({message: ''})\n    }\n\n    chatToggle = () => {\n      this.setState({\n        showMenu: !this.state.showMenu\n      })\n    }\n\n    render(){\n      const currentMessage = this.state.messages.map((message, i, user) => {\n        return (\n          <li key={message.id}>{message.user}: {message.text}</li>\n        )\n      })\n      const chatVis = this.state.showMenu ? 'active' : '';\n\n    return(\n      <div className=\"chat-bar\">\n        <span class=\"chatbar-toggle\" onClick={this.chatToggle}>\n          <div className=\"chat-bar-logo\">💬</div>\n        </span>\n        <form className={`main-chat ${chatVis}`} onSubmit={this.submitMessage}>\n          <ol>\n            <ScrollableFeed forceScroll='true'>\n              {currentMessage}\n            </ScrollableFeed>\n          </ol>\n          <input value={this.state.message} onChange={this.updateMessage} type=\"text\" placeholder=\"Send Message to Room\" className=\"chat-input\"/>\n          <br />\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default ChatRoom\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom'\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\nimport Sequencer from './Sequencer'\nimport Chat from '../Chat'\n\nclass Room extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      id: this.props.match.params.room,\n      name: \"\",\n      sequencers: [],\n      transport: false,\n      tempo: '',\n      exists: true,\n      collaborators: [],\n      swing: ''\n    }\n\n    this.createSequences = this.createSequences.bind(this);\n    this._playMusic = this._playMusic.bind(this);\n    this._changeTempo = this._changeTempo.bind(this);\n    this._changeSwing = this._changeSwing.bind(this);\n  }\n\n  //this is a lifestyle function called after constructor\n  componentDidMount(){\n    //gets database and returns as snapshot (only once, no need to update)\n    fire.firestore().collection('room').doc(this.state.id).get().then( (snapshot) => {\n      if(!snapshot.exists){\n\n        this.setState({\n            exists: false\n        })\n\n      }else{\n\n        this.setState({\n          name: snapshot.data().name,\n          tempo: snapshot.data().tempo,\n          collaborators: snapshot.data().collaborators,\n          swing: snapshot.data().swing\n\n        })\n\n      }\n    })\n    fire.firestore().collection('room').doc(this.state.id).onSnapshot( (snapshot) => {\n      this.setState({\n        tempo: snapshot.data().tempo,\n        sequencers: snapshot.data().sequencers\n      })\n    })\n  }\n\n  //helper function to create the sequencers based off ID.\n  createSequences(){\n    const sequencer = [];\n    for (let i = 0; i < this.state.sequencers.length; i++ ){\n      sequencer.push( <Sequencer key={i} seqID={this.state.sequencers[i]} collaborators={this.state.collaborators}/> ) //add props to sequencer here.\n    }\n    return sequencer;\n  }\n\n  _playMusic(){\n    Tone.Transport.toggle();\n    let changeTransport = this.state.transport;\n    this.setState({\n      transport: !changeTransport\n    })\n  }\n\n  _changeTempo(e){\n    let newTempo = e.target.value;\n\n    this.setState({\n      tempo: newTempo\n    })\n\n    Tone.Transport.bpm.value = this.state.tempo;\n\n    const updateTempo = () => {\n\n      fire.firestore().collection('room').doc(this.state.id).update({\n        tempo: this.state.tempo\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateTempo, 1000);\n  }\n\n  _changeSwing(e){\n    let newSwing = e.target.value;\n\n    this.setState({\n      swing: newSwing\n    })\n\n    Tone.Transport.swing = this.state.swing / 100;\n\n    const updateSwing = () => {\n\n      fire.firestore().collection('room').doc(this.state.id).update({\n        swing: this.state.swing\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateSwing, 500);\n  }\n\n\n  render(){\n    if(!this.state.exists){\n      return <Redirect to='/' />\n    }\n\n    return(\n      <div>\n        <div className=\"slidecontainer\">\n        <h1>{this.state.name}</h1>\n          {\n            this.state.transport ?\n            <button className=\"transport\" onClick={this._playMusic}>◼</button> : <button className=\"transport\" onClick={this._playMusic}>▶</button>\n          }\n          <p className=\"tempo\">Tempo: {this.state.tempo} bpm</p>\n          <input type=\"range\" min=\"60\" max=\"180\" id='bpm' value={this.state.tempo} onChange={this._changeTempo} className=\"slider\"/>\n          <p className=\"tempo\">Swing Amount: {this.state.swing}</p>\n          <input type=\"range\" min=\"0\" max=\"100\" id='bpm' value={this.state.swing} onChange={this._changeSwing} className=\"slider\"/>\n        </div>\n        <div>\n        </div>\n        <div className=\"sequence-wrapper\">\n        {this.createSequences()}\n        </div>\n        <Chat roomID={this.state.id}/>\n      </div>\n    )\n  }\n};\n\nexport default Room;\n","import React, {Component} from 'react';\nimport '../css/navbar.scss'\nimport { slide as Menu } from 'react-burger-menu'\n\n\nclass NavBar extends Component {\n  showSettings (event) {\n    event.preventDefault();\n  }\n\n  render () {\n    return (\n\t\t\t<div className=\"nav-container\">\n\t      <Menu>\n\t        <a id=\"home\" className=\"menu-item\" href=\"/\">Home</a>\n\t        <a id=\"about\" className=\"menu-item\" href=\"/about\">About</a>\n\t        <a id=\"contact\" className=\"menu-item\" href=\"/contact\">Contact</a>\n\t        <a onClick={ this.showSettings } className=\"menu-item--small\" href=\"\">Settings</a>\n\t      </Menu>\n\t\t\t</div>\n    );\n  }\n}\n\nexport default NavBar;\n","import React, { Component } from 'react';\nimport Popup from \"reactjs-popup\";\nimport fire from '../config/Fire';\nimport '../css/login.scss'\n\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n\t\tthis.signup = this.signup.bind(this);\n\n    this.state = {\n      email: '',\n      password: '',\n\t\t\tuserName: '',\n    };\n  }\n\n\n  handleChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  login(e) {\n    e.preventDefault();\n    fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((u)=>{console.log()\n    }).catch((error) => {\n        console.log(error);\n      });\n  }\n\n\tsignup(e) {\n\te.preventDefault();\n\tfire.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then(\n  \t(data)=>{\n\t\t\tconst { user } = data\n    \tif(user){\n      \tuser.updateProfile({\n         displayName: this.state.userName,\n      }).then(function() {\n\n        fire.firestore().collection('user').doc(user.uid).set({\n          rooms: []\n        })\n        console.log(user.displayName);\n\t\t  })\n    }\n  }).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\nrender() {\n\treturn (\n\t\t<div className=\"background\">\n\t\t\t<h1 className=\"title\">Simple Studio</h1>\n\t\t \t<form className=\"sign-form\">\n\t\t\t\t<div>\n\t\t \t\t\t<label className=\"title\" >Email address</label>\n\t\t\t\t\t<br/>\n\t\t \t\t\t<input className=\"input\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t</div>\n\t\t \t\t<div>\n\t\t\t\t\t<label className=\"title\">Password</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t</div>\n\t\t\t\t\t<button className=\"button\" type=\"submit\" onClick={this.login}>Login</button>\n\t\t\t</form>\n\t\t\t\t<p className=\"title\">Not a member?</p>\n\t\t\t\t  <Popup className=\"popup-box\" id=\"signup-box\" trigger={<button className=\"button\">Sign Up</button>} position=\"center\">\n\t\t\t\t    <div>\n\t\t\t\t\t\t<form className=\"sign-form\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">User Name</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.userName} onChange={this.handleChange} type=\"name\" name=\"userName\" placeholder=\"Create a user name\" />\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">Email address</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">Password</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\"\tplaceholder=\"Password\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<button className=\"button\" onClick={this.signup}>Sign Up</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t</div>\n\t\t\t\t  </Popup>\n</div>\n\t);\n}\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\n\n\nclass SequencerForm extends Component {\n  constructor(props){\n    super(props)\n\n    this.state = {\n      value: \"\"\n    }\n\n    this._handleChange = this._handleChange.bind(this);\n  }\n\n  _handleChange(e){\n\n    this.setState({\n      value: e.target.value\n    })\n\n    if (e.target.value === 'normal'){\n      this.props.sequenceSelect(\n        [],\n        \"Sine Synth Sequencer\",\n        'normal'\n      );\n    }else if ( e.target.value === 'empty' ){\n      this.props.sequenceSelect(\n        false,\n        \"\",\n        \"\"\n      )\n    }\n  }\n\n  render(){\n    return(\n      <select className=\"select-menu\" onChange={this._handleChange} value={this.state.value}>\n        <option value=\"empty\">Select A Sequencer</option>\n        <option value=\"normal\">Sine Synth Sequencer</option>\n      </select>\n    )\n  }\n}\n\nexport default SequencerForm;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\nimport SequencerForm from './SequencerForm'\nimport { Redirect } from 'react-router-dom'\nimport '../../css/login.scss'\n\n\n\nclass RoomForm extends Component {\n  constructor(){\n      super()\n\n      this.state = {\n        roomName: \"\",\n        sequName: \"\",\n        selectedRows: false,\n        type: \"\",\n        redirectLink: \"\"\n      }\n\n      this._handleSubmit = this._handleSubmit.bind(this);\n      this._handleName = this._handleName.bind(this);\n      this._handleSequ = this._handleSequ.bind(this);\n  }\n\n  _handleName(e){\n    this.setState({\n      roomName: e.target.value\n    })\n  }\n\n  _handleSequ(rows, name, type){\n\n      this.setState({\n        sequName: name,\n        selectedRows: rows,\n        type: type\n      })\n\n\n  }\n\n  getPassword(){\n    return [...Array(6)].map(i=>(~~(Math.random()*36)).toString(36)).join('').toUpperCase();\n  }\n\n  _handleSubmit (e){\n    e.preventDefault();\n\n\n    if( !this.state.selectedRows){\n      return;\n    }\n\n    const userID = fire.auth().currentUser.uid;\n    const password = this.getPassword();\n    const roomName = this.state.roomName;\n\n\n      const drumRows = [\n        \"CLAP\",\n        \"CLOSEDHAT\",\n        \"SNARE\",\n        \"COWBELL\",\n        \"CYMBAL\",\n        \"KICK\",\n        \"OPENHIHAT\",\n        \"RIMSHOT\"\n      ];\n\n      const rows = [];\n\n      // WHYYYYYYYY?????\n      Promise.all(drumRows.map( async(instrument) => {\n\n        await fire.firestore().collection('row').add({\n\n          instrument: instrument,\n          tone: [false, false, false, false, false, false, false, false, false, false, false,false,  false, false, false, false]\n\n        }).then( (result) => {\n\n          rows.push( result.id )\n        })\n\n        })).then( () => {\n\n\n        fire.firestore().collection('sequencer').add({\n\n            name: \"Drum Sequencer\",\n            rows: rows\n\n          }).then( (result) => {\n            const sequID = result.id;\n\n            fire.firestore().collection('synthesiser').add({\n\n                name: this.state.sequName,\n                row0: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row1: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row2: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row3: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row4: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row5: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row6: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                scale: 'major',\n                octave: '4',\n                root: 'C',\n                type: this.state.type\n\n              }).then( (result) => {\n\n\n                fire.firestore().collection('room').add({\n                  name: roomName,\n                  tempo: '90',\n                  swing: '0',\n                  collaborators: [userID],\n                  sequencers: [sequID, result.id],\n                  password: password\n\n                }).then( (result) => {\n\n                  const roomID = result.id;\n                  fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n                    const roomArr = result.data().rooms.slice();\n                    roomArr.push( roomID );\n\n                    fire.firestore().collection('user').doc(userID).update({\n                      rooms: roomArr\n                    }).then( () => {\n                      this.setState({\n                        redirectLink: roomID\n                      })\n                    })\n                  })\n                })\n              })\n\n            })\n          })\n\n\n\n    this.setState({\n      roomName: \"\",\n      sequName: \"\",\n      selectedRows: false,\n      type: false\n    })\n\n  }\n\n  render(){\n    if(this.state.redirectLink !== \"\"){\n      return <Redirect to={`/${this.state.redirectLink}`} />\n    }\n\n    return(\n       <div>\n          <form className=\"form-style\" onSubmit={this._handleSubmit}>\n            <label>Room Name</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <input className=\"input-home\" type=\"text\" onChange={this._handleName} value={this.state.roomName}/>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <label>Default Drum Sampler</label>\n            <br />\n            <label>Starting Sequencer</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <SequencerForm sequenceSelect={this._handleSequ} />\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <input className=\"button\" type=\"submit\" />\n          </form>\n       </div>\n    )\n  }\n}\n\nexport default RoomForm;\n","import React, {Component} from 'react';\nimport { Redirect } from 'react-router-dom'\nimport fire from '../config/Fire';\n\nclass JoinRoom extends Component{\n  constructor(props){\n    super(props)\n\n    const user = fire.auth().currentUser;\n\n    this.state = {\n      roomName : \"\",\n      password: \"\",\n      redirectLink: \"\",\n      uid: user.uid\n    }\n\n    this._handleName = this._handleName.bind(this);\n    this._handlePassword = this._handlePassword.bind(this);\n    this._handleSubmit = this._handleSubmit.bind(this);\n    this.joinRoom = this.joinRoom.bind(this);\n\n  }\n\n  _handleName(e){\n    this.setState({\n      roomName: e.target.value\n    })\n  }\n\n  _handlePassword(e){\n    this.setState({\n      password: e.target.value\n    })\n  }\n\n  _handleSubmit(e){\n    e.preventDefault();\n\n    fire.firestore().collection('room').get().then( (rooms) => {\n      rooms.docs.forEach( (doc) => {\n        if(doc.data().name === this.state.roomName){\n          if(doc.data().password === this.state.password){\n\n            this.joinRoom(doc.id, doc.data().collaborators);\n\n          }\n        }\n      })\n    })\n  }\n\n  joinRoom(id, collab){\n    const userID = this.state.uid\n\n    if(collab.includes(userID)){\n\n      this.setState({\n        redirectLink: id\n      });\n\n      return;\n\n    }\n\n\n    const newCollabs = collab.slice();\n    newCollabs.push( userID );\n\n    fire.firestore().collection('room').doc(id).update({\n      collaborators : newCollabs\n    }).then( () => {\n\n        fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n          const roomArr = result.data().rooms.slice();\n          roomArr.push( id );\n\n          fire.firestore().collection('user').doc(userID).update({\n            rooms: roomArr\n          })\n        })\n\n    })\n  }\n\n  render(){\n    if(this.state.redirectLink){\n      const link = '/' + this.state.redirectLink\n      return <Redirect to={link} />\n    }\n\n    return(\n      <form className=\"form-style\">\n        <label>Room Name</label>\n        <input type=\"text\" className=\"input-home\" onChange={ this._handleName } value={ this.state.roomName } />\n        <br/>\n        <label>Pin Code</label>\n        <input type=\"text\" className=\"input-home\" onChange={ this._handlePassword } value={ this.state.password } />\n\n        <input type=\"submit\" className=\"button\" onClick={this._handleSubmit} value=\"Join Room\" />\n      </form>\n    )\n  }\n}\n\nexport default JoinRoom;\n","import React, {Component} from 'react';\nimport fire from '../config/Fire';\nimport { Link } from 'react-router-dom'\n\n//TODO inefficient to loop through all room documents looking for userid, need roomIDs in users too\nclass RoomLinks extends Component{\n  constructor(){\n    super()\n    this.state = {\n      roomIDs: [],\n      rooms: []\n    }\n  }\n\n  componentDidMount(){\n    const userID = fire.auth().currentUser.uid;\n\n    fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n      this.setState({\n        roomIDs: result.data().rooms\n      })\n\n      this.generateLinks();\n\n    })\n\n  }\n\n  generateLinks(){\n    const roomIDs = this.state.roomIDs\n    const roomLinks = [];\n\n    Promise.all(roomIDs.map( async (id) => {\n\n      await fire.firestore().collection('room').doc(id).get().then( (result) => {\n        roomLinks.push(<p><Link className=\"\" to={`/${result.id}`}>{result.data().name}</Link></p>)\n\n      })\n\n    })).then( () => {\n      this.setState({\n        rooms: roomLinks\n      });\n    })\n\n  }\n\n  render(){\n    return(\n      <div className=\"form-style\">\n        {this.state.rooms}\n      </div>\n    )\n  }\n};\n\nexport default RoomLinks;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport NavBar from './NavBar'\nimport Room from './studio/Room'\nimport RoomForm from './crudForms/RoomForm'\nimport JoinRoom from './JoinRoom'\nimport RoomLinks from './RoomLinks'\nimport '../css/login.scss'\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\t\t\t\tthis.userNameShorten = this.userNameShorten.bind;\n        this.logout = this.logout.bind(this);\n\t\t\t\tconst user = fire.auth().currentUser;\n\t\t\t\tthis.state = {\n\t\t\t\t\tuserName: user.displayName,\n\t\t\t\t\temail: user.email,\n          roomForm: false,\n          roomLinks: false,\n          joinRoom: false\n\t\t    };\n\n        this._onCreate = this._onCreate.bind(this)\n        this._onJoin = this._onJoin.bind(this)\n        this._onCollab = this._onCollab.bind(this)\n    }\n\n    logout() {\n        fire.auth().signOut();\n    }\n\n\t\tuserNameShorten(u){\n\t\t\tconst user = fire.auth().currentUser;\n\t\t\tconst name = this.state.userName;\n\t\t\tif(user){\n\t\t\t\tname.charAt(0).toUpperCase();\n\t\t\t}\n\t\t\treturn name;\n\t\t};\n\n    _onCreate(){\n      this.setState({\n        roomForm: true,\n        roomLinks: false,\n        joinRoom: false\n      })\n    }\n\n    _onJoin(){\n      this.setState({\n        roomForm: false,\n        roomLinks: false,\n        joinRoom: true\n      })\n    }\n\n    _onCollab(){\n      this.setState({\n        roomForm: false,\n        roomLinks: true,\n        joinRoom: false\n      })\n    }\n\n    render() {\n        return (\n\t\t\t\t\t<div className=\"background\">\n\t\t\t\t\t<a href=\"/#/profile/:user\"><div className=\"profile-link\">{this.userNameShorten}</div></a>\n\t\t\t\t\t<h1 className=\"mrow\">Simple Studio</h1>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button onClick={this._onCreate} className=\"box-button\">Create</button>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<button onClick={this._onJoin} className=\"box-button\">Join Room</button>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<button onClick={this._onCollab} className=\"box-button\">Collaborate</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ this.state.roomForm ? <RoomForm /> : \"\" }\n\t\t\t\t\t{ this.state.roomLinks ? <RoomLinks /> : \"\" }\n\t\t\t\t\t{ this.state.joinRoom ? <JoinRoom /> : \"\" }\n\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onClick={this.logout} className=\"button\">Logout</button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport '../css/login.scss'\n\nclass Profile extends Component {\n\tconstructor(props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.handleChange = this.handleChange.bind(this);\n\t\t\tthis.submit = this.submit.bind(this);\n\n\t\t\tthis.state = {\n\t\t\t\tuserName: '',\n\t\t\t\temail: '',\n\t\t\t\tpassword: ''\n\t\t\t};\n\t}\n\n\thandleChange(e) {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t}\n\n\tsubmit(s){\n\t\ts.preventDefault();\n\t\tconst user = fire.auth().currentUser;\n\t\tif(user){\n\t\tuser.updateProfile({\n  \t\tdisplayName: this.state.userName,\n\t\t}).then( (u) => {\n  \t\tconsole.log(\"Update Successful\")\n\t\t}).catch( (error) => {\n\t\t\tconsole.log(error)\n\t\t});\n\t}\n}\n\n\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"background\">\n\t\t\t<a href=\"/#/\"><div className=\"profile-link\">Home</div></a>\n\t\t\t<h1 className=\"mrow\">Update Profile &nbsp;</h1>\n\t\t\t<form className=\"sign-form\" onSubmit={this.submit}>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change User Name</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.userName} onChange={this.handleChange} type=\"userName\" \tname=\"userName\" placeholder=\"User Name\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change Email address</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change Password</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t</div>\n\t\t\t\t\t<button className=\"button\" type=\"submit\">Update Profile</button>\n\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Profile;\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Route, Redirect, Switch } from 'react-router-dom'\nimport fire from './config/Fire';\nimport Room from './components/studio/Room';\nimport Chat from './components/Chat';\nimport NavBar from './components/NavBar';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport Profile from './components/Profile';\n\nclass Routes extends Component{\n  constructor() {\n    super();\n    this.state = ({\n      user: null,\n    });\n    this.authListener = this.authListener.bind(this);\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  authListener() {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user });\n        localStorage.setItem('user', user.uid);\n      } else {\n        this.setState({ user: null });\n        localStorage.removeItem('user');\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          {\n            !this.state.user ? <Switch>\n              <Route exact path='/' component={ Login } />,\n              <Redirect from='/:room' to='/' />\n            </Switch> : <Switch>\n\t\t\t\t\t\t\t<Route path='/profile/:user' component={ Profile } />,\n              <Route exact path='/' component={ Home } />,\n              <Route path='/profile/:user' component={ Profile } />,\n              <Route path='/:room' component={ Room } />\n            </Switch>\n          }\n        </div>\n      </Router>\n   );\n  }\n\n}\n\nexport default Routes\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport Routes from './Routes';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}