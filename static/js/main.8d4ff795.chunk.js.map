{"version":3,"sources":["config/Fire.js","components/studio/Row.js","components/studio/Synthesiser.js","components/studio/Sequencer.js","components/Chat.js","components/studio/Room.js","components/NavBar.js","components/Login.js","components/crudForms/SequencerForm.js","components/crudForms/RoomForm.js","components/JoinRoom.js","components/RoomLinks.js","components/Home.js","components/Profile.js","Routes.js","serviceWorker.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Row","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","user","auth","currentUser","state","id","rowID","instrument","tone","activeCol","collaborators","userID","uid","_updateTile","bind","assertThisInitialized","_getClassNames","lightCol","_this2","firestore","collection","doc","onSnapshot","snapshot","setState","data","row","i","push","react_default","a","createElement","onClick","includes","key","className","result","e","changedTone","slice","target","update","buildRow","Row_Music","activate","Component","Music","_this3","loop","play","_this4","link","drum","Tone","Players","defineProperty","volume","toMaster","Sequence","time","col","get","start","Draw","schedule","Synthesiser","synthID","tones","rows","noteArray","scale","octave","root","chorus","_onScale","_onOctave","_onRoot","scaleChoice","note","console","log","map","transpose","reverse","row0","row1","row2","row3","row4","row5","row6","polySynth","PolySynth","Synth","oscillator","type","length","triggerAttackRelease","j","column","concat","rownum","colnum","indexOf","changedNote","value","Fragment","onChange","createSynth","Sequencer","seqID","name","isSynth","createRows","then","exists","studio_Synthesiser","studio_Row","ChatRoom","context","chatToggle","shrinkRoom","showMenu","updateMessage","submitMessage","message","messages","userName","displayName","roomID","database","ref","on","currentMessages","val","preventDefault","nextMessage","text","set","currentMessage","chatVis","class","onSubmit","index_es","forceScroll","placeholder","Room","match","params","room","sequencers","transport","tempo","swing","createSequences","_playMusic","_changeTempo","_changeSwing","sequencer","studio_Sequencer","Transport","toggle","changeTransport","newTempo","bpm","clearTimeout","setTimeout","newSwing","b","min","max","Chat","react_router","to","Login","login","handleChange","signup","email","password","signInWithEmailAndPassword","u","catch","error","createUserWithEmailAndPassword","updateProfile","rooms","reactjs_popup_es","trigger","position","SequencerForm","_handleChange","sequenceSelect","RoomForm","roomName","sequName","selectedRows","redirectLink","_handleSubmit","_handleName","_handleSequ","toConsumableArray","Array","Math","random","toString","join","toUpperCase","getPassword","Promise","all","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","add","stop","_x","apply","arguments","sequID","roomArr","crudForms_SequencerForm","JoinRoom","_handlePassword","joinRoom","docs","forEach","collab","newCollabs","RoomLinks","roomIDs","generateLinks","roomLinks","react_router_dom","Home","userNameShorten","logout","roomForm","_onCreate","_onJoin","_onCollab","signOut","charAt","href","crudForms_RoomForm","components_RoomLinks","components_JoinRoom","Profile","submit","s","Routes","authListener","onAuthStateChanged","localStorage","setItem","removeItem","path","component","exact","from","Boolean","window","location","hostname","ReactDOM","render","src_Routes","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8d4ff795.chunk.js","sourcesContent":["import firebase from 'firebase';\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n\tapiKey: \"AIzaSyCBd78yY9bngvyXh4befoXMiK-b-mnIALc\",\n\tauthDomain: \"simple-studio-2b931.firebaseapp.com\",\n\tdatabaseURL: \"https://simple-studio-2b931.firebaseio.com\",\n\tprojectId: \"simple-studio-2b931\",\n\tstorageBucket: \"simple-studio-2b931.appspot.com\",\n\tmessagingSenderId: \"887864254461\",\n\tappId: \"1:887864254461:web:266ded447123e296\"\n};\n\n// Initialize Firebase\nconst fire = firebase.initializeApp(firebaseConfig);\nexport default fire;\n","import React, { Component } from 'react';\nimport '../../css/row.scss'\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\n\nclass Row extends Component {\n  constructor(props){\n    super(props);\n    const user=fire.auth().currentUser;\n\n    this.state = {\n      id: this.props.rowID,\n      instrument: '',\n      tone: [],\n      activeCol: -1,\n      collaborators: this.props.collaborators,\n      userID: user.uid\n    };\n    this._updateTile = this._updateTile.bind(this)\n    this._getClassNames = this._getClassNames.bind(this)\n    this.lightCol = this.lightCol.bind(this)\n  }\n\n  componentDidMount(){\n    fire.firestore().collection('row').doc(this.state.id).onSnapshot( (snapshot) => {\n      this.setState({\n        instrument: snapshot.data().instrument,\n        tone: snapshot.data().tone\n      })\n    })\n  }\n\n  //helper function to build row for tone/instruments\n  buildRow() {\n    const row = [];\n      for (let i = 0; i < 16; i++) {\n\n        //add ternery here for the onclick, if true user auth on this room, calls this._updateTile otherwise do nothing.\n\n        // this.state.collaborators.includes(this.state.userID) ? true : false\n        //if room colaborators is equal to current user\n        row.push(<div onClick={this.state.collaborators.includes(this.state.userID) ? this._updateTile : \"\" } id={i} key={i} className={this._getClassNames(i)}></div>)\n      }\n    return row\n  }\n\n  _getClassNames(i){\n    let result = \"row-tile\"\n\n    if (this.state.tone[i]){\n       result += \" selected\"\n    }\n\n    if (i === this.state.activeCol ){\n      result += \" active-tile\"\n    }\n    return result\n  }\n\n  _updateTile(e) {\n    const changedTone = this.state.tone.slice()\n    changedTone[e.target.id] = !changedTone[e.target.id]\n    //this pushes the change to firebase\n    fire.firestore().collection('row').doc(this.state.id).update({\n      tone: changedTone\n    })\n\n  }\n\n  lightCol(i){\n    this.setState({\n      activeCol: i\n    })\n  }\n\n  render(){\n    return(\n      <div className=\"row-container\">\n        <div className=\"row-title\"> {this.state.instrument} </div>\n        {this.buildRow()}\n        {\n          this.state.instrument ? <Music tone={this.state.tone} instrument={this.state.instrument} activate={this.lightCol}/> : \"\"\n        }\n      </div>\n    )\n  }\n}\n\nclass Music extends Component {\n  constructor(props){\n    super(props);\n\n    this.state ={\n      loop: \"\",\n      play: []\n    }\n  }\n\n  componentDidMount(){\n\n    const link = process.env.PUBLIC_URL + 'assets/' + this.props.instrument + '.mp3';\n\n    const drum = new Tone.Players({\n      [this.props.instrument] : link\n    }, {\n      'volume': -2,\n    }).toMaster()\n\n    const loop = new Tone.Sequence( (time, col) => {\n      if(this.props.tone[col]){\n\n        drum.get(this.props.instrument).start(time)\n\n      }\n\n      Tone.Draw.schedule( () => {\n        this.props.activate(col);\n      }, time);\n\n    }, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], '16n');\n\n    loop.start(0);\n\n    this.setState({\n      loop: loop\n    })\n\n  }\n\n  render(){\n    return(\n      <div />\n    )\n  }\n}\n\nexport default Row;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\nimport { transpose, scale } from \"tonal\";\n\nclass Synthesiser extends Component {\n  constructor(props){\n    super(props);\n    this.state ={\n      id: this.props.synthID,\n      loop: \"\",\n      tones: this.props.rows,\n      noteArray: [],\n      scale: \"\",\n      octave: \"\",\n      root: \"\",\n      chorus: 0\n    }\n    this._updateTile = this._updateTile.bind(this);\n    this._onScale = this._onScale.bind(this);\n    this._onOctave = this._onOctave.bind(this);\n    this._onRoot = this._onRoot.bind(this);\n    // this._changeChorus = this._changeChorus.bind(this)\n  }\n\n  componentDidMount() {\n\n    fire.firestore().collection('synthesiser').doc(this.state.id).onSnapshot( (snapshot) => {\n      const data = snapshot.data();\n      const scaleChoice = data.scale;\n      const note = data.root + data.octave;\n      console.log(note);\n      this.setState({\n        noteArray: scale(scaleChoice).map(transpose(note)).reverse(),\n        tones: [\n          data.row0,\n          data.row1,\n          data.row2,\n          data.row3,\n          data.row4,\n          data.row5,\n          data.row6\n        ],\n        scale: data.scale,\n        octave: data.octave,\n        root: data.root\n      })\n      console.log(this.state.noteArray);\n    })\n\n\n    const polySynth = new Tone.PolySynth(7, Tone.Synth, {\n      \"oscillator\" : { \"type\" : \"sine\" },\n      \"volume\": -5\n    }).toMaster();\n\n    const loop = new Tone.Sequence( (time, col) => {\n      for ( let i = 0; i < this.state.tones.length; i++ ){\n        if(this.state.tones[i][col]){\n          polySynth.triggerAttackRelease(this.state.noteArray[i], '16n')\n        }\n      }\n\n      Tone.Draw.schedule( () => {\n        this.lightCol(col);\n      }, time);\n\n    }, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], '16n');\n\n    loop.start(0);\n\n    this.setState({\n      loop: loop\n    })\n\n  }\n\n  createSynth() {\n    const row = [];\n    for( let j = 0; j < this.state.tones.length; j++ ){\n      let column = [];\n\n      column.push(<div className=\"row-title\"> {this.state.noteArray[j]} </div>)\n\n      for (let i = 0; i < 16; i++) {\n        column.push(<div onClick={this._updateTile} id={`${j}rowcol${i}`} key={i} className={this._getClassNames(i, j)}></div>)\n      }\n      row.push(<div className=\"row-container\">{column}</div>);\n    }\n    return row\n  }\n\n  _getClassNames(i, j){\n    let result = \"row-tile\"\n\n    if (this.state.tones[j][i]){\n       result += \" selected\"\n    }\n\n    if (i === this.state.activeCol ){\n      result += \" active-tile\"\n    }\n    return result\n  }\n\n  _updateTile(e) {\n    const rownum = e.target.id[0];\n    const colnum = e.target.id.slice(e.target.id.indexOf('l') + 1)\n    const changedNote = this.state.tones.slice()\n    changedNote[rownum][colnum] = !changedNote[rownum][colnum];\n    //this pushes the change to firebase\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      row0: changedNote[0],\n      row1: changedNote[1],\n      row2: changedNote[2],\n      row3: changedNote[3],\n      row4: changedNote[4],\n      row5: changedNote[5],\n      row6: changedNote[6]\n    })\n\n  }\n\n  lightCol(i){\n    this.setState({\n      activeCol: i\n    })\n  }\n\n  _onScale(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        scale: e.target.value\n    })\n  }\n\n  _onOctave(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        octave: e.target.value\n    })\n  }\n\n  _onRoot(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n        root: e.target.value\n    })\n  }\n\n  render(){\n    return(\n      <>\n        <div className=\"scale-controls-container\">\n          <div className=\"scale-controls\">\n            <label>Choose Scale</label>\n            <select onChange={this._onScale} value={this.state.scale}>\n              <option value=\"major\">Major</option>\n              <option value=\"minor\">Minor</option>\n              <option value=\"pentatonic\">Pentatonic</option>\n            </select>\n          </div>\n          <div className=\"scale-controls\">\n            <label>Choose Octave</label>\n            <select onChange={this._onOctave} value={this.state.octave}>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n              <option value=\"6\">6</option>\n            </select>\n          </div>\n          <div className=\"scale-controls\">\n            <label>Choose Root Note</label>\n            <select onChange={this._onRoot} value={this.state.root}>\n              <option value=\"A\">A</option>\n              <option value=\"Bb\">Bb</option>\n              <option value=\"B\">B</option>\n              <option value=\"C\">C</option>\n              <option value=\"Db\">Db</option>\n              <option value=\"D\">D</option>\n              <option value=\"Eb\">Eb</option>\n              <option value=\"E\">E</option>\n              <option value=\"F\">F</option>\n              <option value=\"Gb\">Gb</option>\n              <option value=\"G\">G</option>\n            </select>\n          </div>\n        </div>\n        <div>\n        {this.createSynth()}\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Synthesiser;\n","import React, { Component } from 'react';\nimport Row from './Row'\nimport fire from '../../config/Fire'\nimport Synthesiser from './Synthesiser'\n// import Tone from 'tone'\n\nclass Sequencer extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      id: this.props.seqID,\n      name: \"\",\n      rows: [],\n      isSynth: false\n    }\n\n    this.createRows = this.createRows.bind(this);\n\n  }\n  //this is a lifestyle function called after constructor\n  componentDidMount(){\n    //gets database and returns as snapshot (only once, no need to update)\n    fire.firestore().collection('sequencer').doc(this.state.id).get().then( (snapshot) => {\n      if( snapshot.exists ){\n        this.setState({\n          name: snapshot.data().name,\n          rows: snapshot.data().rows,\n          isSynth: false\n        })\n      }else{\n        fire.firestore().collection('synthesiser').doc(this.state.id).get().then( (snapshot) => {\n          const data = snapshot.data();\n          this.setState({\n            name: data.name,\n            rows: [\n              data.row0,\n              data.row1,\n              data.row2,\n              data.row3,\n              data.row4,\n              data.row5,\n              data.row6\n            ],\n            isSynth: true\n          })\n        })\n      }\n    })\n  }\n\n  //helper function to create the sequencer rows based off ID.\n  createRows(){\n    if(this.state.isSynth){\n      return <Synthesiser synthID={this.state.id} rows={this.state.rows}/>\n    }else{\n      const rows = [];\n      for (let i = 0; i < this.state.rows.length; i++ ){\n        rows.push( <Row key={i} rowID={this.state.rows[i]} collaborators={this.props.collaborators}/> )\n      }\n      return rows;\n    }\n  }\n\n  render(){\n    return(\n      <div>\n      \n        {this.createRows()}\n      </div>\n    )\n  }\n};\n\nexport default Sequencer;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport chatbar from '../css/chatbar.scss'\nimport ScrollableFeed from 'react-scrollable-feed'\n\n\nclass ChatRoom extends Component {\n    constructor(props, context){\n      super(props, context);\n      this.updateMessage = this.updateMessage.bind(this)\n      this.submitMessage = this.submitMessage.bind(this)\n      const user = fire.auth().currentUser;\n      this.state = {\n        message: '',\n        messages: [],\n        showMenu: false,\n        userName: user.displayName,\n        //a room state needs to be added.\n        roomID: this.props.roomID\n\n      }\n    }\n\n    componentDidMount(){\n      //messages needs to be turned into a variable based off room name.\n      fire.database().ref(`${this.state.roomID}/`).on('value', (snapshot) =>{\n\n        const currentMessages = snapshot.val()\n\n        if (currentMessages != null){\n          this.setState({\n            messages: currentMessages\n          })\n\n        }\n      })\n    }\n\n    updateMessage(e){\n      this.setState({\n        message: e.target.value\n      })\n    }\n    submitMessage(e){\n      e.preventDefault()\n\n      const nextMessage = {\n        id: this.state.messages.length,\n        text: this.state.message,\n        user: this.state.userName\n      }\n\n      //messages needs to be updated to include room id ie room state\n      fire.database().ref(`${this.state.roomID}/`+nextMessage.id).set(nextMessage)\n\n      this.setState({message: ''})\n    }\n\n    chatToggle = () => {\n      this.props.shrinkRoom(!this.state.showMenu);\n      \n      this.setState({\n        showMenu: !this.state.showMenu\n      })\n    }\n\n    render(){\n      const currentMessage = this.state.messages.map((message, i, user) => {\n        return (\n          <li key={message.id}>{message.user}: {message.text}</li>\n        )\n      })\n\n      const chatVis = this.state.showMenu ? 'active' : '';\n\n\n    return(\n      <div className=\"chat-bar\">\n        <span class=\"chatbar-toggle\" onClick={this.chatToggle}>\n          <div className=\"chat-bar-logo\">ðŸ’¬</div>\n        </span>\n        <form className={`main-chat ${chatVis}`} onSubmit={this.submitMessage}>\n          <ol>\n            <ScrollableFeed forceScroll='true'>\n              {currentMessage}\n            </ScrollableFeed>\n          </ol>\n          <input value={this.state.message} onChange={this.updateMessage} type=\"text\" placeholder=\"Send Message to Room\" className=\"chat-input\"/>\n          <br />\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default ChatRoom\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom'\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\nimport Sequencer from './Sequencer'\nimport Chat from '../Chat'\n\nclass Room extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      id: this.props.match.params.room,\n      name: \"\",\n      sequencers: [],\n      transport: false,\n      tempo: '',\n      exists: true,\n      collaborators: [],\n      swing: '',\n      showMenu: false\n    }\n\n    this.createSequences = this.createSequences.bind(this);\n    this._playMusic = this._playMusic.bind(this);\n    this._changeTempo = this._changeTempo.bind(this);\n    this._changeSwing = this._changeSwing.bind(this);\n    this.shrinkRoom = this.shrinkRoom.bind(this);\n  }\n\n  //this is a lifestyle function called after constructor\n  componentDidMount(){\n    //gets database and returns as snapshot (only once, no need to update)\n    fire.firestore().collection('room').doc(this.state.id).get().then( (snapshot) => {\n      if(!snapshot.exists){\n\n        this.setState({\n            exists: false\n        })\n\n      }else{\n\n        this.setState({\n          name: snapshot.data().name,\n          tempo: snapshot.data().tempo,\n          collaborators: snapshot.data().collaborators,\n          swing: snapshot.data().swing\n\n        })\n\n      }\n    })\n    fire.firestore().collection('room').doc(this.state.id).onSnapshot( (snapshot) => {\n      this.setState({\n        tempo: snapshot.data().tempo,\n        sequencers: snapshot.data().sequencers\n      })\n    })\n  }\n\n  //helper function to create the sequencers based off ID.\n  createSequences(){\n    const sequencer = [];\n    for (let i = 0; i < this.state.sequencers.length; i++ ){\n      sequencer.push( <Sequencer key={i} seqID={this.state.sequencers[i]} collaborators={this.state.collaborators}/> ) //add props to sequencer here.\n    }\n    return sequencer;\n  }\n\n  _playMusic(){\n    Tone.Transport.toggle();\n    let changeTransport = this.state.transport;\n    this.setState({\n      transport: !changeTransport\n    })\n  }\n\n  _changeTempo(e){\n    let newTempo = e.target.value;\n\n    this.setState({\n      tempo: newTempo\n    })\n\n    Tone.Transport.bpm.value = this.state.tempo;\n\n    const updateTempo = () => {\n\n      fire.firestore().collection('room').doc(this.state.id).update({\n        tempo: this.state.tempo\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateTempo, 1000);\n  }\n\n  _changeSwing(e){\n    let newSwing = e.target.value;\n\n    this.setState({\n      swing: newSwing\n    })\n\n    Tone.Transport.swing = this.state.swing / 100;\n\n    const updateSwing = () => {\n\n      fire.firestore().collection('room').doc(this.state.id).update({\n        swing: this.state.swing\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateSwing, 500);\n  }\n\n  shrinkRoom(b){\n    this.setState({\n      showMenu: b\n    })\n  }\n\n\n  render(){\n\n    const chatVis = this.state.showMenu ? 'shrink-room' : '';\n\n    if(!this.state.exists){\n      return <Redirect to='/' />\n    }\n\n    return(\n      <div>\n        <div className={chatVis}>\n          <div className=\"slidecontainer\">\n            <h1>{this.state.name}</h1>\n            {\n              this.state.transport ?\n              <button className=\"transport\" onClick={this._playMusic}>â—¼</button> : <button  className=\"transport\" onClick={this._playMusic}>â–¶</button>\n            }\n            <p className=\"tempo\">Tempo: {this.state.tempo} bpm</p>\n            <input type=\"range\" min=\"60\" max=\"180\" id='bpm' value={this.state.tempo}  onChange={this._changeTempo} className=\"slider\"/>\n            <p className=\"tempo\">Swing Amount: {this.state.swing}</p>\n            <input type=\"range\" min=\"0\" max=\"100\" id='bpm' value={this.state.swing}   onChange={this._changeSwing} className=\"slider\"/>\n          </div>\n          <div className=\"sequence-wrapper\">\n            {this.createSequences()}\n          </div>\n        </div>\n        <Chat roomID={this.state.id} shrinkRoom={this.shrinkRoom} />\n      </div>\n    )\n  }\n};\n\nexport default Room;\n","import React, {Component} from 'react';\nimport '../css/navbar.scss'\nimport { slide as Menu } from 'react-burger-menu'\n\n\nclass NavBar extends Component {\n  showSettings (event) {\n    event.preventDefault();\n  }\n\n  render () {\n    return (\n\t\t\t<div className=\"nav-container\">\n\t      <Menu>\n\t        <a id=\"home\" className=\"menu-item\" href=\"/\">Home</a>\n\t        <a id=\"about\" className=\"menu-item\" href=\"/about\">About</a>\n\t        <a id=\"contact\" className=\"menu-item\" href=\"/contact\">Contact</a>\n\t        <a onClick={ this.showSettings } className=\"menu-item--small\" href=\"\">Settings</a>\n\t      </Menu>\n\t\t\t</div>\n    );\n  }\n}\n\nexport default NavBar;\n","import React, { Component } from 'react';\nimport Popup from \"reactjs-popup\";\nimport fire from '../config/Fire';\nimport '../css/login.scss'\n\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n\t\tthis.signup = this.signup.bind(this);\n\n    this.state = {\n      email: '',\n      password: '',\n\t\t\tuserName: '',\n    };\n  }\n\n\n  handleChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  login(e) {\n    e.preventDefault();\n    fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((u)=>{console.log()\n    }).catch((error) => {\n        console.log(error);\n      });\n  }\n\n\tsignup(e) {\n\te.preventDefault();\n\tfire.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then(\n  \t(data)=>{\n\t\t\tconst { user } = data\n    \tif(user){\n      \tuser.updateProfile({\n         displayName: this.state.userName,\n      }).then(function() {\n\n        fire.firestore().collection('user').doc(user.uid).set({\n          rooms: []\n        })\n        console.log(user.displayName);\n\t\t  })\n    }\n  }).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\nrender() {\n\treturn (\n\t\t<div className=\"background\">\n\t\t\t<h1 className=\"title\">Simple Studio</h1>\n\t\t \t<form className=\"sign-form\">\n\t\t\t\t<div>\n\t\t \t\t\t<label className=\"title\" >Email address</label>\n\t\t\t\t\t<br/>\n\t\t \t\t\t<input className=\"input\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t</div>\n\t\t \t\t<div>\n\t\t\t\t\t<label className=\"title\">Password</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t</div>\n\t\t\t\t\t<button className=\"button\" type=\"submit\" onClick={this.login}>Login</button>\n\t\t\t</form>\n\t\t\t\t<p className=\"title\">Not a member?</p>\n\t\t\t\t  <Popup className=\"popup-box\" id=\"signup-box\" trigger={<button className=\"button\">Sign Up</button>} position=\"center\">\n\t\t\t\t    <div>\n\t\t\t\t\t\t<form className=\"sign-form\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">User Name</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.userName} onChange={this.handleChange} type=\"name\" name=\"userName\" placeholder=\"Create a user name\" />\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">Email address</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">Password</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\"\tplaceholder=\"Password\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<button className=\"button\" onClick={this.signup}>Sign Up</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t</div>\n\t\t\t\t  </Popup>\n</div>\n\t);\n}\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\n\n\nclass SequencerForm extends Component {\n  constructor(props){\n    super(props)\n\n    this.state = {\n      value: \"\"\n    }\n\n    this._handleChange = this._handleChange.bind(this);\n  }\n\n  _handleChange(e){\n\n    this.setState({\n      value: e.target.value\n    })\n\n    if (e.target.value === 'normal'){\n      this.props.sequenceSelect(\n        [],\n        \"Sine Synth Sequencer\",\n        'normal'\n      );\n    }else if ( e.target.value === 'empty' ){\n      this.props.sequenceSelect(\n        false,\n        \"\",\n        \"\"\n      )\n    }\n  }\n\n  render(){\n    return(\n      <select className=\"select-menu\" onChange={this._handleChange} value={this.state.value}>\n        <option value=\"empty\">Select A Sequencer</option>\n        <option value=\"normal\">Sine Synth Sequencer</option>\n      </select>\n    )\n  }\n}\n\nexport default SequencerForm;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\nimport SequencerForm from './SequencerForm'\nimport { Redirect } from 'react-router-dom'\nimport '../../css/login.scss'\n\n\n\nclass RoomForm extends Component {\n  constructor(){\n      super()\n\n      this.state = {\n        roomName: \"\",\n        sequName: \"\",\n        selectedRows: false,\n        type: \"\",\n        redirectLink: \"\"\n      }\n\n      this._handleSubmit = this._handleSubmit.bind(this);\n      this._handleName = this._handleName.bind(this);\n      this._handleSequ = this._handleSequ.bind(this);\n  }\n\n  _handleName(e){\n    this.setState({\n      roomName: e.target.value\n    })\n  }\n\n  _handleSequ(rows, name, type){\n\n      this.setState({\n        sequName: name,\n        selectedRows: rows,\n        type: type\n      })\n\n\n  }\n\n  getPassword(){\n    return [...Array(6)].map(i=>(~~(Math.random()*36)).toString(36)).join('').toUpperCase();\n  }\n\n  _handleSubmit (e){\n    e.preventDefault();\n\n\n    if( !this.state.selectedRows){\n      return;\n    }\n\n    const userID = fire.auth().currentUser.uid;\n    const password = this.getPassword();\n    const roomName = this.state.roomName;\n\n\n      const drumRows = [\n        \"CLAP\",\n        \"CLOSEDHAT\",\n        \"SNARE\",\n        \"COWBELL\",\n        \"CYMBAL\",\n        \"KICK\",\n        \"OPENHIHAT\",\n        \"RIMSHOT\"\n      ];\n\n      const rows = [];\n\n      // WHYYYYYYYY?????\n      Promise.all(drumRows.map( async(instrument) => {\n\n        await fire.firestore().collection('row').add({\n\n          instrument: instrument,\n          tone: [false, false, false, false, false, false, false, false, false, false, false,false,  false, false, false, false]\n\n        }).then( (result) => {\n\n          rows.push( result.id )\n        })\n\n        })).then( () => {\n\n\n        fire.firestore().collection('sequencer').add({\n\n            name: \"Drum Sequencer\",\n            rows: rows\n\n          }).then( (result) => {\n            const sequID = result.id;\n\n            fire.firestore().collection('synthesiser').add({\n\n                name: this.state.sequName,\n                row0: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row1: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row2: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row3: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row4: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row5: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row6: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                scale: 'major',\n                octave: '4',\n                root: 'C',\n                type: this.state.type\n\n              }).then( (result) => {\n\n\n                fire.firestore().collection('room').add({\n                  name: roomName,\n                  tempo: '90',\n                  swing: '0',\n                  collaborators: [userID],\n                  sequencers: [sequID, result.id],\n                  password: password\n\n                }).then( (result) => {\n\n                  const roomID = result.id;\n                  fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n                    const roomArr = result.data().rooms.slice();\n                    roomArr.push( roomID );\n\n                    fire.firestore().collection('user').doc(userID).update({\n                      rooms: roomArr\n                    }).then( () => {\n                      this.setState({\n                        redirectLink: roomID\n                      })\n                    })\n                  })\n                })\n              })\n\n            })\n          })\n\n\n\n    this.setState({\n      roomName: \"\",\n      sequName: \"\",\n      selectedRows: false,\n      type: false\n    })\n\n  }\n\n  render(){\n    if(this.state.redirectLink !== \"\"){\n      return <Redirect to={`/${this.state.redirectLink}`} />\n    }\n\n    return(\n       <div>\n          <form className=\"form-style\" onSubmit={this._handleSubmit}>\n            <label>Room Name</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <input className=\"input-home\" type=\"text\" onChange={this._handleName} value={this.state.roomName}/>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <label>Default Drum Sampler</label>\n            <br />\n            <label>Starting Sequencer</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <SequencerForm sequenceSelect={this._handleSequ} />\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <input className=\"button\" type=\"submit\" />\n          </form>\n       </div>\n    )\n  }\n}\n\nexport default RoomForm;\n","import React, {Component} from 'react';\nimport { Redirect } from 'react-router-dom'\nimport fire from '../config/Fire';\n\nclass JoinRoom extends Component{\n  constructor(props){\n    super(props)\n\n    const user = fire.auth().currentUser;\n\n    this.state = {\n      roomName : \"\",\n      password: \"\",\n      redirectLink: \"\",\n      uid: user.uid\n    }\n\n    this._handleName = this._handleName.bind(this);\n    this._handlePassword = this._handlePassword.bind(this);\n    this._handleSubmit = this._handleSubmit.bind(this);\n    this.joinRoom = this.joinRoom.bind(this);\n\n  }\n\n  _handleName(e){\n    this.setState({\n      roomName: e.target.value\n    })\n  }\n\n  _handlePassword(e){\n    this.setState({\n      password: e.target.value\n    })\n  }\n\n  _handleSubmit(e){\n    e.preventDefault();\n\n    fire.firestore().collection('room').get().then( (rooms) => {\n      rooms.docs.forEach( (doc) => {\n        if(doc.data().name === this.state.roomName){\n          if(doc.data().password === this.state.password){\n\n            this.joinRoom(doc.id, doc.data().collaborators);\n\n          }\n        }\n      })\n    })\n  }\n\n  joinRoom(id, collab){\n    const userID = this.state.uid\n\n    if(collab.includes(userID)){\n\n      this.setState({\n        redirectLink: id\n      });\n\n      return;\n\n    }\n\n\n    const newCollabs = collab.slice();\n    newCollabs.push( userID );\n\n    fire.firestore().collection('room').doc(id).update({\n      collaborators : newCollabs\n    }).then( () => {\n\n        fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n          const roomArr = result.data().rooms.slice();\n          roomArr.push( id );\n\n          fire.firestore().collection('user').doc(userID).update({\n            rooms: roomArr\n          })\n        })\n\n    })\n  }\n\n  render(){\n    if(this.state.redirectLink){\n      const link = '/' + this.state.redirectLink\n      return <Redirect to={link} />\n    }\n\n    return(\n      <form className=\"form-style\">\n        <label>Room Name</label>\n        <input type=\"text\" className=\"input-home\" onChange={ this._handleName } value={ this.state.roomName } />\n        <br/>\n        <label>Pin Code</label>\n        <input type=\"text\" className=\"input-home\" onChange={ this._handlePassword } value={ this.state.password } />\n\n        <input type=\"submit\" className=\"button\" onClick={this._handleSubmit} value=\"Join Room\" />\n      </form>\n    )\n  }\n}\n\nexport default JoinRoom;\n","import React, {Component} from 'react';\nimport fire from '../config/Fire';\nimport { Link } from 'react-router-dom'\n\n//TODO inefficient to loop through all room documents looking for userid, need roomIDs in users too\nclass RoomLinks extends Component{\n  constructor(){\n    super()\n    this.state = {\n      roomIDs: [],\n      rooms: []\n    }\n  }\n\n  componentDidMount(){\n    const userID = fire.auth().currentUser.uid;\n\n    fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n      this.setState({\n        roomIDs: result.data().rooms\n      })\n\n      this.generateLinks();\n\n    })\n\n  }\n\n  generateLinks(){\n    const roomIDs = this.state.roomIDs\n    const roomLinks = [];\n\n    Promise.all(roomIDs.map( async (id) => {\n\n      await fire.firestore().collection('room').doc(id).get().then( (result) => {\n        roomLinks.push(<p><Link className=\"\" to={`/${result.id}`}>{result.data().name}</Link></p>)\n\n      })\n\n    })).then( () => {\n      this.setState({\n        rooms: roomLinks\n      });\n    })\n\n  }\n\n  render(){\n    return(\n      <div className=\"form-style\">\n        {this.state.rooms}\n      </div>\n    )\n  }\n};\n\nexport default RoomLinks;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport NavBar from './NavBar'\nimport Room from './studio/Room'\nimport RoomForm from './crudForms/RoomForm'\nimport JoinRoom from './JoinRoom'\nimport RoomLinks from './RoomLinks'\nimport '../css/login.scss'\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\t\t\t\tthis.userNameShorten = this.userNameShorten.bind;\n        this.logout = this.logout.bind(this);\n\t\t\t\tconst user = fire.auth().currentUser;\n\t\t\t\tthis.state = {\n\t\t\t\t\tuserName: user.displayName,\n\t\t\t\t\temail: user.email,\n          roomForm: false,\n          roomLinks: false,\n          joinRoom: false\n\t\t    };\n\n        this._onCreate = this._onCreate.bind(this)\n        this._onJoin = this._onJoin.bind(this)\n        this._onCollab = this._onCollab.bind(this)\n    }\n\n    logout() {\n        fire.auth().signOut();\n    }\n\n\t\tuserNameShorten(u){\n\t\t\tconst user = fire.auth().currentUser;\n\t\t\tconst name = this.state.userName;\n\t\t\tif(user){\n\t\t\t\tname.charAt(0).toUpperCase();\n\t\t\t}\n\t\t\treturn name;\n\t\t};\n\n    _onCreate(){\n      this.setState({\n        roomForm: true,\n        roomLinks: false,\n        joinRoom: false\n      })\n    }\n\n    _onJoin(){\n      this.setState({\n        roomForm: false,\n        roomLinks: false,\n        joinRoom: true\n      })\n    }\n\n    _onCollab(){\n      this.setState({\n        roomForm: false,\n        roomLinks: true,\n        joinRoom: false\n      })\n    }\n\n    render() {\n        return (\n\t\t\t\t\t<div className=\"background\">\n\t\t\t\t\t<a href=\"/#/profile/:user\"><div className=\"profile-link\">{this.userNameShorten}</div></a>\n\t\t\t\t\t<h1 className=\"mrow\">Simple Studio</h1>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button onClick={this._onCreate} className=\"box-button\">Create</button>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<button onClick={this._onJoin} className=\"box-button\">Join Room</button>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<button onClick={this._onCollab} className=\"box-button\">Collaborate</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ this.state.roomForm ? <RoomForm /> : \"\" }\n\t\t\t\t\t{ this.state.roomLinks ? <RoomLinks /> : \"\" }\n\t\t\t\t\t{ this.state.joinRoom ? <JoinRoom /> : \"\" }\n\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onClick={this.logout} className=\"button\">Logout</button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport '../css/login.scss'\n\nclass Profile extends Component {\n\tconstructor(props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.handleChange = this.handleChange.bind(this);\n\t\t\tthis.submit = this.submit.bind(this);\n\n\t\t\tthis.state = {\n\t\t\t\tuserName: '',\n\t\t\t\temail: '',\n\t\t\t\tpassword: ''\n\t\t\t};\n\t}\n\n\thandleChange(e) {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t}\n\n\tsubmit(s){\n\t\ts.preventDefault();\n\t\tconst user = fire.auth().currentUser;\n\t\tif(user){\n\t\tuser.updateProfile({\n  \t\tdisplayName: this.state.userName,\n\t\t}).then( (u) => {\n  \t\tconsole.log(\"Update Successful\")\n\t\t}).catch( (error) => {\n\t\t\tconsole.log(error)\n\t\t});\n\t}\n}\n\n\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"background\">\n\t\t\t<a href=\"/#/\"><div className=\"profile-link\">Home</div></a>\n\t\t\t<h1 className=\"mrow\">Update Profile &nbsp;</h1>\n\t\t\t<form className=\"sign-form\" onSubmit={this.submit}>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change User Name</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.userName} onChange={this.handleChange} type=\"userName\" \tname=\"userName\" placeholder=\"User Name\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change Email address</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change Password</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t</div>\n\t\t\t\t\t<button className=\"button\" type=\"submit\">Update Profile</button>\n\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Profile;\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Route, Redirect, Switch } from 'react-router-dom'\nimport fire from './config/Fire';\nimport Room from './components/studio/Room';\nimport Chat from './components/Chat';\nimport NavBar from './components/NavBar';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport Profile from './components/Profile';\n\nclass Routes extends Component{\n  constructor() {\n    super();\n    this.state = ({\n      user: null,\n    });\n    this.authListener = this.authListener.bind(this);\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  authListener() {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user });\n        localStorage.setItem('user', user.uid);\n      } else {\n        this.setState({ user: null });\n        localStorage.removeItem('user');\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          {\n            !this.state.user ? <Switch>\n              <Route exact path='/' component={ Login } />,\n              <Redirect from='/:room' to='/' />\n            </Switch> : <Switch>\n\t\t\t\t\t\t\t<Route path='/profile/:user' component={ Profile } />,\n              <Route exact path='/' component={ Home } />,\n              <Route path='/profile/:user' component={ Profile } />,\n              <Route path='/:room' component={ Room } />\n            </Switch>\n          }\n        </div>\n      </Router>\n   );\n  }\n\n}\n\nexport default Routes\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport Routes from './Routes';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}