{"version":3,"sources":["config/Fire.js","components/studio/Row.js","components/studio/Synthesiser.js","components/studio/Sequencer.js","components/Chat.js","components/studio/Room.js","components/NavBar.js","components/Login.js","components/crudForms/SequencerForm.js","components/crudForms/RoomForm.js","components/JoinRoom.js","components/RoomLinks.js","components/Home.js","components/Profile.js","Routes.js","serviceWorker.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Row","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","user","auth","currentUser","state","id","rowID","instrument","tone","activeCol","collaborators","userID","uid","_updateTile","bind","assertThisInitialized","_getClassNames","lightCol","_this2","firestore","collection","doc","onSnapshot","snapshot","setState","data","row","i","push","react_default","a","createElement","onClick","includes","key","className","result","e","changedTone","slice","target","update","buildRow","Row_Music","activate","Component","Music","_this3","loop","play","_this4","link","process","drum","Tone","Players","defineProperty","volume","toMaster","Sequence","time","col","get","start","Draw","schedule","Synthesiser","synthID","tones","rows","noteArray","scale","octave","root","chorus","chorusAmount","reverb","reverbAmount","delay","delayAmount","vol","volAmount","_onScale","_onOctave","_onRoot","_handleChorus","_handleReverb","_handleDelay","_handleVol","scaleChoice","note","console","log","map","transpose","reverse","row0","row1","row2","row3","row4","row5","row6","polySynth","PolySynth","Synth","oscillator","type","pingPong","PingPongDelay","delayTime","feedback","wet","Chorus","frequency","depth","Freeverb","roomSize","dampening","Volume","chain","Master","length","triggerAttackRelease","value","j","column","concat","rownum","colnum","indexOf","changedNote","Fragment","onChange","min","max","createSynth","Sequencer","seqID","name","isSynth","createRows","then","exists","studio_Synthesiser","studio_Row","ChatRoom","context","chatToggle","shrinkRoom","showMenu","updateMessage","submitMessage","message","messages","userName","displayName","roomID","database","ref","on","currentMessages","val","preventDefault","nextMessage","text","set","currentMessage","chatVis","class","onSubmit","index_es","forceScroll","placeholder","Room","Transport","stop","cancel","match","params","room","sequencers","transport","tempo","swing","createSequences","_playMusic","_changeTempo","_changeSwing","sequencer","studio_Sequencer","toggle","changeTransport","newTempo","bpm","clearTimeout","setTimeout","newSwing","b","Chat","react_router","to","Login","login","handleChange","signup","email","password","signInWithEmailAndPassword","u","catch","error","createUserWithEmailAndPassword","updateProfile","rooms","reactjs_popup_es","trigger","position","SequencerForm","_handleChange","sequenceSelect","RoomForm","roomName","sequName","selectedRows","redirectLink","_handleSubmit","_handleName","_handleSequ","toConsumableArray","Array","Math","random","toString","join","toUpperCase","getPassword","Promise","all","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","add","_x","apply","arguments","sequID","roomArr","crudForms_SequencerForm","JoinRoom","_handlePassword","joinRoom","docs","forEach","collab","newCollabs","RoomLinks","roomIDs","generateLinks","roomLinks","react_router_dom","Home","userNameShorten","logout","roomForm","_onCreate","_onJoin","_onCollab","signOut","charAt","href","crudForms_RoomForm","components_RoomLinks","components_JoinRoom","Profile","submit","s","Routes","authListener","onAuthStateChanged","localStorage","setItem","removeItem","path","component","exact","from","Boolean","window","location","hostname","ReactDOM","render","src_Routes","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.35c37f95.chunk.js","sourcesContent":["import firebase from 'firebase';\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n\tapiKey: \"AIzaSyCBd78yY9bngvyXh4befoXMiK-b-mnIALc\",\n\tauthDomain: \"simple-studio-2b931.firebaseapp.com\",\n\tdatabaseURL: \"https://simple-studio-2b931.firebaseio.com\",\n\tprojectId: \"simple-studio-2b931\",\n\tstorageBucket: \"simple-studio-2b931.appspot.com\",\n\tmessagingSenderId: \"887864254461\",\n\tappId: \"1:887864254461:web:266ded447123e296\"\n};\n\n// Initialize Firebase\nconst fire = firebase.initializeApp(firebaseConfig);\nexport default fire;\n","import React, { Component } from 'react';\nimport '../../css/row.scss'\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\n\nclass Row extends Component {\n  constructor(props){\n    super(props);\n    const user=fire.auth().currentUser;\n\n    this.state = {\n      id: this.props.rowID,\n      instrument: '',\n      tone: [],\n      activeCol: -1,\n      collaborators: this.props.collaborators,\n      userID: user.uid\n    };\n    this._updateTile = this._updateTile.bind(this)\n    this._getClassNames = this._getClassNames.bind(this)\n    this.lightCol = this.lightCol.bind(this)\n  }\n\n  componentDidMount(){\n    fire.firestore().collection('row').doc(this.state.id).onSnapshot( (snapshot) => {\n      this.setState({\n        instrument: snapshot.data().instrument,\n        tone: snapshot.data().tone\n      })\n    })\n  }\n\n  //helper function to build row for tone/instruments\n  buildRow() {\n    const row = [];\n      for (let i = 0; i < 16; i++) {\n\n        //add ternery here for the onclick, if true user auth on this room, calls this._updateTile otherwise do nothing.\n\n        // this.state.collaborators.includes(this.state.userID) ? true : false\n        //if room colaborators is equal to current user\n        row.push(<div onClick={this.state.collaborators.includes(this.state.userID) ? this._updateTile : \"\" } id={i} key={i} className={this._getClassNames(i)}></div>)\n      }\n    return row\n  }\n\n  _getClassNames(i){\n    let result = \"row-tile\"\n\n    if (this.state.tone[i]){\n       result += \" selected\"\n    }\n\n    if (i === this.state.activeCol ){\n      result += \" active-tile\"\n    }\n    return result\n  }\n\n  _updateTile(e) {\n    const changedTone = this.state.tone.slice()\n    changedTone[e.target.id] = !changedTone[e.target.id]\n    //this pushes the change to firebase\n    fire.firestore().collection('row').doc(this.state.id).update({\n      tone: changedTone\n    })\n\n  }\n\n  lightCol(i){\n    this.setState({\n      activeCol: i\n    })\n  }\n\n  render(){\n    return(\n      <div className=\"row-container\">\n        <div className=\"row-title\"> {this.state.instrument} </div>\n        {this.buildRow()}\n        {\n          this.state.instrument ? <Music tone={this.state.tone} instrument={this.state.instrument} activate={this.lightCol}/> : \"\"\n        }\n      </div>\n    )\n  }\n}\n\nclass Music extends Component {\n  constructor(props){\n    super(props);\n\n    this.state ={\n      loop: \"\",\n      play: []\n    }\n  }\n\n  componentDidMount(){\n\n    const link = process.env.PUBLIC_URL + '/assets/' + this.props.instrument + '.mp3';\n\n    const drum = new Tone.Players({\n      [this.props.instrument] : link\n    }, {\n      'volume': -5,\n    }).toMaster()\n\n    const loop = new Tone.Sequence( (time, col) => {\n      if(this.props.tone[col]){\n\n        drum.get(this.props.instrument).start(time)\n\n      }\n\n      Tone.Draw.schedule( () => {\n        this.props.activate(col);\n      }, time);\n\n    }, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], '16n');\n\n    loop.start(0);\n\n    this.setState({\n      loop: loop\n    })\n\n  }\n\n  render(){\n    return(\n      <div />\n    )\n  }\n}\n\nexport default Row;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\nimport { transpose, scale } from \"tonal\";\n\nclass Synthesiser extends Component {\n  constructor(props){\n    super(props);\n    this.state ={\n      id: this.props.synthID,\n      loop: \"\",\n      tones: this.props.rows,\n      noteArray: [],\n      scale: \"\",\n      octave: \"\",\n      root: \"\",\n      chorus: \"\",\n      chorusAmount: 0,\n      reverb: \"\",\n      reverbAmount: 0,\n      delay: \"\",\n      delayAmount: 0,\n      vol: \"\",\n      volAmount: -12\n    }\n    this._updateTile = this._updateTile.bind(this);\n    this._onScale = this._onScale.bind(this);\n    this._onOctave = this._onOctave.bind(this);\n    this._onRoot = this._onRoot.bind(this);\n    this._handleChorus = this._handleChorus.bind(this)\n    this._handleReverb = this._handleReverb.bind(this)\n    this._handleDelay = this._handleDelay.bind(this)\n    this._handleVol = this._handleVol.bind(this)\n  }\n\n  componentDidMount() {\n\n    fire.firestore().collection('synthesiser').doc(this.state.id).onSnapshot( (snapshot) => {\n      const data = snapshot.data();\n      const scaleChoice = data.scale;\n      const note = data.root + data.octave;\n      console.log(note);\n      this.setState({\n        noteArray: scale(scaleChoice).map(transpose(note)).reverse(),\n        tones: [\n          data.row0,\n          data.row1,\n          data.row2,\n          data.row3,\n          data.row4,\n          data.row5,\n          data.row6\n        ],\n        scale: data.scale,\n        octave: data.octave,\n        root: data.root\n      })\n\n    })\n\n    const polySynth = new Tone.PolySynth(7, Tone.Synth, {\n      \"oscillator\" : { \"type\" : \"sine\" },\n      \"volume\": -6\n    })\n\n    var pingPong = new Tone.PingPongDelay({\n      \"delayTime\": \"4n\",\n      \"feedback\": 0.2,\n      \"wet\": 0\n    }).toMaster();\n\n    var chorus = new Tone.Chorus({\n      \"frequency\": 2.5,\n      \"delayTime\": 0.5,\n      \"depth\": 1,\n      \"feedback\": 0.3,\n      \"wet\": 0\n    }).toMaster();\n\n    var reverb = new Tone.Freeverb({\n      \"roomSize\": 0.8,\n      \"dampening\": 12000,\n      \"wet\": 0\n    }).toMaster();\n\n    var vol = new Tone.Volume({\n      \"volume\": -12,\n    });\n\n    polySynth.chain(vol, chorus, pingPong, reverb, Tone.Master)\n\n    const loop = new Tone.Sequence( (time, col) => {\n      for ( let i = 0; i < this.state.tones.length; i++ ){\n        if(this.state.tones[i][col]){\n          polySynth.triggerAttackRelease(this.state.noteArray[i], '16n')\n        }\n      }\n\n      Tone.Draw.schedule( () => {\n        this.lightCol(col);\n      }, time);\n\n    }, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], '16n');\n\n    loop.start(0);\n\n    this.setState({\n      loop: loop,\n      chorus: chorus,\n      reverb: reverb,\n      delay: pingPong,\n      vol: vol\n    })\n\n  }\n\n  _handleChorus(e) {\n    this.setState({\n      chorusAmount: e.target.value\n    })\n    this.state.chorus.wet.value = (this.state.chorusAmount / 100);\n  }\n\n  _handleReverb(e) {\n    this.setState({\n      reverbAmount: e.target.value\n    })\n    this.state.reverb.wet.value = (this.state.reverbAmount / 100);\n  }\n\n  _handleDelay(e) {\n    this.setState({\n      delayAmount: e.target.value\n    })\n    this.state.delay.wet.value = (this.state.delayAmount / 100);\n  }\n\n  _handleVol(e) {\n    console.log(e.target.value);\n    this.setState({\n      volAmount: e.target.value\n    })\n    this.state.vol.volume.value = this.state.volAmount;\n  }\n\n  createSynth() {\n    const row = [];\n    for( let j = 0; j < this.state.tones.length; j++ ){\n      let column = [];\n\n      column.push(<div className=\"row-title\"> {this.state.noteArray[j]} </div>)\n\n      for (let i = 0; i < 16; i++) {\n        column.push(<div onClick={this._updateTile} id={`${j}rowcol${i}`} key={i} className={this._getClassNames(i, j)}></div>)\n      }\n      row.push(<div className=\"row-container\">{column}</div>);\n    }\n    return row\n  }\n\n  _getClassNames(i, j){\n    let result = \"row-tile\"\n\n    if (this.state.tones[j][i]){\n       result += \" selected\"\n    }\n\n    if (i === this.state.activeCol ){\n      result += \" active-tile\"\n    }\n    return result\n  }\n\n  _updateTile(e) {\n    const rownum = e.target.id[0];\n    const colnum = e.target.id.slice(e.target.id.indexOf('l') + 1)\n    const changedNote = this.state.tones.slice()\n    changedNote[rownum][colnum] = !changedNote[rownum][colnum];\n    //this pushes the change to firebase\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      row0: changedNote[0],\n      row1: changedNote[1],\n      row2: changedNote[2],\n      row3: changedNote[3],\n      row4: changedNote[4],\n      row5: changedNote[5],\n      row6: changedNote[6]\n    })\n\n  }\n\n  lightCol(i){\n    this.setState({\n      activeCol: i\n    })\n  }\n\n  _onScale(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      scale: e.target.value\n    })\n  }\n\n  _onOctave(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      octave: e.target.value\n    })\n  }\n\n  _onRoot(e){\n    fire.firestore().collection('synthesiser').doc(this.state.id).update({\n      root: e.target.value\n    })\n  }\n\n  render(){\n    return(\n      <>\n        <div className=\"scale-controls-container\">\n          <div className=\"scale-controls\">\n            <label>Choose Root Note</label>\n            <select onChange={this._onRoot} value={this.state.root}>\n              <option value=\"A\">A</option>\n              <option value=\"Bb\">Bb</option>\n              <option value=\"B\">B</option>\n              <option value=\"C\">C</option>\n              <option value=\"Db\">Db</option>\n              <option value=\"D\">D</option>\n              <option value=\"Eb\">Eb</option>\n              <option value=\"E\">E</option>\n              <option value=\"F\">F</option>\n              <option value=\"Gb\">Gb</option>\n              <option value=\"G\">G</option>\n            </select>\n          </div>\n          <div className=\"scale-controls\">\n            <label>Choose Scale</label>\n            <select onChange={this._onScale} value={this.state.scale}>\n              <option value=\"major\">Major</option>\n              <option value=\"minor\">Minor</option>\n              <option value=\"pentatonic\">Pentatonic</option>\n            </select>\n          </div>\n          <div className=\"scale-controls\">\n            <label>Choose Octave</label>\n            <select onChange={this._onOctave} value={this.state.octave}>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n              <option value=\"6\">6</option>\n            </select>\n          </div>\n        </div>\n        <div className=\"effects-slider-container\">\n          <label>Chorus Amount:</label>\n          <input type=\"range\" min=\"0\" max=\"100\" value={this.state.chorusAmount} onChange={this._handleChorus} className=\"slider\"/>\n          <label>Delay Amount:</label>\n          <input type=\"range\" min=\"0\" max=\"100\" value={this.state.delayAmount} onChange={this._handleDelay} className=\"slider\"/>\n        </div>\n        <div className=\"effects-slider-container\">\n          <label>Reverb Amount:</label>\n          <input type=\"range\" min=\"0\" max=\"50\" value={this.state.reverbAmount} onChange={this._handleReverb} className=\"slider\"/>\n\n          <label>Volume Amount:</label>\n          <input type=\"range\" min=\"-64\" max=\"-6\" value={this.state.volAmount} onChange={this._handleVol} className=\"slider\"/>\n        </div>\n        <div>\n        {this.createSynth()}\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Synthesiser;\n","import React, { Component } from 'react';\nimport Row from './Row'\nimport fire from '../../config/Fire'\nimport Synthesiser from './Synthesiser'\n// import Tone from 'tone'\n\nclass Sequencer extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      id: this.props.seqID,\n      name: \"\",\n      rows: [],\n      isSynth: false\n    }\n\n    this.createRows = this.createRows.bind(this);\n\n  }\n  //this is a lifestyle function called after constructor\n  componentDidMount(){\n    //gets database and returns as snapshot (only once, no need to update)\n    fire.firestore().collection('sequencer').doc(this.state.id).get().then( (snapshot) => {\n      if( snapshot.exists ){\n        this.setState({\n          name: snapshot.data().name,\n          rows: snapshot.data().rows,\n          isSynth: false\n        })\n      }else{\n        fire.firestore().collection('synthesiser').doc(this.state.id).get().then( (snapshot) => {\n          const data = snapshot.data();\n          this.setState({\n            name: data.name,\n            rows: [\n              data.row0,\n              data.row1,\n              data.row2,\n              data.row3,\n              data.row4,\n              data.row5,\n              data.row6\n            ],\n            isSynth: true\n          })\n        })\n      }\n    })\n  }\n\n  //helper function to create the sequencer rows based off ID.\n  createRows(){\n    if(this.state.isSynth){\n      return <Synthesiser synthID={this.state.id} rows={this.state.rows}/>\n    }else{\n      const rows = [];\n      for (let i = 0; i < this.state.rows.length; i++ ){\n        rows.push( <Row key={i} rowID={this.state.rows[i]} collaborators={this.props.collaborators}/> )\n      }\n      return rows;\n    }\n  }\n\n  render(){\n    return(\n      <div>\n      \n        {this.createRows()}\n      </div>\n    )\n  }\n};\n\nexport default Sequencer;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport chatbar from '../css/chatbar.scss'\nimport ScrollableFeed from 'react-scrollable-feed'\n\n\nclass ChatRoom extends Component {\n    constructor(props, context){\n      super(props, context);\n      this.updateMessage = this.updateMessage.bind(this)\n      this.submitMessage = this.submitMessage.bind(this)\n      const user = fire.auth().currentUser;\n      this.state = {\n        message: '',\n        messages: [],\n        showMenu: false,\n        userName: user.displayName,\n        //a room state needs to be added.\n        roomID: this.props.roomID\n\n      }\n    }\n\n    componentDidMount(){\n      //messages needs to be turned into a variable based off room name.\n      fire.database().ref(`${this.state.roomID}/`).on('value', (snapshot) =>{\n\n        const currentMessages = snapshot.val()\n\n        if (currentMessages != null){\n          this.setState({\n            messages: currentMessages\n          })\n\n        }\n      })\n    }\n\n    updateMessage(e){\n      this.setState({\n        message: e.target.value\n      })\n    }\n    submitMessage(e){\n      e.preventDefault()\n\n      const nextMessage = {\n        id: this.state.messages.length,\n        text: this.state.message,\n        user: this.state.userName\n      }\n\n      //messages needs to be updated to include room id ie room state\n      fire.database().ref(`${this.state.roomID}/`+nextMessage.id).set(nextMessage)\n\n      this.setState({message: ''})\n    }\n\n    chatToggle = () => {\n      this.props.shrinkRoom(!this.state.showMenu);\n      \n      this.setState({\n        showMenu: !this.state.showMenu\n      })\n    }\n\n    render(){\n      const currentMessage = this.state.messages.map((message, i, user) => {\n        return (\n          <li key={message.id}>{message.user}: {message.text}</li>\n        )\n      })\n\n      const chatVis = this.state.showMenu ? 'active' : '';\n\n\n    return(\n      <div className=\"chat-bar\">\n        <span class=\"chatbar-toggle\" onClick={this.chatToggle}>\n          <div className=\"chat-bar-logo\">💬</div>\n        </span>\n        <form className={`main-chat ${chatVis}`} onSubmit={this.submitMessage}>\n          <ol>\n            <ScrollableFeed forceScroll='true'>\n              {currentMessage}\n            </ScrollableFeed>\n          </ol>\n          <input value={this.state.message} onChange={this.updateMessage} type=\"text\" placeholder=\"Send Message to Room\" className=\"chat-input\"/>\n          <br />\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default ChatRoom\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom'\nimport fire from '../../config/Fire'\nimport Tone from 'tone'\nimport Sequencer from './Sequencer'\nimport Chat from '../Chat'\n\nclass Room extends Component {\n  constructor(props){\n    super(props);\n\n   Tone.Transport.stop();\n   Tone.Transport.cancel();\n\n\n\n    this.state = {\n      id: this.props.match.params.room,\n      name: \"\",\n      sequencers: [],\n      transport: false,\n      tempo: '',\n      exists: true,\n      collaborators: [],\n      swing: '',\n      showMenu: false\n    }\n\n    this.createSequences = this.createSequences.bind(this);\n    this._playMusic = this._playMusic.bind(this);\n    this._changeTempo = this._changeTempo.bind(this);\n    this._changeSwing = this._changeSwing.bind(this);\n    this.shrinkRoom = this.shrinkRoom.bind(this);\n  }\n\n  //this is a lifestyle function called after constructor\n  componentDidMount(){\n    //gets database and returns as snapshot (only once, no need to update)\n    fire.firestore().collection('room').doc(this.state.id).get().then( (snapshot) => {\n      if(!snapshot.exists){\n\n        this.setState({\n            exists: false\n        })\n\n      }else{\n\n        this.setState({\n          name: snapshot.data().name,\n          tempo: snapshot.data().tempo,\n          collaborators: snapshot.data().collaborators,\n          swing: snapshot.data().swing\n\n        })\n\n      }\n    })\n    fire.firestore().collection('room').doc(this.state.id).onSnapshot( (snapshot) => {\n      this.setState({\n        tempo: snapshot.data().tempo,\n        sequencers: snapshot.data().sequencers,\n        swing: snapshot.data().swing\n        \n      })\n    })\n  }\n\n  //helper function to create the sequencers based off ID.\n  createSequences(){\n    const sequencer = [];\n    for (let i = 0; i < this.state.sequencers.length; i++ ){\n      sequencer.push( <Sequencer key={i} seqID={this.state.sequencers[i]} collaborators={this.state.collaborators}/> ) //add props to sequencer here.\n    }\n    return sequencer;\n  }\n\n  _playMusic(){\n    Tone.Transport.toggle();\n    let changeTransport = this.state.transport;\n    this.setState({\n      transport: !changeTransport\n    })\n  }\n\n  _changeTempo(e){\n    let newTempo = e.target.value;\n\n    this.setState({\n      tempo: newTempo\n    })\n\n    Tone.Transport.bpm.value = this.state.tempo;\n\n    const updateTempo = () => {\n\n      fire.firestore().collection('room').doc(this.state.id).update({\n        tempo: this.state.tempo\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateTempo, 1000);\n  }\n\n  _changeSwing(e){\n    let newSwing = e.target.value;\n\n    this.setState({\n      swing: newSwing\n    })\n\n    Tone.Transport.swing = this.state.swing / 100;\n\n    const updateSwing = () => {\n\n      fire.firestore().collection('room').doc(this.state.id).update({\n        swing: this.state.swing\n      })\n    }\n\n    clearTimeout(this.time);\n\n    this.time = setTimeout(updateSwing, 500);\n  }\n\n  shrinkRoom(b){\n    this.setState({\n      showMenu: b\n    })\n  }\n\n\n  render(){\n\n    const chatVis = this.state.showMenu ? 'shrink-room' : '';\n\n    if(!this.state.exists){\n      return <Redirect to='/' />\n    }\n\n    return(\n      <div>\n        <div className=\"room-container\">\n        <div className={chatVis}>\n          <h1 id=\"room-title\">{this.state.name}</h1>\n          <div className=\"slidecontainer\">\n            {\n              this.state.transport ?\n              <button className=\"transport\" onClick={this._playMusic}>◼</button> : <button  className=\"transport\" onClick={this._playMusic}>▶</button>\n            }\n            <p className=\"tempo\">Tempo: {this.state.tempo} bpm</p>\n            <input type=\"range\" min=\"60\" max=\"180\" id='bpm' value={this.state.tempo}  onChange={this._changeTempo} className=\"slider\"/>\n            <p className=\"tempo\">Swing Amount: {this.state.swing}</p>\n            <input type=\"range\" min=\"0\" max=\"100\" id='bpm' value={this.state.swing}   onChange={this._changeSwing} className=\"slider\"/>\n          </div>\n          <div className=\"sequence-wrapper\">\n            {this.createSequences()}\n          </div>\n        </div>\n        </div>\n        <Chat roomID={this.state.id} shrinkRoom={this.shrinkRoom} />\n      </div>\n    )\n  }\n};\n\nexport default Room;\n","import React, {Component} from 'react';\nimport '../css/navbar.scss'\nimport { slide as Menu } from 'react-burger-menu'\n\n\nclass NavBar extends Component {\n  showSettings (event) {\n    event.preventDefault();\n  }\n\n  render () {\n    return (\n\t\t\t<div className=\"nav-container\">\n\t      <Menu>\n\t        <a id=\"home\" className=\"menu-item\" href=\"/\">Home</a>\n\t        <a id=\"about\" className=\"menu-item\" href=\"/about\">About</a>\n\t        <a id=\"contact\" className=\"menu-item\" href=\"/contact\">Contact</a>\n\t        <a onClick={ this.showSettings } className=\"menu-item--small\" href=\"\">Settings</a>\n\t      </Menu>\n\t\t\t</div>\n    );\n  }\n}\n\nexport default NavBar;\n","import React, { Component } from 'react';\nimport Popup from \"reactjs-popup\";\nimport fire from '../config/Fire';\nimport '../css/login.scss'\n\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n\t\tthis.signup = this.signup.bind(this);\n\n    this.state = {\n      email: '',\n      password: '',\n\t\t\tuserName: '',\n    };\n  }\n\n\n  handleChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  login(e) {\n    e.preventDefault();\n    fire.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((u)=>{console.log()\n    }).catch((error) => {\n        console.log(error);\n      });\n  }\n\n\tsignup(e) {\n\te.preventDefault();\n\tfire.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then(\n  \t(data)=>{\n\t\t\tconst { user } = data\n    \tif(user){\n      \tuser.updateProfile({\n         displayName: this.state.userName,\n      }).then(function() {\n\n        fire.firestore().collection('user').doc(user.uid).set({\n          rooms: []\n        })\n        console.log(user.displayName);\n\t\t  })\n    }\n  }).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\nrender() {\n\treturn (\n\t\t<div className=\"background\">\n\t\t\t<h1 className=\"title\">Simple Studio</h1>\n\t\t \t<form className=\"sign-form\">\n\t\t\t\t<div>\n\t\t \t\t\t<label className=\"title\" >Email address</label>\n\t\t\t\t\t<br/>\n\t\t \t\t\t<input className=\"input\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t</div>\n\t\t \t\t<div>\n\t\t\t\t\t<label className=\"title\">Password</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t</div>\n\t\t\t\t\t<button className=\"button\" type=\"submit\" onClick={this.login}>Login</button>\n\t\t\t</form>\n\t\t\t\t<p className=\"title\">Not a member?</p>\n\t\t\t\t  <Popup className=\"popup-box\" id=\"signup-box\" trigger={<button className=\"button\">Sign Up</button>} position=\"center\">\n\t\t\t\t    <div>\n\t\t\t\t\t\t<form className=\"sign-form\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">User Name</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.userName} onChange={this.handleChange} type=\"name\" name=\"userName\" placeholder=\"Create a user name\" />\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">Email address</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"label-form\">Password</label>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<input className=\"input-pop\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\"\tplaceholder=\"Password\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t<button className=\"button\" onClick={this.signup}>Sign Up</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t</div>\n\t\t\t\t  </Popup>\n</div>\n\t);\n}\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\n\n\nclass SequencerForm extends Component {\n  constructor(props){\n    super(props)\n\n    this.state = {\n      value: \"\"\n    }\n\n    this._handleChange = this._handleChange.bind(this);\n  }\n\n  _handleChange(e){\n\n    this.setState({\n      value: e.target.value\n    })\n\n    if (e.target.value === 'normal'){\n      this.props.sequenceSelect(\n        [],\n        \"Sine Synth Sequencer\",\n        'normal'\n      );\n    }else if ( e.target.value === 'empty' ){\n      this.props.sequenceSelect(\n        false,\n        \"\",\n        \"\"\n      )\n    }\n  }\n\n  render(){\n    return(\n      <select className=\"select-menu\" onChange={this._handleChange} value={this.state.value}>\n        <option value=\"empty\">Select A Sequencer</option>\n        <option value=\"normal\">Sine Synth Sequencer</option>\n      </select>\n    )\n  }\n}\n\nexport default SequencerForm;\n","import React, { Component } from 'react';\nimport fire from '../../config/Fire'\nimport SequencerForm from './SequencerForm'\nimport { Redirect } from 'react-router-dom'\nimport '../../css/login.scss'\n\nclass RoomForm extends Component {\n  constructor(){\n      super()\n\n      this.state = {\n        roomName: \"\",\n        sequName: \"\",\n        selectedRows: false,\n        type: \"\",\n        redirectLink: \"\"\n      }\n\n      this._handleSubmit = this._handleSubmit.bind(this);\n      this._handleName = this._handleName.bind(this);\n      this._handleSequ = this._handleSequ.bind(this);\n  }\n\n  _handleName(e){\n    this.setState({\n      roomName: e.target.value\n    })\n  }\n\n  _handleSequ(rows, name, type){\n\n      this.setState({\n        sequName: name,\n        selectedRows: rows,\n        type: type\n      })\n\n\n  }\n\n  getPassword(){\n    return [...Array(6)].map(i=>(~~(Math.random()*36)).toString(36)).join('').toUpperCase();\n  }\n\n  _handleSubmit (e){\n    e.preventDefault();\n\n\n    if( !this.state.selectedRows){\n      return;\n    }\n\n    const userID = fire.auth().currentUser.uid;\n    const password = this.getPassword();\n    const roomName = this.state.roomName;\n\n\n      const drumRows = [\n        \"CLAP\",\n        \"CLOSEDHAT\",\n        \"SNARE\",\n        \"COWBELL\",\n        \"CYMBAL\",\n        \"KICK\",\n        \"OPENHIHAT\",\n        \"RIMSHOT\"\n      ];\n\n      const rows = [];\n\n      // WHYYYYYYYY?????\n      Promise.all(drumRows.map( async(instrument) => {\n\n        await fire.firestore().collection('row').add({\n\n          instrument: instrument,\n          tone: [false, false, false, false, false, false, false, false, false, false, false,false,  false, false, false, false]\n\n        }).then( (result) => {\n\n          rows.push( result.id )\n        })\n\n        })).then( () => {\n\n\n        fire.firestore().collection('sequencer').add({\n\n            name: \"Drum Sequencer\",\n            rows: rows\n\n          }).then( (result) => {\n            const sequID = result.id;\n\n            fire.firestore().collection('synthesiser').add({\n\n                name: this.state.sequName,\n                row0: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row1: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row2: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row3: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row4: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row5: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                row6: [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false],\n                scale: 'major',\n                octave: '4',\n                root: 'C',\n                type: this.state.type,\n                chorus: '0',\n                reverb: '0',\n                delay: '0',\n                volume: '-12'\n\n              }).then( (result) => {\n\n\n                fire.firestore().collection('room').add({\n                  name: roomName,\n                  tempo: '90',\n                  swing: '0',\n                  collaborators: [userID],\n                  sequencers: [sequID, result.id],\n                  password: password\n\n                }).then( (result) => {\n\n                  const roomID = result.id;\n                  fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n                    const roomArr = result.data().rooms.slice();\n                    roomArr.push( roomID );\n\n                    fire.firestore().collection('user').doc(userID).update({\n                      rooms: roomArr\n                    }).then( () => {\n                      this.setState({\n                        redirectLink: roomID\n                      })\n                    })\n                  })\n                })\n              })\n\n            })\n          })\n\n\n\n    this.setState({\n      roomName: \"\",\n      sequName: \"\",\n      selectedRows: false,\n      type: false\n    })\n\n  }\n\n  render(){\n    if(this.state.redirectLink !== \"\"){\n      return <Redirect to={`/${this.state.redirectLink}`} />\n    }\n\n    return(\n       <div>\n          <form className=\"form-style\" onSubmit={this._handleSubmit}>\n            <label id=\"room-name\">Room Name</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <input className=\"input-home\" type=\"text\" onChange={this._handleName} value={this.state.roomName}/>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <label>Drum Sampler added by Default</label>\n            <br />\n            <label>Choose Starting Sequencer</label>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <SequencerForm sequenceSelect={this._handleSequ} />\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<br/>\n            <input className=\"button\" type=\"submit\" />\n          </form>\n       </div>\n    )\n  }\n}\n\nexport default RoomForm;\n","import React, {Component} from 'react';\nimport { Redirect } from 'react-router-dom'\nimport fire from '../config/Fire';\n\nclass JoinRoom extends Component{\n  constructor(props){\n    super(props)\n\n    const user = fire.auth().currentUser;\n\n    this.state = {\n      roomName : \"\",\n      password: \"\",\n      redirectLink: \"\",\n      uid: user.uid\n    }\n\n    this._handleName = this._handleName.bind(this);\n    this._handlePassword = this._handlePassword.bind(this);\n    this._handleSubmit = this._handleSubmit.bind(this);\n    this.joinRoom = this.joinRoom.bind(this);\n\n  }\n\n  _handleName(e){\n    this.setState({\n      roomName: e.target.value\n    })\n  }\n\n  _handlePassword(e){\n    this.setState({\n      password: e.target.value\n    })\n  }\n\n  _handleSubmit(e){\n    e.preventDefault();\n\n    fire.firestore().collection('room').get().then( (rooms) => {\n      rooms.docs.forEach( (doc) => {\n        if(doc.data().name === this.state.roomName){\n          if(doc.data().password === this.state.password){\n\n            this.joinRoom(doc.id, doc.data().collaborators);\n\n          }\n        }\n      })\n    })\n  }\n\n  joinRoom(id, collab){\n    const userID = this.state.uid\n\n    if(collab.includes(userID)){\n\n      this.setState({\n        redirectLink: id\n      });\n\n      return;\n\n    }\n\n\n    const newCollabs = collab.slice();\n    newCollabs.push( userID );\n\n    fire.firestore().collection('room').doc(id).update({\n      collaborators : newCollabs\n    }).then( () => {\n\n        fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n          const roomArr = result.data().rooms.slice();\n          roomArr.push( id );\n\n          fire.firestore().collection('user').doc(userID).update({\n            rooms: roomArr\n          })\n        })\n\n    })\n  }\n\n  render(){\n    if(this.state.redirectLink){\n      const link = '/' + this.state.redirectLink\n      return <Redirect to={link} />\n    }\n\n    return(\n      <form className=\"form-style\">\n        <label>Room Name</label>\n        <input type=\"text\" className=\"input-home\" onChange={ this._handleName } value={ this.state.roomName } />\n        <br/>\n        <label>Pin Code</label>\n        <input type=\"text\" className=\"input-home\" onChange={ this._handlePassword } value={ this.state.password } />\n\n        <input type=\"submit\" className=\"button\" onClick={this._handleSubmit} value=\"Join Room\" />\n      </form>\n    )\n  }\n}\n\nexport default JoinRoom;\n","import React, {Component} from 'react';\nimport fire from '../config/Fire';\nimport { Link } from 'react-router-dom'\n\n//TODO inefficient to loop through all room documents looking for userid, need roomIDs in users too\nclass RoomLinks extends Component{\n  constructor(){\n    super()\n    this.state = {\n      roomIDs: [],\n      rooms: []\n    }\n  }\n\n  componentDidMount(){\n    const userID = fire.auth().currentUser.uid;\n\n    fire.firestore().collection('user').doc(userID).get().then( (result) => {\n\n      this.setState({\n        roomIDs: result.data().rooms\n      })\n\n      this.generateLinks();\n\n    })\n\n  }\n\n  generateLinks(){\n    const roomIDs = this.state.roomIDs\n    const roomLinks = [];\n\n    Promise.all(roomIDs.map( async (id) => {\n\n      await fire.firestore().collection('room').doc(id).get().then( (result) => {\n        roomLinks.push(<p><Link className=\"\" to={`/${result.id}`}>{result.data().name}</Link></p>)\n\n      })\n\n    })).then( () => {\n      this.setState({\n        rooms: roomLinks\n      });\n    })\n\n  }\n\n  render(){\n    return(\n      <div className=\"form-style\">\n        {this.state.rooms}\n      </div>\n    )\n  }\n};\n\nexport default RoomLinks;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport NavBar from './NavBar'\nimport Room from './studio/Room'\nimport RoomForm from './crudForms/RoomForm'\nimport JoinRoom from './JoinRoom'\nimport RoomLinks from './RoomLinks'\nimport Tone from 'tone'\nimport '../css/login.scss'\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\n        Tone.Transport.stop();\n        Tone.Transport.cancel();\n\n\t\t\t\tthis.userNameShorten = this.userNameShorten.bind;\n        this.logout = this.logout.bind(this);\n\t\t\t\tconst user = fire.auth().currentUser;\n\t\t\t\tthis.state = {\n\t\t\t\t\tuserName: user.displayName,\n\t\t\t\t\temail: user.email,\n          roomForm: false,\n          roomLinks: false,\n          joinRoom: false\n\t\t    };\n\n        this._onCreate = this._onCreate.bind(this)\n        this._onJoin = this._onJoin.bind(this)\n        this._onCollab = this._onCollab.bind(this)\n    }\n\n    logout() {\n        fire.auth().signOut();\n    }\n\n\t\tuserNameShorten(u){\n\t\t\tconst user = fire.auth().currentUser;\n\t\t\tconst name = this.state.userName;\n\t\t\tif(user){\n\t\t\t\tname.charAt(0).toUpperCase();\n\t\t\t}\n\t\t\treturn name;\n\t\t};\n\n    _onCreate(){\n      this.setState({\n        roomForm: true,\n        roomLinks: false,\n        joinRoom: false\n      })\n    }\n\n    _onJoin(){\n      this.setState({\n        roomForm: false,\n        roomLinks: false,\n        joinRoom: true\n      })\n    }\n\n    _onCollab(){\n      this.setState({\n        roomForm: false,\n        roomLinks: true,\n        joinRoom: false\n      })\n    }\n\n    render() {\n        return (\n\t\t\t\t\t<div className=\"background\">\n\t\t\t\t\t<a href=\"/#/profile/:user\"><div className=\"profile-link\">{this.userNameShorten}</div></a>\n\t\t\t\t\t<h1 className=\"mrow\">Simple Studio</h1>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button onClick={this._onCreate} className=\"box-button\">Create</button>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<button onClick={this._onJoin} className=\"box-button\">Join Room</button>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<button onClick={this._onCollab} className=\"box-button\">Your Rooms</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ this.state.roomForm ? <RoomForm /> : \"\" }\n\t\t\t\t\t{ this.state.roomLinks ? <RoomLinks /> : \"\" }\n\t\t\t\t\t{ this.state.joinRoom ? <JoinRoom /> : \"\" }\n\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button onClick={this.logout} className=\"button\">Logout</button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport fire from '../config/Fire';\nimport '../css/login.scss'\n\nclass Profile extends Component {\n\tconstructor(props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.handleChange = this.handleChange.bind(this);\n\t\t\tthis.submit = this.submit.bind(this);\n\n\t\t\tthis.state = {\n\t\t\t\tuserName: '',\n\t\t\t\temail: '',\n\t\t\t\tpassword: ''\n\t\t\t};\n\t}\n\n\thandleChange(e) {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t}\n\n\tsubmit(s){\n\t\ts.preventDefault();\n\t\tconst user = fire.auth().currentUser;\n\t\tif(user){\n\t\tuser.updateProfile({\n  \t\tdisplayName: this.state.userName,\n\t\t}).then( (u) => {\n  \t\tconsole.log(\"Update Successful\")\n\t\t}).catch( (error) => {\n\t\t\tconsole.log(error)\n\t\t});\n\t}\n}\n\n\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"background\">\n\t\t\t<a href=\"/#/\"><div className=\"profile-link\">Home</div></a>\n\t\t\t<h1 className=\"mrow\">Update Profile &nbsp;</h1>\n\t\t\t<form className=\"sign-form\" onSubmit={this.submit}>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change User Name</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.userName} onChange={this.handleChange} type=\"userName\" \tname=\"userName\" placeholder=\"User Name\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change Email address</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.email} onChange={this.handleChange} type=\"email\" name=\"email\" placeholder=\"Enter email\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label className=\"title\">Change Password</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input className=\"input\" value={this.state.password} onChange={this.handleChange} type=\"password\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t</div>\n\t\t\t\t\t<button className=\"button\" type=\"submit\">Update Profile</button>\n\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Profile;\n","import React, { Component } from 'react';\nimport { HashRouter as Router, Route, Redirect, Switch } from 'react-router-dom'\nimport fire from './config/Fire';\nimport Room from './components/studio/Room';\nimport Chat from './components/Chat';\nimport NavBar from './components/NavBar';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport Profile from './components/Profile';\n\nclass Routes extends Component{\n  constructor() {\n    super();\n    this.state = ({\n      user: null,\n    });\n    this.authListener = this.authListener.bind(this);\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  authListener() {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user });\n        localStorage.setItem('user', user.uid);\n      } else {\n        this.setState({ user: null });\n        localStorage.removeItem('user');\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          {\n            !this.state.user ? <Switch>\n              <Route exact path='/' component={ Login } />,\n              <Redirect from='/:room' to='/' />\n            </Switch> : <Switch>\n\t\t\t\t\t\t\t<Route path='/profile/:user' component={ Profile } />,\n              <Route exact path='/' component={ Home } />,\n              <Route path='/profile/:user' component={ Profile } />,\n              <Route path='/:room' component={ Room } />\n            </Switch>\n          }\n        </div>\n      </Router>\n   );\n  }\n\n}\n\nexport default Routes\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport Routes from './Routes';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}